This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
4. Repository files, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

<additional_info>

</additional_info>

</file_summary>

<directory_structure>
.cursor/rules/api-integration.mdc
.cursor/rules/backend-development.mdc
.cursor/rules/best-practices.mdc
.cursor/rules/content-guidelines.mdc
.cursor/rules/development-workflow.mdc
.cursor/rules/development.mdc
.cursor/rules/frontend-development.mdc
.cursor/rules/layout-patterns.mdc
.cursor/rules/project-structure.mdc
.cursor/rules/routing.mdc
.cursor/rules/shebuilds-branding.mdc
.cursor/rules/shebuilds-content.mdc
.cursor/rules/styling-guidelines.mdc
.cursor/rules/styling.mdc
.cursor/rules/typescript-react.mdc
.cursor/rules/ui-components.mdc
.gitignore
API_DOCUMENTATION.md
components.json
eslint.config.js
index.html
package.json
postcss.config.js
public/placeholder.svg
public/robots.txt
README.md
server/.gitignore
server/env.example
server/nodemon.json
server/package.json
server/README.md
server/src/app.ts
server/src/config/database.ts
server/src/controllers/announcementController.ts
server/src/controllers/authController.ts
server/src/controllers/challengeController.ts
server/src/controllers/grantController.ts
server/src/controllers/passwordResetController.ts
server/src/controllers/profileController.ts
server/src/controllers/progressLogController.ts
server/src/controllers/projectController.ts
server/src/controllers/searchController.ts
server/src/controllers/uploadController.ts
server/src/middleware/auth.ts
server/src/middleware/validation.ts
server/src/models/Announcement.ts
server/src/models/Challenge.ts
server/src/models/Grant.ts
server/src/models/ProgressLog.ts
server/src/models/Project.ts
server/src/models/User.ts
server/src/routes/announcement.ts
server/src/routes/auth.ts
server/src/routes/challenges.ts
server/src/routes/grants.ts
server/src/routes/passwordReset.ts
server/src/routes/profile.ts
server/src/routes/progress.ts
server/src/routes/projects.ts
server/src/routes/search.ts
server/src/routes/upload.ts
server/src/server.ts
server/src/utils/emailService.ts
server/src/utils/uploadService.ts
server/tsconfig.json
shebuilds-content.md
src/App.css
src/App.tsx
src/components/About.tsx
src/components/CallToAction.tsx
src/components/Ecosystem.tsx
src/components/Events.tsx
src/components/Footer.tsx
src/components/Hero.tsx
src/components/Impact.tsx
src/components/Navbar.tsx
src/components/Partners.tsx
src/components/Sponsors.tsx
src/components/ui/accordion.tsx
src/components/ui/alert-dialog.tsx
src/components/ui/alert.tsx
src/components/ui/aspect-ratio.tsx
src/components/ui/avatar.tsx
src/components/ui/badge.tsx
src/components/ui/breadcrumb.tsx
src/components/ui/button.tsx
src/components/ui/calendar.tsx
src/components/ui/card.tsx
src/components/ui/carousel.tsx
src/components/ui/chart.tsx
src/components/ui/checkbox.tsx
src/components/ui/collapsible.tsx
src/components/ui/command.tsx
src/components/ui/context-menu.tsx
src/components/ui/dialog.tsx
src/components/ui/drawer.tsx
src/components/ui/dropdown-menu.tsx
src/components/ui/form.tsx
src/components/ui/hover-card.tsx
src/components/ui/input-otp.tsx
src/components/ui/input.tsx
src/components/ui/label.tsx
src/components/ui/menubar.tsx
src/components/ui/navigation-menu.tsx
src/components/ui/pagination.tsx
src/components/ui/popover.tsx
src/components/ui/progress.tsx
src/components/ui/radio-group.tsx
src/components/ui/resizable.tsx
src/components/ui/scroll-area.tsx
src/components/ui/select.tsx
src/components/ui/separator.tsx
src/components/ui/sheet.tsx
src/components/ui/sidebar.tsx
src/components/ui/skeleton.tsx
src/components/ui/slider.tsx
src/components/ui/sonner.tsx
src/components/ui/switch.tsx
src/components/ui/table.tsx
src/components/ui/tabs.tsx
src/components/ui/textarea.tsx
src/components/ui/toast.tsx
src/components/ui/toaster.tsx
src/components/ui/toggle-group.tsx
src/components/ui/toggle.tsx
src/components/ui/tooltip.tsx
src/components/ui/use-toast.ts
src/components/Values.tsx
src/hooks/use-mobile.tsx
src/hooks/use-toast.ts
src/index.css
src/lib/api.ts
src/lib/utils.ts
src/main.tsx
src/pages/Admin.tsx
src/pages/ChallengeDetail.tsx
src/pages/Challenges.tsx
src/pages/Contact.tsx
src/pages/CreateProject.tsx
src/pages/Dashboard.tsx
src/pages/EditProject.tsx
src/pages/ForgotPassword.tsx
src/pages/GrantApply.tsx
src/pages/GrantDetail.tsx
src/pages/Grants.tsx
src/pages/Index.tsx
src/pages/Login.tsx
src/pages/NotFound.tsx
src/pages/Privacy.tsx
src/pages/Profile.tsx
src/pages/ProfileSetup.tsx
src/pages/ProgressLogCreate.tsx
src/pages/ProgressLogs.tsx
src/pages/ProjectDetail.tsx
src/pages/Projects.tsx
src/pages/PublicProfile.tsx
src/pages/Register.tsx
src/pages/ResetPassword.tsx
src/pages/Search.tsx
src/pages/Terms.tsx
src/services/projectService.ts
src/vite-env.d.ts
tailwind.config.ts
tsconfig.app.json
tsconfig.json
tsconfig.node.json
vite.config.ts
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="src/pages/EditProject.tsx">
import React, { useState, useEffect } from 'react';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Textarea } from '@/components/ui/textarea';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import { Badge } from '@/components/ui/badge';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Label } from '@/components/ui/label';
import { Switch } from '@/components/ui/switch';
import { ArrowLeft, Plus, X, Save } from 'lucide-react';
import { api } from '@/lib/api';
import { useNavigate, useParams } from 'react-router-dom';
import { toast } from '@/hooks/use-toast';
import Navbar from '../components/Navbar';

interface EditProjectForm {
  title: string;
  description: string;
  category: string;
  status: 'draft' | 'in-progress' | 'completed' | 'archived';
  visibility: 'public' | 'private';
  tags: string[];
  location: string;
  teamSize: number;
  startDate: string;
  endDate?: string;
  objectives: string;
  challenges: string;
  impact: string;
  technologies: string[];
  budget: number;
  website?: string;
  github?: string;
  linkedin?: string;
}

const EditProject: React.FC = () => {
  const { id } = useParams<{ id: string }>();
  const navigate = useNavigate();
  const isLoggedIn = Boolean(localStorage.getItem('token'));

  const [formData, setFormData] = useState<EditProjectForm | null>(null);
  const [newTag, setNewTag] = useState('');
  const [newTechnology, setNewTechnology] = useState('');
  const [loading, setLoading] = useState(true);
  const [saving, setSaving] = useState(false);

  const categories = [
    'technology',
    'healthcare',
    'education',
    'environment',
    'social-impact',
    'business',
    'other'
  ];

  const locations = [
    'New York, NY',
    'San Francisco, CA',
    'Los Angeles, CA',
    'Chicago, IL',
    'Austin, TX',
    'Seattle, WA',
    'Boston, MA',
    'Denver, CO',
    'Atlanta, GA',
    'Miami, FL',
    'Remote',
    'Other'
  ];

  useEffect(() => {
    const fetchProject = async () => {
      try {
        setLoading(true);
        const response = await api.get(`/projects/${id}`);
        const project = response.data.project || response.data;
        setFormData({
          title: project.title || '',
          description: project.description || '',
          category: project.category || '',
          status: project.status || 'draft',
          visibility: project.visibility || 'public',
          tags: project.tags || [],
          location: project.location || '',
          teamSize: project.teamSize || 1,
          startDate: project.startDate || '',
          endDate: project.endDate || '',
          objectives: project.objectives || '',
          challenges: project.challenges || '',
          impact: project.impact || '',
          technologies: project.technologies || [],
          budget: project.budget || 0,
          website: project.website || '',
          github: project.github || '',
          linkedin: project.linkedin || '',
        });
      } catch (error) {
        toast({
          title: 'Error',
          description: 'Failed to load project for editing.',
          variant: 'destructive',
        });
        navigate('/projects');
      } finally {
        setLoading(false);
      }
    };
    if (id) fetchProject();
  }, [id, navigate]);

  const handleInputChange = (field: keyof EditProjectForm, value: any) => {
    setFormData(prev => prev ? ({ ...prev, [field]: value }) : prev);
  };

  const handleAddTag = () => {
    if (formData && newTag.trim() && !formData.tags.includes(newTag.trim())) {
      handleInputChange('tags', [...formData.tags, newTag.trim()]);
      setNewTag('');
    }
  };

  const handleRemoveTag = (tagToRemove: string) => {
    if (formData) {
      handleInputChange('tags', formData.tags.filter(tag => tag !== tagToRemove));
    }
  };

  const handleAddTechnology = () => {
    if (formData && newTechnology.trim() && !formData.technologies.includes(newTechnology.trim())) {
      handleInputChange('technologies', [...formData.technologies, newTechnology.trim()]);
      setNewTechnology('');
    }
  };

  const handleRemoveTechnology = (techToRemove: string) => {
    if (formData) {
      handleInputChange('technologies', formData.technologies.filter(tech => tech !== techToRemove));
    }
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    if (!formData) return;
    if (!formData.title || !formData.description || !formData.category) {
      toast({
        title: 'Validation Error',
        description: 'Please fill in all required fields.',
        variant: 'destructive',
      });
      return;
    }
    try {
      setSaving(true);
      await api.put(`/projects/${id}`, formData);
      toast({
        title: 'Success',
        description: 'Project updated successfully!',
      });
      navigate(`/projects/${id}`);
    } catch (error: any) {
      toast({
        title: 'Error',
        description: error.response?.data?.message || 'Failed to update project. Please try again.',
        variant: 'destructive',
      });
    } finally {
      setSaving(false);
    }
  };

  if (!isLoggedIn) {
    return (
      <div className="min-h-screen bg-white">
        <div className="px-6 py-16">
          <div className="max-w-2xl mx-auto text-center">
            <h1 className="text-4xl font-light text-gray-900 mb-4 font-martian">Sign in Required</h1>
            <p className="text-lg text-gray-600 mb-8 font-inter">You need to be signed in to edit a project.</p>
            <Button 
              onClick={() => navigate('/login')}
              className="bg-amber-800 hover:bg-amber-900 text-white px-8 py-3 text-base font-medium rounded-full font-inter"
            >
              Sign In
            </Button>
          </div>
        </div>
      </div>
    );
  }

  if (loading || !formData) {
    return (
      <div className="min-h-screen bg-white">
        <div className="px-6 py-16">
          <div className="max-w-4xl mx-auto">
            <div className="animate-pulse">
              <div className="h-8 bg-gray-200 rounded w-1/4 mb-6"></div>
              <div className="h-12 bg-gray-200 rounded w-3/4 mb-4"></div>
              <div className="h-4 bg-gray-200 rounded w-1/2 mb-8"></div>
              <div className="space-y-4">
                {[...Array(3)].map((_, i) => (
                  <div key={i} className="h-32 bg-gray-200 rounded"></div>
                ))}
              </div>
            </div>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-white">
      <Navbar />
      {/* Page Content */}
      <div className="px-6 py-16">
        <div className="max-w-4xl mx-auto">
          {/* Header */}
          <div className="mb-8">
            <Button
              variant="ghost"
              onClick={() => navigate(`/projects/${id}`)}
              className="mb-6 text-gray-600 hover:text-gray-900 font-inter"
            >
              <ArrowLeft className="w-4 h-4 mr-2" />
              Back to Project
            </Button>
            <h1 className="text-6xl md:text-7xl font-light mb-8 text-gray-900 leading-tight font-martian">
              Edit Project
            </h1>
            <p className="text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl font-inter font-light">
              Update your project details below
            </p>
          </div>

          <form onSubmit={handleSubmit} className="space-y-8">
            {/* Basic Information */}
            <Card className="border border-gray-100">
              <CardHeader>
                <CardTitle className="text-2xl font-martian">Basic Information</CardTitle>
                <CardDescription className="font-inter">Edit your project information</CardDescription>
              </CardHeader>
              <CardContent className="space-y-6">
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div className="space-y-2">
                    <Label htmlFor="title" className="font-inter">Project Title *</Label>
                    <Input
                      id="title"
                      value={formData.title}
                      onChange={(e) => handleInputChange('title', e.target.value)}
                      placeholder="Enter your project title"
                      className="font-inter"
                    />
                  </div>
                  <div className="space-y-2">
                    <Label htmlFor="category" className="font-inter">Category *</Label>
                    <Select value={formData.category} onValueChange={(value) => handleInputChange('category', value)}>
                      <SelectTrigger>
                        <SelectValue placeholder="Select category" />
                      </SelectTrigger>
                      <SelectContent>
                        {categories.map((category) => (
                          <SelectItem key={category} value={category}>
                            {category.charAt(0).toUpperCase() + category.slice(1).replace('-', ' ')}
                          </SelectItem>
                        ))}
                      </SelectContent>
                    </Select>
                  </div>
                </div>
                <div className="space-y-2">
                  <Label htmlFor="description" className="font-inter">Description *</Label>
                  <Textarea
                    id="description"
                    value={formData.description}
                    onChange={(e) => handleInputChange('description', e.target.value)}
                    placeholder="Describe your project in detail..."
                    rows={4}
                    className="font-inter"
                  />
                </div>
                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                  <div className="space-y-2">
                    <Label htmlFor="location" className="font-inter">Location</Label>
                    <Select value={formData.location} onValueChange={(value) => handleInputChange('location', value)}>
                      <SelectTrigger>
                        <SelectValue placeholder="Select location" />
                      </SelectTrigger>
                      <SelectContent>
                        {locations.map((location) => (
                          <SelectItem key={location} value={location}>
                            {location}
                          </SelectItem>
                        ))}
                      </SelectContent>
                    </Select>
                  </div>
                  <div className="space-y-2">
                    <Label htmlFor="teamSize" className="font-inter">Team Size</Label>
                    <Input
                      id="teamSize"
                      type="number"
                      min="1"
                      value={formData.teamSize}
                      onChange={(e) => handleInputChange('teamSize', parseInt(e.target.value))}
                      className="font-inter"
                    />
                  </div>
                  <div className="space-y-2">
                    <Label htmlFor="budget" className="font-inter">Budget (USD)</Label>
                    <Input
                      id="budget"
                      type="number"
                      min="0"
                      value={formData.budget}
                      onChange={(e) => handleInputChange('budget', parseInt(e.target.value))}
                      placeholder="0"
                      className="font-inter"
                    />
                  </div>
                </div>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div className="space-y-2">
                    <Label htmlFor="startDate" className="font-inter">Start Date</Label>
                    <Input
                      id="startDate"
                      type="date"
                      value={formData.startDate}
                      onChange={(e) => handleInputChange('startDate', e.target.value)}
                      className="font-inter"
                    />
                  </div>
                  <div className="space-y-2">
                    <Label htmlFor="endDate" className="font-inter">End Date (Optional)</Label>
                    <Input
                      id="endDate"
                      type="date"
                      value={formData.endDate}
                      onChange={(e) => handleInputChange('endDate', e.target.value)}
                      className="font-inter"
                    />
                  </div>
                </div>
              </CardContent>
            </Card>
            {/* Tags and Technologies */}
            <Card className="border border-gray-100">
              <CardHeader>
                <CardTitle className="text-2xl font-martian">Tags & Technologies</CardTitle>
                <CardDescription className="font-inter">Edit tags and technologies</CardDescription>
              </CardHeader>
              <CardContent className="space-y-6">
                <div className="space-y-2">
                  <Label className="font-inter">Tags</Label>
                  <div className="flex flex-wrap gap-2 mb-2">
                    {formData.tags.map((tag, index) => (
                      <Badge key={index} variant="secondary" className="font-inter">
                        {tag}
                        <button
                          type="button"
                          onClick={() => handleRemoveTag(tag)}
                          className="ml-1 hover:text-red-600"
                        >
                          <X className="w-3 h-3" />
                        </button>
                      </Badge>
                    ))}
                  </div>
                  <div className="flex gap-2">
                    <Input
                      value={newTag}
                      onChange={(e) => setNewTag(e.target.value)}
                      placeholder="Add a tag..."
                      className="font-inter"
                      onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), handleAddTag())}
                    />
                    <Button type="button" onClick={handleAddTag} variant="outline" className="font-inter">
                      <Plus className="w-4 h-4" />
                    </Button>
                  </div>
                </div>
                <div className="space-y-2">
                  <Label className="font-inter">Technologies Used</Label>
                  <div className="flex flex-wrap gap-2 mb-2">
                    {formData.technologies.map((tech, index) => (
                      <Badge key={index} variant="secondary" className="font-inter">
                        {tech}
                        <button
                          type="button"
                          onClick={() => handleRemoveTechnology(tech)}
                          className="ml-1 hover:text-red-600"
                        >
                          <X className="w-3 h-3" />
                        </button>
                      </Badge>
                    ))}
                  </div>
                  <div className="flex gap-2">
                    <Input
                      value={newTechnology}
                      onChange={(e) => setNewTechnology(e.target.value)}
                      placeholder="Add a technology..."
                      className="font-inter"
                      onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), handleAddTechnology())}
                    />
                    <Button type="button" onClick={handleAddTechnology} variant="outline" className="font-inter">
                      <Plus className="w-4 h-4" />
                    </Button>
                  </div>
                </div>
              </CardContent>
            </Card>
            {/* Project Details */}
            <Card className="border border-gray-100">
              <CardHeader>
                <CardTitle className="text-2xl font-martian">Project Details</CardTitle>
                <CardDescription className="font-inter">Edit project goals and impact</CardDescription>
              </CardHeader>
              <CardContent className="space-y-6">
                <div className="space-y-2">
                  <Label htmlFor="objectives" className="font-inter">Project Objectives</Label>
                  <Textarea
                    id="objectives"
                    value={formData.objectives}
                    onChange={(e) => handleInputChange('objectives', e.target.value)}
                    placeholder="What are the main goals of your project?"
                    rows={3}
                    className="font-inter"
                  />
                </div>
                <div className="space-y-2">
                  <Label htmlFor="challenges" className="font-inter">Challenges & Solutions</Label>
                  <Textarea
                    id="challenges"
                    value={formData.challenges}
                    onChange={(e) => handleInputChange('challenges', e.target.value)}
                    placeholder="What challenges did you face and how did you solve them?"
                    rows={3}
                    className="font-inter"
                  />
                </div>
                <div className="space-y-2">
                  <Label htmlFor="impact" className="font-inter">Expected Impact</Label>
                  <Textarea
                    id="impact"
                    value={formData.impact}
                    onChange={(e) => handleInputChange('impact', e.target.value)}
                    placeholder="What impact do you expect your project to have?"
                    rows={3}
                    className="font-inter"
                  />
                </div>
              </CardContent>
            </Card>
            {/* Links */}
            <Card className="border border-gray-100">
              <CardHeader>
                <CardTitle className="text-2xl font-martian">Links</CardTitle>
                <CardDescription className="font-inter">Edit project links</CardDescription>
              </CardHeader>
              <CardContent className="space-y-6">
                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                  <div className="space-y-2">
                    <Label htmlFor="website" className="font-inter">Website</Label>
                    <Input
                      id="website"
                      type="url"
                      value={formData.website}
                      onChange={(e) => handleInputChange('website', e.target.value)}
                      placeholder="https://your-project.com"
                      className="font-inter"
                    />
                  </div>
                  <div className="space-y-2">
                    <Label htmlFor="github" className="font-inter">GitHub</Label>
                    <Input
                      id="github"
                      type="url"
                      value={formData.github}
                      onChange={(e) => handleInputChange('github', e.target.value)}
                      placeholder="https://github.com/username/repo"
                      className="font-inter"
                    />
                  </div>
                  <div className="space-y-2">
                    <Label htmlFor="linkedin" className="font-inter">LinkedIn</Label>
                    <Input
                      id="linkedin"
                      type="url"
                      value={formData.linkedin}
                      onChange={(e) => handleInputChange('linkedin', e.target.value)}
                      placeholder="https://linkedin.com/in/username"
                      className="font-inter"
                    />
                  </div>
                </div>
              </CardContent>
            </Card>
            {/* Settings */}
            <Card className="border border-gray-100">
              <CardHeader>
                <CardTitle className="text-2xl font-martian">Settings</CardTitle>
                <CardDescription className="font-inter">Edit project visibility and status</CardDescription>
              </CardHeader>
              <CardContent className="space-y-6">
                <div className="flex items-center justify-between">
                  <div className="space-y-0.5">
                    <Label className="font-inter">Public Project</Label>
                    <p className="text-sm text-gray-600 font-inter">Make your project visible to the community</p>
                  </div>
                  <Switch
                    checked={formData.visibility === 'public'}
                    onCheckedChange={(checked) => handleInputChange('visibility', checked ? 'public' : 'private')}
                  />
                </div>
              </CardContent>
            </Card>
            {/* Submit Button */}
            <div className="flex flex-col sm:flex-row gap-4 justify-center">
              <Button
                type="submit"
                disabled={saving}
                className="bg-amber-800 hover:bg-amber-900 text-white px-8 py-3 text-base font-medium rounded-full font-inter"
              >
                {saving ? 'Saving...' : 'Save Changes'}
              </Button>
            </div>
          </form>
        </div>
      </div>
    </div>
  );
};

export default EditProject;
</file>

<file path=".cursor/rules/api-integration.mdc">
# API Integration Guidelines

## Backend API Endpoints

### Authentication
- `POST /api/auth/register` - User registration
- `POST /api/auth/login` - User login
- `POST /api/auth/logout` - User logout
- `POST /api/auth/forgot-password` - Password reset request
- `POST /api/auth/reset-password` - Password reset

### User Management
- `GET /api/users/profile` - Get user profile
- `PUT /api/users/profile` - Update user profile
- `GET /api/users/:username` - Get public user profile

### Projects
- `GET /api/projects` - List projects with filtering
- `POST /api/projects` - Create new project
- `GET /api/projects/:id` - Get project details
- `PUT /api/projects/:id` - Update project
- `DELETE /api/projects/:id` - Delete project

### Grants
- `GET /api/grants` - List available grants
- `POST /api/grants` - Apply for grant
- `GET /api/grants/:id` - Get grant details
- `PUT /api/grants/:id/status` - Update grant status (admin)

### Challenges
- `GET /api/challenges` - List challenges
- `POST /api/challenges` - Create challenge (admin)
- `GET /api/challenges/:id` - Get challenge details
- `POST /api/challenges/:id/register` - Register for challenge
- `POST /api/challenges/:id/submit` - Submit challenge entry

### File Uploads
- `POST /api/upload` - Upload files to Cloudinary
- Supports images, documents, and project files

### Search & Analytics
- `GET /api/search/users` - Search users
- `GET /api/search/projects` - Search projects
- `GET /api/analytics/popular-skills` - Get popular skills
- `GET /api/analytics/platform-stats` - Get platform statistics

## Frontend Integration

### API Client Setup
- Use TanStack Query for server state management
- Create API client with base URL configuration
- Handle authentication tokens in requests
- Implement proper error handling and loading states

### Authentication Flow
- Store JWT tokens securely (httpOnly cookies or secure storage)
- Implement automatic token refresh
- Handle authentication state globally
- Redirect unauthenticated users appropriately

### Data Fetching Patterns
- Use React Query for caching and synchronization
- Implement optimistic updates where appropriate
- Handle loading and error states consistently
- Use proper TypeScript interfaces for API responses

### File Upload Integration
- Use FormData for multipart uploads
- Show upload progress indicators
- Handle upload errors gracefully
- Validate file types and sizes on frontend

### Real-time Features
- Consider WebSocket integration for real-time updates
- Implement notifications for grant/challenge updates
- Use polling for data that changes frequently
description:
globs:
alwaysApply: false
---
</file>

<file path=".cursor/rules/backend-development.mdc">
# Backend Development Guidelines

## Node.js + Express + TypeScript

### Project Structure
- Entry point: [server/src/index.ts](mdc:server/src/index.ts)
- Models: [server/src/models/](mdc:server/src/models/)
- Controllers: [server/src/controllers/](mdc:server/src/controllers/)
- Routes: [server/src/routes/](mdc:server/src/routes/)
- Middleware: [server/src/middleware/](mdc:server/src/middleware/)
- Services: [server/src/services/](mdc:server/src/services/)
- Config: [server/src/config/](mdc:server/src/config/)

### Database Models (Mongoose)
- Follow the pattern in [server/src/models/User.ts](mdc:server/src/models/User.ts)
- Use TypeScript interfaces extending Document
- Define indexes only once (avoid duplicate index warnings)
- Use proper validation and middleware hooks
- Reference existing models: [Project.ts](mdc:server/src/models/Project.ts), [Grant.ts](mdc:server/src/models/Grant.ts), [Challenge.ts](mdc:server/src/models/Challenge.ts)

### API Controllers
- Follow the pattern in [server/src/controllers/authController.ts](mdc:server/src/controllers/authController.ts)
- Use async/await with proper error handling
- Return consistent response formats
- Use TypeScript for request/response types
- Implement proper validation using middleware

### Authentication & Authorization
- JWT tokens for authentication
- Middleware in [server/src/middleware/auth.ts](mdc:server/src/middleware/auth.ts)
- Password hashing with bcrypt
- Role-based access control where needed

### File Uploads
- Use Cloudinary for image/file storage
- Multer for handling multipart/form-data
- Service in [server/src/services/uploadService.ts](mdc:server/src/services/uploadService.ts)

### Email Services
- Nodemailer for email sending
- Templates in [server/src/services/emailService.ts](mdc:server/src/services/emailService.ts)
- Environment variables for SMTP configuration

### Environment Configuration
- Use [server/.env.example](mdc:server/.env.example) as template
- Database connection in [server/src/config/database.ts](mdc:server/src/config/database.ts)
- JWT configuration in [server/src/config/jwt.ts](mdc:server/src/config/jwt.ts)

### Development Commands
- Start development: `npm run dev` (in server directory)
- Build: `npm run build`
- TypeScript configuration: [server/tsconfig.json](mdc:server/tsconfig.json)
description:
globs:
alwaysApply: false
---
</file>

<file path=".cursor/rules/best-practices.mdc">
# Development Best Practices

## Code Organization
- Keep components focused and single-purpose
- Use proper TypeScript interfaces for all props
- Follow the established file structure
- Use meaningful component and variable names

## Performance
- Use React.memo for expensive components
- Implement proper key props for lists
- Optimize images and assets
- Use lazy loading for large components

## Accessibility
- Use semantic HTML elements
- Include proper ARIA labels
- Ensure keyboard navigation works
- Maintain proper color contrast ratios
- Test with screen readers

## State Management
- Use React hooks for local state
- Use TanStack Query for server state
- Keep state as close to where it's used as possible
- Avoid prop drilling by using context when needed

## Error Handling
- Implement error boundaries for React components
- Use try-catch blocks for async operations
- Provide meaningful error messages
- Log errors appropriately

## Testing
- Write unit tests for utility functions
- Test component behavior, not implementation
- Use React Testing Library for component tests
- Test accessibility features

## Code Quality
- Follow ESLint rules
- Use Prettier for consistent formatting
- Write self-documenting code
- Add comments for complex logic
- Keep functions small and focused

## Git Workflow
- Write descriptive commit messages
- Use feature branches for new development
- Review code before merging
- Keep commits atomic and focused

## Security
- Validate all user inputs
- Sanitize data before rendering
- Use HTTPS in production
- Follow OWASP guidelines
- Keep dependencies updated
description:
globs:
alwaysApply: false
---
</file>

<file path=".cursor/rules/content-guidelines.mdc">
---
alwaysApply: false
---
</file>

<file path=".cursor/rules/development-workflow.mdc">
# Development Workflow

## Environment Setup

### Prerequisites
- Node.js 18+ and npm
- MongoDB database
- Cloudinary account for file uploads
- Email service (Gmail SMTP recommended)

### Frontend Setup
```bash
npm install
npm run dev
```

### Backend Setup
```bash
cd server
npm install
cp .env.example .env
# Configure environment variables
npm run dev
```

## Development Process

### Code Organization
- **Frontend**: React components in [src/components/](mdc:src/components/)
- **Backend**: Express routes in [server/src/routes/](mdc:server/src/routes/)
- **Database**: Mongoose models in [server/src/models/](mdc:server/src/models/)
- **Configuration**: Environment variables and config files

### Git Workflow
- Use descriptive commit messages
- Create feature branches for new functionality
- Test changes before merging to main
- Keep commits atomic and focused

### Testing Strategy
- Unit tests for utility functions
- Integration tests for API endpoints
- Component tests for React components
- E2E tests for critical user flows

### Code Quality
- Use ESLint for code linting
- Follow TypeScript strict mode
- Use Prettier for code formatting
- Maintain consistent naming conventions

## Deployment

### Frontend Deployment
- Build with `npm run build`
- Deploy to Vercel, Netlify, or similar
- Configure environment variables for API endpoints

### Backend Deployment
- Use PM2 or similar process manager
- Set up MongoDB Atlas for production database
- Configure Cloudinary for file storage
- Set up email service for production

### Environment Variables
- Frontend: API base URL, feature flags
- Backend: Database URI, JWT secret, email config, Cloudinary credentials

## Monitoring & Maintenance

### Performance
- Monitor API response times
- Optimize database queries
- Use proper indexing strategies
- Implement caching where appropriate

### Security
- Validate all user inputs
- Use HTTPS in production
- Implement rate limiting
- Regular security audits

### Database Management
- Regular backups
- Monitor database performance
- Clean up old data periodically
- Maintain proper indexes

## Troubleshooting

### Common Issues
- CORS errors: Check backend CORS configuration
- Authentication issues: Verify JWT token handling
- File upload problems: Check Cloudinary configuration
- Email delivery: Verify SMTP settings

### Debugging
- Use console.log for development debugging
- Implement proper error logging
- Use browser dev tools for frontend issues
- Use MongoDB Compass for database debugging
description:
globs:
alwaysApply: false
---
</file>

<file path=".cursor/rules/development.mdc">
# Development Workflow

## Available Scripts
From [package.json](mdc:package.json):
- `npm run dev` - Start development server
- `npm run build` - Build for production
- `npm run build:dev` - Build for development
- `npm run lint` - Run ESLint
- `npm run preview` - Preview production build

## Development Server
- Run `npm run dev` to start the Vite development server
- Hot module replacement is enabled
- Server runs on localhost with automatic reloading

## Build Process
- Uses Vite for fast builds
- TypeScript compilation is handled by Vite
- Tailwind CSS is processed during build
- Output goes to `dist/` directory

## Linting
- ESLint is configured for TypeScript and React
- Run `npm run lint` to check code quality
- Follow the ESLint rules defined in [eslint.config.js](mdc:eslint.config.js)

## File Structure Conventions
- Components: PascalCase (e.g., `Hero.tsx`)
- Pages: PascalCase (e.g., `Index.tsx`)
- Utilities: camelCase (e.g., `utils.ts`)
- Hooks: camelCase with `use` prefix (e.g., `use-mobile.tsx`)

## Import Aliases
- `@/` points to `src/` directory
- Configured in [vite.config.ts](mdc:vite.config.ts) and [tsconfig.json](mdc:tsconfig.json)

## TypeScript Configuration
- Strict mode enabled
- Path mapping configured for `@/` alias
- React JSX transform enabled
description:
globs:
alwaysApply: false
---
</file>

<file path=".cursor/rules/frontend-development.mdc">
# Frontend Development Guidelines

## React + TypeScript Best Practices

### Component Structure
- Use functional components with TypeScript interfaces for props
- Export interfaces alongside components for reusability
- Use proper TypeScript types for all props and state
- Follow the component structure in [src/components/Hero.tsx](mdc:src/components/Hero.tsx) as reference

### State Management
- Use React hooks (useState, useEffect, useContext) appropriately
- For complex state, consider custom hooks in [src/hooks/](mdc:src/hooks/)
- Use TanStack Query for server state management when connecting to backend

### Routing
- Use React Router DOM for navigation
- Route definitions are in [src/App.tsx](mdc:src/App.tsx)
- Page components are in [src/pages/](mdc:src/pages/)

### Styling with Tailwind CSS
- Use Tailwind utility classes for styling
- Configuration is in [tailwind.config.ts](mdc:tailwind.config.ts)
- Use shadcn/ui components from [src/components/ui/](mdc:src/components/ui/)
- Follow responsive design patterns (mobile-first)
- Use consistent spacing and color schemes

### shadcn/ui Components
- Import components from `@/components/ui/`
- Use proper TypeScript interfaces for component props
- Follow the pattern established in existing components
- Reference [src/components/ui/button.tsx](mdc:src/components/ui/button.tsx) for examples

### File Organization
- Components in [src/components/](mdc:src/components/)
- Pages in [src/pages/](mdc:src/pages/)
- Hooks in [src/hooks/](mdc:src/hooks/)
- Utilities in [src/lib/](mdc:src/lib/)

### Build and Development
- Development server: `npm run dev`
- Build: `npm run build`
- Vite configuration: [vite.config.ts](mdc:vite.config.ts)
- TypeScript configuration: [tsconfig.json](mdc:tsconfig.json)
description:
globs:
alwaysApply: false
---
</file>

<file path=".cursor/rules/layout-patterns.mdc">
---
title: Layout Patterns
---

# SheBuilds Layout Patterns

## Section Layouts

### Alternating Image-Text Layout
For values and feature sections, use an alternating image-text layout:

```jsx
<div className={`flex flex-col ${imageLeft ? 'md:flex-row' : 'md:flex-row-reverse'} items-center gap-12`}>
  {/* Image Side */}
  <div className="w-full md:w-1/2">
    <div className="relative">
      <div className="absolute inset-0 bg-gradient-to-br from-orange-200 to-amber-100 rounded-2xl transform rotate-3 scale-95 opacity-50"></div>
      <div className="relative overflow-hidden rounded-2xl shadow-xl">
        <img src={image} alt={title} className="w-full h-auto object-cover" />
      </div>
    </div>
  </div>
  
  {/* Text Side */}
  <div className="w-full md:w-1/2">
    <h3 className="text-3xl font-light text-gray-900 mb-4 font-martian">{title}</h3>
    <p className="text-gray-600 mb-8 font-inter leading-relaxed">{description}</p>
  </div>
</div>
```

### Grid Layout
For statistics, values, or feature cards:

```jsx
<div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
  {items.map((item, index) => (
    <div key={index} className="bg-white rounded-lg p-6 shadow-sm">
      <h4 className="text-xl font-medium text-gray-900 mb-3">{item.title}</h4>
      <p className="text-gray-600">{item.description}</p>
    </div>
  ))}
</div>
```

### Header Section
Standard section header layout:

```jsx
<div className="text-center mb-16">
  <p className="text-sm text-gray-500 mb-4 font-inter">
    {subtitle}
  </p>
  <h2 className="text-4xl md:text-5xl font-light text-gray-900 mb-6 font-martian">
    {title}
  </h2>
  <p className="text-xl text-gray-600 max-w-3xl mx-auto font-inter">
    {description}
  </p>
</div>
```

</div>
```
</file>

<file path=".cursor/rules/routing.mdc">
# React Router Routing Guidelines

## Routing Setup
The main routing is configured in [src/App.tsx](mdc:src/App.tsx) using React Router DOM.

## Route Structure
```tsx
<Routes>
  <Route path="/" element={<Index />} />
  <Route path="/contact" element={<Contact />} />
  <Route path="/privacy" element={<PrivacyPolicy />} />
  <Route path="/terms" element={<TermsOfService />} />
  <Route path="*" element={<NotFound />} />
</Routes>
```

## Navigation Patterns
- Use `Link` component for internal navigation
- Use `useNavigate` hook for programmatic navigation
- Use `useLocation` hook to access current route

## Page Components
- All page components are in [src/pages/](mdc:src/pages/)
- Each page should be a default export
- Use proper TypeScript typing for page components

## Example Navigation
```tsx
import { Link, useNavigate } from 'react-router-dom';

const Navigation = () => {
  const navigate = useNavigate();
  
  return (
    <nav>
      <Link to="/">Home</Link>
      <Link to="/contact">Contact</Link>
      <button onClick={() => navigate('/privacy')}>
        Privacy Policy
      </button>
    </nav>
  );
};
```

## Adding New Routes
1. Create the page component in [src/pages/](mdc:src/pages/)
2. Add the route to [src/App.tsx](mdc:src/App.tsx)
3. Place custom routes above the catch-all "*" route
description:
globs:
alwaysApply: false
---
</file>

<file path=".cursor/rules/shebuilds-branding.mdc">
# SheBuilds Branding & Content Guidelines

## Brand Identity
- **Mission**: Empowering women in tech through community, mentorship, and opportunities
- **Values**: Inclusivity, collaboration, innovation, empowerment
- **Target Audience**: Women in tech, students, professionals, allies

## Content Guidelines

### Messaging
- Use empowering and inclusive language
- Highlight women's achievements and contributions
- Focus on community and collaboration
- Emphasize learning and growth opportunities
- Avoid gender stereotypes and bias

### Visual Design
- Use the color scheme defined in [tailwind.config.ts](mdc:tailwind.config.ts)
- Maintain consistent typography and spacing
- Use high-quality images that represent diversity
- Ensure accessibility standards are met

### Content Structure
- Reference [shebuilds-content.md](mdc:shebuilds-content.md) for approved content
- Use consistent terminology across the platform
- Include clear calls-to-action
- Provide value-driven content

## Platform Features

### Builder's Arena
- **Purpose**: Platform for women to showcase projects, apply for grants, and participate in challenges
- **Key Features**: Project submissions, grant applications, challenge participation, progress tracking
- **User Journey**: Registration → Profile creation → Project submission → Grant/Challenge participation → Community engagement

### Community Guidelines
- Foster inclusive and supportive environment
- Encourage constructive feedback and collaboration
- Maintain professional and respectful communication
- Celebrate diverse perspectives and experiences

### Content Moderation
- Review user-generated content for appropriateness
- Ensure projects and submissions align with community values
- Moderate comments and interactions
- Provide clear guidelines for acceptable content

## Technical Implementation
- Use consistent error messages and user feedback
- Implement proper form validation with helpful messages
- Ensure responsive design for all devices
- Maintain accessibility standards (WCAG compliance)
- Use proper alt text for images and icons
description:
globs:
alwaysApply: false
---
</file>

<file path=".cursor/rules/styling-guidelines.mdc">
# SheBuilds Styling Guidelines

## Design System

- Use the existing color scheme with orange/amber as primary accent colors
- Typography uses:
  - "font-martian" for headings (lighter weight for main headings)
  - "font-inter" for body text

## CSS Patterns

- Use Tailwind CSS for styling with consistent class patterns
- Maintain responsive design with mobile-first approach
- Animation classes follow these naming conventions:
  - "animate-float" for floating elements
  - "animate-pulse-orange" for pulsing text effects

## Component Structure

- Section components should include:
  - Intersection Observer for scroll-based animations
  - Consistent padding: "py-16 px-6" or "py-20 px-6"
  - Wrapper with "max-w-6xl mx-auto"

## Animation Effects

- Use smooth transitions with consistent durations:
  - "transition-all duration-300" for hover effects
  - "transition-all duration-1000" for scroll-reveal effects
  
- Components should fade and slide in with staggered delays:
  ```jsx
  <div className={`transition-all duration-1000 delay-${delay} ${
    isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'
  }`}>
  ```
</file>

<file path=".cursor/rules/styling.mdc">
# Tailwind CSS and Styling Guidelines

## Tailwind CSS Usage
- Use Tailwind utility classes for styling
- Follow mobile-first responsive design
- Use the custom color palette defined in [tailwind.config.ts](mdc:tailwind.config.ts)
- Prefer utility classes over custom CSS when possible

## Custom Fonts
- Use `font-inter` for body text and general content
- Use `font-martian` for headings and special text
- Fonts are configured in [tailwind.config.ts](mdc:tailwind.config.ts)

## Color System
- Use the design system colors defined in Tailwind config
- Primary colors: gray-900, amber-800, orange-500
- Background: white, gray-50, gray-100
- Text: gray-900, gray-600, gray-700

## Responsive Design
- Use Tailwind's responsive prefixes (sm:, md:, lg:, xl:)
- Design mobile-first
- Test on multiple screen sizes

## Custom Animations
- Use Tailwind's built-in animations when possible
- For custom animations, add them to the component's style tag
- Use CSS keyframes for complex animations

## Component Styling Patterns
```tsx
// Good: Using Tailwind utilities
<div className="flex items-center justify-between px-6 py-4 border-b border-gray-100">
  <h1 className="text-6xl md:text-7xl font-light text-gray-900 font-martian">
    Heading
  </h1>
</div>

// Custom animations in style tag
<style dangerouslySetInnerHTML={{
  __html: `
    @keyframes custom-animation {
      from { opacity: 0; }
      to { opacity: 1; }
    }
  `
}} />
```
description:
globs:
alwaysApply: false
---
</file>

<file path=".cursor/rules/typescript-react.mdc">
# TypeScript and React Development Guidelines

## Component Structure
- Use functional components with TypeScript
- Export components as default exports
- Use proper TypeScript interfaces for props
- Import React when using JSX: `import React from 'react'`

## Import Patterns
- Use absolute imports with `@/` prefix for src directory
- Import UI components from `@/components/ui/`
- Import custom hooks from `@/hooks/`
- Import utilities from `@/lib/utils`

## TypeScript Best Practices
- Define interfaces for component props
- Use type inference when possible
- Prefer `interface` over `type` for object shapes
- Use proper typing for event handlers

## React Patterns
- Use React hooks (useState, useEffect, etc.)
- Implement proper error boundaries
- Use React.memo for performance optimization when needed
- Follow React naming conventions (PascalCase for components)

## Example Component Structure
```typescript
import React from 'react';
import { Button } from '@/components/ui/button';

interface ComponentProps {
  title: string;
  onClick?: () => void;
}

const Component: React.FC<ComponentProps> = ({ title, onClick }) => {
  return (
    <div>
      <h1>{title}</h1>
      <Button onClick={onClick}>Click me</Button>
    </div>
  );
};

export default Component;
```
description:
globs:
alwaysApply: false
---
</file>

<file path=".cursor/rules/ui-components.mdc">
# shadcn/ui Component Guidelines

## Available Components
All shadcn/ui components are available in [src/components/ui/](mdc:src/components/ui/):
- Button, Card, Dialog, Form components
- Navigation, Layout components (Accordion, Tabs, etc.)
- Feedback components (Toast, Alert, etc.)
- Data display components (Table, Badge, etc.)

## Import Pattern
```tsx
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader } from '@/components/ui/card';
```

## Component Usage
- Use the `Button` component for all buttons
- Use `Card` components for content containers
- Use `Dialog` for modals and overlays
- Use `Toast` for notifications (via useToast hook)

## Button Variants
- `default`: Primary actions
- `destructive`: Dangerous actions
- `outline`: Secondary actions
- `secondary`: Alternative styling
- `ghost`: Minimal styling
- `link`: Link-like appearance

## Form Components
- Use `Form` components with React Hook Form
- Use `Input`, `Textarea`, `Select` for form fields
- Use `Label` for form labels
- Use `Checkbox`, `RadioGroup` for selections

## Example Usage
```tsx
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';

const Component = () => {
  return (
    <Card>
      <CardHeader>
        <CardTitle>Title</CardTitle>
      </CardHeader>
      <CardContent>
        <Button variant="default" className="bg-amber-800 hover:bg-amber-900">
          Action
        </Button>
      </CardContent>
    </Card>
  );
};
```
description:
globs:
alwaysApply: false
---
</file>

<file path="components.json">
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "default",
  "rsc": false,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.ts",
    "css": "src/index.css",
    "baseColor": "slate",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  }
}
</file>

<file path="eslint.config.js">
import js from "@eslint/js";
import globals from "globals";
import reactHooks from "eslint-plugin-react-hooks";
import reactRefresh from "eslint-plugin-react-refresh";
import tseslint from "typescript-eslint";

export default tseslint.config(
  { ignores: ["dist"] },
  {
    extends: [js.configs.recommended, ...tseslint.configs.recommended],
    files: ["**/*.{ts,tsx}"],
    languageOptions: {
      ecmaVersion: 2020,
      globals: globals.browser,
    },
    plugins: {
      "react-hooks": reactHooks,
      "react-refresh": reactRefresh,
    },
    rules: {
      ...reactHooks.configs.recommended.rules,
      "react-refresh/only-export-components": [
        "warn",
        { allowConstantExport: true },
      ],
      "@typescript-eslint/no-unused-vars": "off",
    },
  }
);
</file>

<file path="index.html">
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SheBuilds - Empowering Women in Tech</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Martian+Mono:wght@100;200;300;400;500;600;700;800&display=swap" rel="stylesheet">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
</file>

<file path="postcss.config.js">
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
}
</file>

<file path="public/placeholder.svg">
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="1200" fill="none"><rect width="1200" height="1200" fill="#EAEAEA" rx="3"/><g opacity=".5"><g opacity=".5"><path fill="#FAFAFA" d="M600.709 736.5c-75.454 0-136.621-61.167-136.621-136.62 0-75.454 61.167-136.621 136.621-136.621 75.453 0 136.62 61.167 136.62 136.621 0 75.453-61.167 136.62-136.62 136.62Z"/><path stroke="#C9C9C9" stroke-width="2.418" d="M600.709 736.5c-75.454 0-136.621-61.167-136.621-136.62 0-75.454 61.167-136.621 136.621-136.621 75.453 0 136.62 61.167 136.62 136.621 0 75.453-61.167 136.62-136.62 136.62Z"/></g><path stroke="url(#a)" stroke-width="2.418" d="M0-1.209h553.581" transform="scale(1 -1) rotate(45 1163.11 91.165)"/><path stroke="url(#b)" stroke-width="2.418" d="M404.846 598.671h391.726"/><path stroke="url(#c)" stroke-width="2.418" d="M599.5 795.742V404.017"/><path stroke="url(#d)" stroke-width="2.418" d="m795.717 796.597-391.441-391.44"/><path fill="#fff" d="M600.709 656.704c-31.384 0-56.825-25.441-56.825-56.824 0-31.384 25.441-56.825 56.825-56.825 31.383 0 56.824 25.441 56.824 56.825 0 31.383-25.441 56.824-56.824 56.824Z"/><g clip-path="url(#e)"><path fill="#666" fill-rule="evenodd" d="M616.426 586.58h-31.434v16.176l3.553-3.554.531-.531h9.068l.074-.074 8.463-8.463h2.565l7.18 7.181V586.58Zm-15.715 14.654 3.698 3.699 1.283 1.282-2.565 2.565-1.282-1.283-5.2-5.199h-6.066l-5.514 5.514-.073.073v2.876a2.418 2.418 0 0 0 2.418 2.418h26.598a2.418 2.418 0 0 0 2.418-2.418v-8.317l-8.463-8.463-7.181 7.181-.071.072Zm-19.347 5.442v4.085a6.045 6.045 0 0 0 6.046 6.045h26.598a6.044 6.044 0 0 0 6.045-6.045v-7.108l1.356-1.355-1.282-1.283-.074-.073v-17.989h-38.689v23.43l-.146.146.146.147Z" clip-rule="evenodd"/></g><path stroke="#C9C9C9" stroke-width="2.418" d="M600.709 656.704c-31.384 0-56.825-25.441-56.825-56.824 0-31.384 25.441-56.825 56.825-56.825 31.383 0 56.824 25.441 56.824 56.825 0 31.383-25.441 56.824-56.824 56.824Z"/></g><defs><linearGradient id="a" x1="554.061" x2="-.48" y1=".083" y2=".087" gradientUnits="userSpaceOnUse"><stop stop-color="#C9C9C9" stop-opacity="0"/><stop offset=".208" stop-color="#C9C9C9"/><stop offset=".792" stop-color="#C9C9C9"/><stop offset="1" stop-color="#C9C9C9" stop-opacity="0"/></linearGradient><linearGradient id="b" x1="796.912" x2="404.507" y1="599.963" y2="599.965" gradientUnits="userSpaceOnUse"><stop stop-color="#C9C9C9" stop-opacity="0"/><stop offset=".208" stop-color="#C9C9C9"/><stop offset=".792" stop-color="#C9C9C9"/><stop offset="1" stop-color="#C9C9C9" stop-opacity="0"/></linearGradient><linearGradient id="c" x1="600.792" x2="600.794" y1="403.677" y2="796.082" gradientUnits="userSpaceOnUse"><stop stop-color="#C9C9C9" stop-opacity="0"/><stop offset=".208" stop-color="#C9C9C9"/><stop offset=".792" stop-color="#C9C9C9"/><stop offset="1" stop-color="#C9C9C9" stop-opacity="0"/></linearGradient><linearGradient id="d" x1="404.85" x2="796.972" y1="403.903" y2="796.02" gradientUnits="userSpaceOnUse"><stop stop-color="#C9C9C9" stop-opacity="0"/><stop offset=".208" stop-color="#C9C9C9"/><stop offset=".792" stop-color="#C9C9C9"/><stop offset="1" stop-color="#C9C9C9" stop-opacity="0"/></linearGradient><clipPath id="e"><path fill="#fff" d="M581.364 580.535h38.689v38.689h-38.689z"/></clipPath></defs></svg>
</file>

<file path="public/robots.txt">
User-agent: Googlebot
Allow: /

User-agent: Bingbot
Allow: /

User-agent: Twitterbot
Allow: /

User-agent: facebookexternalhit
Allow: /

User-agent: *
Allow: /
</file>

<file path="README.md">
# Welcome to your Lovable project

## Project info

**URL**: https://lovable.dev/projects/24b0a283-a877-4d96-84a3-5c1f95e518ec

## How can I edit this code?

There are several ways of editing your application.

**Use Lovable**

Simply visit the [Lovable Project](https://lovable.dev/projects/24b0a283-a877-4d96-84a3-5c1f95e518ec) and start prompting.

Changes made via Lovable will be committed automatically to this repo.

**Use your preferred IDE**

If you want to work locally using your own IDE, you can clone this repo and push changes. Pushed changes will also be reflected in Lovable.

The only requirement is having Node.js & npm installed - [install with nvm](https://github.com/nvm-sh/nvm#installing-and-updating)

Follow these steps:

```sh
# Step 1: Clone the repository using the project's Git URL.
git clone <YOUR_GIT_URL>

# Step 2: Navigate to the project directory.
cd <YOUR_PROJECT_NAME>

# Step 3: Install the necessary dependencies.
npm i

# Step 4: Start the development server with auto-reloading and an instant preview.
npm run dev
```

**Edit a file directly in GitHub**

- Navigate to the desired file(s).
- Click the "Edit" button (pencil icon) at the top right of the file view.
- Make your changes and commit the changes.

**Use GitHub Codespaces**

- Navigate to the main page of your repository.
- Click on the "Code" button (green button) near the top right.
- Select the "Codespaces" tab.
- Click on "New codespace" to launch a new Codespace environment.
- Edit files directly within the Codespace and commit and push your changes once you're done.

## What technologies are used for this project?

This project is built with:

- Vite
- TypeScript
- React
- shadcn-ui
- Tailwind CSS

## How can I deploy this project?

Simply open [Lovable](https://lovable.dev/projects/24b0a283-a877-4d96-84a3-5c1f95e518ec) and click on Share -> Publish.

## Can I connect a custom domain to my Lovable project?

Yes, you can!

To connect a domain, navigate to Project > Settings > Domains and click Connect Domain.

Read more here: [Setting up a custom domain](https://docs.lovable.dev/tips-tricks/custom-domain#step-by-step-guide)
</file>

<file path="server/.gitignore">
# Dependencies
node_modules/
npm-debug.log*
yarn-debug.log*
yarn-error.log*

# Environment variables
.env
.env.local
.env.development.local
.env.test.local
.env.production.local

# Build output
dist/
build/

# Logs
logs
*.log

# Runtime data
pids
*.pid
*.seed
*.pid.lock

# Coverage directory used by tools like istanbul
coverage/
*.lcov

# nyc test coverage
.nyc_output

# Dependency directories
node_modules/
jspm_packages/

# TypeScript cache
*.tsbuildinfo

# Optional npm cache directory
.npm

# Optional eslint cache
.eslintcache

# Microbundle cache
.rpt2_cache/
.rts2_cache_cjs/
.rts2_cache_es/
.rts2_cache_umd/

# Optional REPL history
.node_repl_history

# Output of 'npm pack'
*.tgz

# Yarn Integrity file
.yarn-integrity

# dotenv environment variables file
.env
.env.test

# parcel-bundler cache (https://parceljs.org/)
.cache
.parcel-cache

# Next.js build output
.next

# Nuxt.js build / generate output
.nuxt
dist

# Gatsby files
.cache/
public

# Storybook build outputs
.out
.storybook-out

# Temporary folders
tmp/
temp/

# Editor directories and files
.vscode/
.idea/
*.swp
*.swo
*~

# OS generated files
.DS_Store
.DS_Store?
._*
.Spotlight-V100
.Trashes
ehthumbs.db
Thumbs.db
</file>

<file path="server/env.example">
# Server Configuration
PORT=5000
NODE_ENV=development

# MongoDB Configuration
MONGODB_URI=mongodb://localhost:27017/shebuilds

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-here
JWT_EXPIRES_IN=7d

# Cloudinary Configuration (for file uploads)
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Configuration
CORS_ORIGIN=http://localhost:3000

# Email Configuration
EMAIL_FROM=testingbydivyansh@gmail.com
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=testingbydivyansh@gmail.com
SMTP_PASS=your-app-password
FRONTEND_URL=http://localhost:3000
</file>

<file path="server/nodemon.json">
{
  "watch": ["src"],
  "ext": "ts,js,json",
  "ignore": ["src/**/*.spec.ts"],
  "exec": "ts-node src/server.ts",
  "env": {
    "NODE_ENV": "development"
  }
}
</file>

<file path="server/package.json">
{
  "name": "shebuilds-server",
  "version": "1.0.0",
  "description": "Backend server for SheBuilds Builder's Arena platform",
  "main": "dist/server.js",
  "scripts": {
    "start": "node dist/server.js",
    "dev": "nodemon src/server.ts",
    "build": "tsc",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "keywords": [
    "shebuilds",
    "backend",
    "api",
    "builders",
    "community"
  ],
  "author": "SheBuilds Team",
  "license": "ISC",
  "dependencies": {
    "@types/nodemailer": "^6.4.17",
    "bcryptjs": "^2.4.3",
    "cloudinary": "^1.41.0",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "express": "^4.18.2",
    "express-rate-limit": "^7.1.5",
    "helmet": "^7.1.0",
    "jsonwebtoken": "^9.0.2",
    "mongoose": "^8.0.3",
    "morgan": "^1.10.0",
    "multer": "^1.4.5-lts.1",
    "nodemailer": "^7.0.5"
  },
  "devDependencies": {
    "@types/bcryptjs": "^2.4.6",
    "@types/cors": "^2.8.17",
    "@types/express": "^4.17.21",
    "@types/jsonwebtoken": "^9.0.5",
    "@types/morgan": "^1.9.10",
    "@types/multer": "^1.4.11",
    "@types/node": "^20.10.5",
    "nodemon": "^3.0.2",
    "ts-node": "^10.9.2",
    "typescript": "^5.3.3"
  }
}
</file>

<file path="server/README.md">
# SheBuilds Backend Server

Backend API server for the SheBuilds Builder's Arena platform - a community platform for builders (especially women/non-binary builders) to showcase portfolios, add projects, apply for grants, and participate in challenges.

## 🚀 Features

- **User Management**: Registration, authentication, profile management
- **Project Management**: CRUD operations for builder projects
- **Grant System**: Apply for and manage grants
- **Challenge System**: Participate in hackathons and challenges
- **Progress Tracking**: Log and track project progress
- **Portfolio Builder**: Custom portfolio pages for builders

## 🛠 Tech Stack

- **Runtime**: Node.js with TypeScript
- **Framework**: Express.js
- **Database**: MongoDB with Mongoose ODM
- **Authentication**: JWT tokens
- **Security**: Helmet, CORS, Rate limiting
- **File Upload**: Multer + Cloudinary
- **Validation**: Custom middleware validation

## 📁 Project Structure

```
server/
├── src/
│   ├── config/
│   │   └── database.ts          # MongoDB connection
│   ├── controllers/
│   │   ├── authController.ts     # Authentication logic
│   │   └── projectController.ts  # Project CRUD operations
│   ├── middleware/
│   │   ├── auth.ts              # JWT authentication
│   │   └── validation.ts        # Request validation
│   ├── models/
│   │   ├── User.ts              # User/Builder model
│   │   ├── Project.ts           # Project model
│   │   ├── Grant.ts             # Grant model
│   │   ├── Challenge.ts         # Challenge/Hackathon model
│   │   └── ProgressLog.ts       # Progress tracking model
│   ├── routes/
│   │   ├── auth.ts              # Authentication routes
│   │   └── projects.ts          # Project routes
│   ├── app.ts                   # Express app configuration
│   └── server.ts                # Server entry point
├── package.json
├── tsconfig.json
└── env.example
```

## 🗄 Data Models

### User (Builder)
- Basic info: name, username, email, bio
- Portfolio: custom slug, profile picture
- Skills & interests: arrays of tags
- Social links: GitHub, LinkedIn, Twitter, personal site
- Verification status for trusted profiles

### Project
- Project details: title, description, tags, tech stack
- Status: idea, in-progress, completed
- Media: images, videos, demos
- Grant eligibility flag
- Team collaboration support

### Grant
- Amount and currency (INR/USD)
- Status: applied, in-review, approved, rejected
- Review notes and disbursement tracking
- Grant types: development, launch, scaling, research

### Challenge
- Event details: title, theme, duration
- Schedule: start/end dates
- Prizes and sponsors
- Rules and submission requirements
- Participant and winner tracking

### ProgressLog
- Project progress tracking
- Rich content with media support
- Impact summaries for grant evaluation
- Timeline-based organization

## 🚀 Getting Started

### Prerequisites
- Node.js (v16 or higher)
- MongoDB (local or cloud)
- npm or yarn

### Installation

1. **Clone and navigate to server directory**
   ```bash
   cd server
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Environment setup**
   ```bash
   cp env.example .env
   # Edit .env with your configuration
   ```

4. **Start development server**
   ```bash
   npm run dev
   ```

### Environment Variables

Create a `.env` file based on `env.example`:

```env
# Server Configuration
PORT=5000
NODE_ENV=development

# MongoDB Configuration
MONGODB_URI=mongodb://localhost:27017/shebuilds

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-here
JWT_EXPIRES_IN=7d

# Cloudinary Configuration (for file uploads)
CLOUDINARY_CLOUD_NAME=your-cloud-name
CLOUDINARY_API_KEY=your-api-key
CLOUDINARY_API_SECRET=your-api-secret

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS Configuration
CORS_ORIGIN=http://localhost:3000
```

## 📡 API Endpoints

### Authentication
- `POST /api/auth/register` - Register new user
- `POST /api/auth/login` - User login
- `GET /api/auth/me` - Get current user (protected)
- `PUT /api/auth/profile` - Update profile (protected)
- `GET /api/auth/user/:slug` - Get user by portfolio slug

### Projects
- `GET /api/projects` - Get all projects (with filters)
- `GET /api/projects/:id` - Get project by ID
- `POST /api/projects` - Create project (protected)
- `PUT /api/projects/:id` - Update project (protected)
- `DELETE /api/projects/:id` - Delete project (protected)
- `GET /api/projects/user/:userId` - Get user's projects

### Health Check
- `GET /health` - Server health status

## 🔧 Development

### Available Scripts
- `npm run dev` - Start development server with nodemon
- `npm run build` - Build TypeScript to JavaScript
- `npm start` - Start production server

### Database Setup
1. Install MongoDB locally or use MongoDB Atlas
2. Update `MONGODB_URI` in your `.env` file
3. The database and collections will be created automatically

### Testing the API
You can test the API using tools like:
- Postman
- Insomnia
- curl commands

Example registration:
```bash
curl -X POST http://localhost:5000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Anita Builder",
    "username": "anita",
    "email": "anita@example.com",
    "password": "password123",
    "portfolio_slug": "anita-builder"
  }'
```

## 🔒 Security Features

- **JWT Authentication**: Secure token-based authentication
- **Password Hashing**: bcryptjs for password security
- **Rate Limiting**: Prevent abuse with request limiting
- **CORS Protection**: Configured for frontend integration
- **Helmet**: Security headers for Express
- **Input Validation**: Comprehensive request validation
- **Error Handling**: Proper error responses

## 🚀 Deployment

### Production Build
```bash
npm run build
npm start
```

### Environment Variables for Production
- Set `NODE_ENV=production`
- Use strong JWT secret
- Configure proper CORS origin
- Set up MongoDB connection string
- Configure Cloudinary for file uploads

## 🤝 Contributing

1. Follow the existing code structure
2. Add proper TypeScript types
3. Include error handling
4. Add validation for new endpoints
5. Update documentation

## 📝 License

This project is part of the SheBuilds platform.
</file>

<file path="server/src/config/database.ts">
import mongoose from 'mongoose';
import dotenv from 'dotenv';

dotenv.config();

const MONGODB_URI = process.env.MONGODB_URI || 'mongodb://localhost:27017/shebuilds';

export const connectDB = async (): Promise<void> => {
  try {
    const conn = await mongoose.connect(MONGODB_URI);
    console.log(`MongoDB Connected: ${conn.connection.host}`);
  } catch (error) {
    console.error('Error connecting to MongoDB:', error);
    process.exit(1);
  }
};

export const disconnectDB = async (): Promise<void> => {
  try {
    await mongoose.disconnect();
    console.log('MongoDB Disconnected');
  } catch (error) {
    console.error('Error disconnecting from MongoDB:', error);
  }
};

// Handle connection events
mongoose.connection.on('connected', () => {
  console.log('Mongoose connected to MongoDB');
});

mongoose.connection.on('error', (err) => {
  console.error('Mongoose connection error:', err);
});

mongoose.connection.on('disconnected', () => {
  console.log('Mongoose disconnected from MongoDB');
});

// Graceful shutdown
process.on('SIGINT', async () => {
  await disconnectDB();
  process.exit(0);
});
</file>

<file path="server/src/controllers/announcementController.ts">
import { Request, Response } from 'express';
import { Announcement } from '../models/Announcement';

interface AuthRequest extends Request {
  user?: any;
}

// List all announcements (public)
export const listAnnouncements = async (req: Request, res: Response): Promise<void> => {
  try {
    const announcements = await Announcement.find()
      .populate('created_by', 'name username')
      .sort({ created_at: -1 });
    res.json({ announcements });
  } catch (error) {
    console.error('List announcements error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Admin: Create announcement
export const createAnnouncement = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { title, message } = req.body;
    const announcement = new Announcement({
      title,
      message,
      created_by: req.user?._id,
    });
    await announcement.save();
    res.status(201).json({ message: 'Announcement created', announcement });
  } catch (error) {
    console.error('Create announcement error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Admin: Delete announcement
export const deleteAnnouncement = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { id } = req.params;
    const announcement = await Announcement.findById(id);
    if (!announcement) {
      res.status(404).json({ message: 'Announcement not found' });
      return;
    }
    await announcement.deleteOne();
    res.json({ message: 'Announcement deleted' });
  } catch (error) {
    console.error('Delete announcement error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};
</file>

<file path="server/src/controllers/passwordResetController.ts">
import { Request, Response } from 'express';
import crypto from 'crypto';
import { User } from '../models/User';
import { emailService } from '../utils/emailService';

// Request password reset
export const requestPasswordReset = async (req: Request, res: Response): Promise<void> => {
  try {
    const { email } = req.body;

    const user = await User.findOne({ email });
    if (!user) {
      // Don't reveal if user exists or not
      res.json({ message: 'If an account with that email exists, a password reset link has been sent' });
      return;
    }

    // Generate reset token
    const resetToken = crypto.randomBytes(32).toString('hex');
    const resetTokenExpiry = new Date(Date.now() + 3600000); // 1 hour

    // Save reset token to user (you might want to add these fields to User model)
    user.resetToken = resetToken;
    user.resetTokenExpiry = resetTokenExpiry;
    await user.save();

    // Send reset email
    const emailSent = await emailService.sendPasswordResetEmail(email, resetToken);
    
    if (emailSent) {
      res.json({ message: 'Password reset link sent to your email' });
    } else {
      res.status(500).json({ message: 'Failed to send reset email' });
    }
  } catch (error) {
    console.error('Request password reset error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Reset password with token
export const resetPassword = async (req: Request, res: Response): Promise<void> => {
  try {
    const { token, newPassword } = req.body;

    if (!token || !newPassword) {
      res.status(400).json({ message: 'Token and new password are required' });
      return;
    }

    if (newPassword.length < 6) {
      res.status(400).json({ message: 'Password must be at least 6 characters long' });
      return;
    }

    const user = await User.findOne({
      resetToken: token,
      resetTokenExpiry: { $gt: Date.now() }
    });

    if (!user) {
      res.status(400).json({ message: 'Invalid or expired reset token' });
      return;
    }

    // Update password
    user.password = newPassword;
    user.resetToken = undefined;
    user.resetTokenExpiry = undefined;
    await user.save();

    res.json({ message: 'Password reset successfully' });
  } catch (error) {
    console.error('Reset password error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Verify reset token
export const verifyResetToken = async (req: Request, res: Response): Promise<void> => {
  try {
    const { token } = req.params;

    const user = await User.findOne({
      resetToken: token,
      resetTokenExpiry: { $gt: Date.now() }
    });

    if (!user) {
      res.status(400).json({ message: 'Invalid or expired reset token' });
      return;
    }

    res.json({ message: 'Token is valid' });
  } catch (error) {
    console.error('Verify reset token error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};
</file>

<file path="server/src/controllers/progressLogController.ts">
import { Request, Response } from 'express';
import { ProgressLog } from '../models/ProgressLog';
import { Project } from '../models/Project';

interface AuthRequest extends Request {
  user?: any;
}

// Create Progress Log
export const createProgressLog = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { project_id, content, media, impact_summary, is_public } = req.body;

    // Check if project exists and belongs to user
    const project = await Project.findById(project_id);
    if (!project) {
      res.status(404).json({ message: 'Project not found' });
      return;
    }

    if (project.builder_id.toString() !== req.user?._id.toString()) {
      res.status(403).json({ message: 'Not authorized to add progress to this project' });
      return;
    }

    const progressLog = new ProgressLog({
      project_id,
      content,
      media: media || { screenshots: [], videos: [] },
      impact_summary,
      is_public: is_public !== undefined ? is_public : true,
      builder_id: req.user?._id
    });

    await progressLog.save();

    // Add progress log to project
    project.progress_logs.push(progressLog._id as any);
    await project.save();

    res.status(201).json({
      message: 'Progress log created successfully',
      progressLog
    });
  } catch (error) {
    console.error('Create progress log error:', error);
    res.status(500).json({ message: 'Server error during progress log creation' });
  }
};

// Get Project Progress Logs
export const getProjectProgressLogs = async (req: Request, res: Response): Promise<void> => {
  try {
    const { projectId } = req.params;
    const { page = 1, limit = 10 } = req.query;

    const skip = (Number(page) - 1) * Number(limit);

    const progressLogs = await ProgressLog.find({ 
      project_id: projectId,
      is_public: true 
    })
      .populate('builder_id', 'name username portfolio_slug profile_picture')
      .sort({ date: -1 })
      .skip(skip)
      .limit(Number(limit));

    const total = await ProgressLog.countDocuments({ 
      project_id: projectId,
      is_public: true 
    });

    res.json({
      progressLogs,
      pagination: {
        page: Number(page),
        limit: Number(limit),
        total,
        pages: Math.ceil(total / Number(limit))
      }
    });
  } catch (error) {
    console.error('Get project progress logs error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Get User's Progress Logs
export const getUserProgressLogs = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { page = 1, limit = 10 } = req.query;
    const skip = (Number(page) - 1) * Number(limit);

    const progressLogs = await ProgressLog.find({ builder_id: req.user?._id })
      .populate('project_id', 'title description')
      .sort({ date: -1 })
      .skip(skip)
      .limit(Number(limit));

    const total = await ProgressLog.countDocuments({ builder_id: req.user?._id });

    res.json({
      progressLogs,
      pagination: {
        page: Number(page),
        limit: Number(limit),
        total,
        pages: Math.ceil(total / Number(limit))
      }
    });
  } catch (error) {
    console.error('Get user progress logs error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Get Progress Log by ID
export const getProgressLogById = async (req: Request, res: Response): Promise<void> => {
  try {
    const { id } = req.params;

    const progressLog = await ProgressLog.findById(id)
      .populate('project_id', 'title description')
      .populate('builder_id', 'name username portfolio_slug profile_picture');

    if (!progressLog) {
      res.status(404).json({ message: 'Progress log not found' });
      return;
    }

    res.json(progressLog);
  } catch (error) {
    console.error('Get progress log error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Update Progress Log
export const updateProgressLog = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { id } = req.params;
    const updateData = req.body;

    const progressLog = await ProgressLog.findById(id);
    if (!progressLog) {
      res.status(404).json({ message: 'Progress log not found' });
      return;
    }

    // Check if user owns the progress log
    if (progressLog.builder_id.toString() !== req.user?._id.toString()) {
      res.status(403).json({ message: 'Not authorized to update this progress log' });
      return;
    }

    // Update fields
    Object.keys(updateData).forEach(key => {
      if (key !== 'builder_id' && key !== 'log_id' && key !== 'project_id') {
        (progressLog as any)[key] = updateData[key];
      }
    });

    await progressLog.save();

    res.json({
      message: 'Progress log updated successfully',
      progressLog
    });
  } catch (error) {
    console.error('Update progress log error:', error);
    res.status(500).json({ message: 'Server error during progress log update' });
  }
};

// Delete Progress Log
export const deleteProgressLog = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { id } = req.params;

    const progressLog = await ProgressLog.findById(id);
    if (!progressLog) {
      res.status(404).json({ message: 'Progress log not found' });
      return;
    }

    // Check if user owns the progress log
    if (progressLog.builder_id.toString() !== req.user?._id.toString()) {
      res.status(403).json({ message: 'Not authorized to delete this progress log' });
      return;
    }

    // Remove from project's progress logs
    await Project.findByIdAndUpdate(progressLog.project_id, {
      $pull: { progress_logs: progressLog._id }
    });

    await ProgressLog.findByIdAndDelete(id);

    res.json({ message: 'Progress log deleted successfully' });
  } catch (error) {
    console.error('Delete progress log error:', error);
    res.status(500).json({ message: 'Server error during progress log deletion' });
  }
};

// Get Recent Progress Logs (for homepage feed)
export const getRecentProgressLogs = async (req: Request, res: Response): Promise<void> => {
  try {
    const { page = 1, limit = 10 } = req.query;
    const skip = (Number(page) - 1) * Number(limit);

    const progressLogs = await ProgressLog.find({ is_public: true })
      .populate('project_id', 'title description')
      .populate('builder_id', 'name username portfolio_slug profile_picture')
      .sort({ date: -1 })
      .skip(skip)
      .limit(Number(limit));

    const total = await ProgressLog.countDocuments({ is_public: true });

    res.json({
      progressLogs,
      pagination: {
        page: Number(page),
        limit: Number(limit),
        total,
        pages: Math.ceil(total / Number(limit))
      }
    });
  } catch (error) {
    console.error('Get recent progress logs error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};
</file>

<file path="server/src/controllers/projectController.ts">
import { Request, Response } from 'express';
import { Project } from '../models/Project';
import { ProgressLog } from '../models/ProgressLog';

interface AuthRequest extends Request {
  user?: any;
}

// Create Project
export const createProject = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { title, description, tags, tech_stack, status, is_public, is_grant_eligible } = req.body;

    const project = new Project({
      title,
      description,
      tags: tags || [],
      tech_stack: tech_stack || [],
      status: status || 'idea',
      is_public: is_public !== undefined ? is_public : true,
      is_grant_eligible: is_grant_eligible || false,
      builder_id: req.user?._id
    });

    await project.save();

    res.status(201).json({
      message: 'Project created successfully',
      project
    });
  } catch (error) {
    console.error('Create project error:', error);
    res.status(500).json({ message: 'Server error during project creation' });
  }
};

// Get All Projects (with filters)
export const getProjects = async (req: Request, res: Response): Promise<void> => {
  try {
    const { status, tags, tech_stack, is_grant_eligible, builder_id, page = 1, limit = 10 } = req.query;

    const filter: any = { is_public: true };

    if (status) filter.status = status;
    if (tags) filter.tags = { $in: Array.isArray(tags) ? tags : [tags] };
    if (tech_stack) filter.tech_stack = { $in: Array.isArray(tech_stack) ? tech_stack : [tech_stack] };
    if (is_grant_eligible !== undefined) filter.is_grant_eligible = is_grant_eligible === 'true';
    if (builder_id) filter.builder_id = builder_id;

    const skip = (Number(page) - 1) * Number(limit);

    const projects = await Project.find(filter)
      .populate('builder_id', 'name username portfolio_slug profile_picture')
      .sort({ created_at: -1 })
      .skip(skip)
      .limit(Number(limit));

    const total = await Project.countDocuments(filter);

    res.json({
      projects,
      pagination: {
        page: Number(page),
        limit: Number(limit),
        total,
        pages: Math.ceil(total / Number(limit))
      }
    });
  } catch (error) {
    console.error('Get projects error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Get Project by ID
export const getProjectById = async (req: Request, res: Response): Promise<void> => {
  try {
    const { id } = req.params;

    const project = await Project.findById(id)
      .populate('builder_id', 'name username portfolio_slug profile_picture')
      .populate('team_members', 'name username portfolio_slug profile_picture');

    if (!project) {
      res.status(404).json({ message: 'Project not found' });
      return;
    }

    res.json(project);
  } catch (error) {
    console.error('Get project error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Update Project
export const updateProject = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { id } = req.params;
    const updateData = req.body;

    const project = await Project.findById(id);

    if (!project) {
      res.status(404).json({ message: 'Project not found' });
      return;
    }

    // Check if user owns the project
    if (project.builder_id.toString() !== req.user?._id.toString()) {
      res.status(403).json({ message: 'Not authorized to update this project' });
      return;
    }

    // Update fields
    Object.keys(updateData).forEach(key => {
      if (key !== 'builder_id' && key !== 'project_id') {
        (project as any)[key] = updateData[key];
      }
    });

    await project.save();

    res.json({
      message: 'Project updated successfully',
      project
    });
  } catch (error) {
    console.error('Update project error:', error);
    res.status(500).json({ message: 'Server error during project update' });
  }
};

// Delete Project
export const deleteProject = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { id } = req.params;

    const project = await Project.findById(id);

    if (!project) {
      res.status(404).json({ message: 'Project not found' });
      return;
    }

    // Check if user owns the project
    if (project.builder_id.toString() !== req.user?._id.toString()) {
      res.status(403).json({ message: 'Not authorized to delete this project' });
      return;
    }

    // Delete associated progress logs
    await ProgressLog.deleteMany({ project_id: id });

    await Project.findByIdAndDelete(id);

    res.json({ message: 'Project deleted successfully' });
  } catch (error) {
    console.error('Delete project error:', error);
    res.status(500).json({ message: 'Server error during project deletion' });
  }
};

// Get User's Projects
export const getUserProjects = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { userId } = req.params;
    const { page = 1, limit = 10 } = req.query;

    const skip = (Number(page) - 1) * Number(limit);

    const projects = await Project.find({ 
      builder_id: userId,
      is_public: true 
    })
      .populate('builder_id', 'name username portfolio_slug profile_picture')
      .sort({ created_at: -1 })
      .skip(skip)
      .limit(Number(limit));

    const total = await Project.countDocuments({ 
      builder_id: userId,
      is_public: true 
    });

    res.json({
      projects,
      pagination: {
        page: Number(page),
        limit: Number(limit),
        total,
        pages: Math.ceil(total / Number(limit))
      }
    });
  } catch (error) {
    console.error('Get user projects error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};
</file>

<file path="server/src/controllers/searchController.ts">
import { Request, Response } from 'express';
import { User } from '../models/User';
import { Project } from '../models/Project';
import { Challenge } from '../models/Challenge';

// Search Users
export const searchUsers = async (req: Request, res: Response): Promise<void> => {
  try {
    const { q, skills, location, page = 1, limit = 10 } = req.query;
    const skip = (Number(page) - 1) * Number(limit);

    const filter: any = { is_verified: true };

    if (q) {
      filter.$or = [
        { name: { $regex: q, $options: 'i' } },
        { username: { $regex: q, $options: 'i' } },
        { bio: { $regex: q, $options: 'i' } }
      ];
    }

    if (skills) {
      const skillsArray = Array.isArray(skills) ? skills : [skills];
      filter.skills = { $in: skillsArray };
    }

    if (location) {
      filter.location = { $regex: location, $options: 'i' };
    }

    const users = await User.find(filter)
      .select('-password')
      .sort({ joined_date: -1 })
      .skip(skip)
      .limit(Number(limit));

    const total = await User.countDocuments(filter);

    res.json({
      users,
      pagination: {
        page: Number(page),
        limit: Number(limit),
        total,
        pages: Math.ceil(total / Number(limit))
      }
    });
  } catch (error) {
    console.error('Search users error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Search Projects
export const searchProjects = async (req: Request, res: Response): Promise<void> => {
  try {
    const { q, tech_stack, tags, status, is_grant_eligible, page = 1, limit = 10 } = req.query;
    const skip = (Number(page) - 1) * Number(limit);

    const filter: any = { is_public: true };

    if (q) {
      filter.$or = [
        { title: { $regex: q, $options: 'i' } },
        { description: { $regex: q, $options: 'i' } }
      ];
    }

    if (tech_stack) {
      const techArray = Array.isArray(tech_stack) ? tech_stack : [tech_stack];
      filter.tech_stack = { $in: techArray };
    }

    if (tags) {
      const tagsArray = Array.isArray(tags) ? tags : [tags];
      filter.tags = { $in: tagsArray };
    }

    if (status) {
      filter.status = status;
    }

    if (is_grant_eligible !== undefined) {
      filter.is_grant_eligible = is_grant_eligible === 'true';
    }

    const projects = await Project.find(filter)
      .populate('builder_id', 'name username portfolio_slug profile_picture')
      .sort({ created_at: -1 })
      .skip(skip)
      .limit(Number(limit));

    const total = await Project.countDocuments(filter);

    res.json({
      projects,
      pagination: {
        page: Number(page),
        limit: Number(limit),
        total,
        pages: Math.ceil(total / Number(limit))
      }
    });
  } catch (error) {
    console.error('Search projects error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Get Popular Skills
export const getPopularSkills = async (req: Request, res: Response): Promise<void> => {
  try {
    const skills = await User.aggregate([
      { $unwind: '$skills' },
      { $group: { _id: '$skills', count: { $sum: 1 } } },
      { $sort: { count: -1 } },
      { $limit: 20 }
    ]);

    res.json(skills);
  } catch (error) {
    console.error('Get popular skills error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Get Popular Tech Stack
export const getPopularTechStack = async (req: Request, res: Response): Promise<void> => {
  try {
    const techStack = await Project.aggregate([
      { $unwind: '$tech_stack' },
      { $group: { _id: '$tech_stack', count: { $sum: 1 } } },
      { $sort: { count: -1 } },
      { $limit: 20 }
    ]);

    res.json(techStack);
  } catch (error) {
    console.error('Get popular tech stack error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Get Analytics Data
export const getAnalytics = async (req: Request, res: Response): Promise<void> => {
  try {
    const [
      totalUsers,
      totalProjects,
      totalChallenges,
      totalGrants,
      activeChallenges,
      grantEligibleProjects
    ] = await Promise.all([
      User.countDocuments(),
      Project.countDocuments(),
      Challenge.countDocuments(),
      Project.countDocuments({ is_grant_eligible: true }),
      Challenge.countDocuments({ is_active: true }),
      Project.countDocuments({ is_grant_eligible: true })
    ]);

    // Get recent activity
    const recentProjects = await Project.find({ is_public: true })
      .populate('builder_id', 'name username')
      .sort({ created_at: -1 })
      .limit(5);

    const recentUsers = await User.find()
      .select('name username joined_date')
      .sort({ joined_date: -1 })
      .limit(5);

    res.json({
      stats: {
        totalUsers,
        totalProjects,
        totalChallenges,
        totalGrants,
        activeChallenges,
        grantEligibleProjects
      },
      recentActivity: {
        projects: recentProjects,
        users: recentUsers
      }
    });
  } catch (error) {
    console.error('Get analytics error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};
</file>

<file path="server/src/middleware/validation.ts">
import { Request, Response, NextFunction } from 'express';

export const validateUserRegistration = (req: Request, res: Response, next: NextFunction): void => {
  const { name, username, email, password, portfolio_slug } = req.body;

  if (!name || !username || !email || !password || !portfolio_slug) {
    res.status(400).json({ message: 'All required fields must be provided' });
    return;
  }

  if (password.length < 6) {
    res.status(400).json({ message: 'Password must be at least 6 characters long' });
    return;
  }

  if (username.length < 3) {
    res.status(400).json({ message: 'Username must be at least 3 characters long' });
    return;
  }

  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailRegex.test(email)) {
    res.status(400).json({ message: 'Please provide a valid email address' });
    return;
  }

  next();
};

export const validateProject = (req: Request, res: Response, next: NextFunction): void => {
  const { title, description, tags, tech_stack } = req.body;

  if (!title || !description) {
    res.status(400).json({ message: 'Title and description are required' });
    return;
  }

  if (title.length > 100) {
    res.status(400).json({ message: 'Title must be less than 100 characters' });
    return;
  }

  if (description.length > 2000) {
    res.status(400).json({ message: 'Description must be less than 2000 characters' });
    return;
  }

  next();
};

export const validateGrant = (req: Request, res: Response, next: NextFunction): void => {
  const { amount, grant_type, project_id } = req.body;

  if (!amount || !grant_type || !project_id) {
    res.status(400).json({ message: 'Amount, grant type, and project ID are required' });
    return;
  }

  if (amount <= 0) {
    res.status(400).json({ message: 'Amount must be greater than 0' });
    return;
  }

  const validGrantTypes = ['development', 'launch', 'scaling', 'research'];
  if (!validGrantTypes.includes(grant_type)) {
    res.status(400).json({ message: 'Invalid grant type' });
    return;
  }

  next();
};

export const validateChallenge = (req: Request, res: Response, next: NextFunction): void => {
  const { title, theme, duration, start_date, end_date, rules, submission_requirements } = req.body;

  if (!title || !theme || !duration || !start_date || !end_date) {
    res.status(400).json({ message: 'All required fields must be provided' });
    return;
  }

  if (duration < 1) {
    res.status(400).json({ message: 'Duration must be at least 1 day' });
    return;
  }

  if (new Date(start_date) >= new Date(end_date)) {
    res.status(400).json({ message: 'End date must be after start date' });
    return;
  }

  if (!rules || rules.length === 0) {
    res.status(400).json({ message: 'At least one rule is required' });
    return;
  }

  if (!submission_requirements || submission_requirements.length === 0) {
    res.status(400).json({ message: 'At least one submission requirement is required' });
    return;
  }

  next();
};

export const validateProgressLog = (req: Request, res: Response, next: NextFunction): void => {
  const { content, project_id } = req.body;

  if (!content || !project_id) {
    res.status(400).json({ message: 'Content and project ID are required' });
    return;
  }

  if (content.length > 5000) {
    res.status(400).json({ message: 'Content must be less than 5000 characters' });
    return;
  }

  next();
};
</file>

<file path="server/src/models/Announcement.ts">
import mongoose, { Document, Schema } from 'mongoose';

export interface IAnnouncement extends Document {
  title: string;
  message: string;
  created_at: Date;
  created_by: mongoose.Types.ObjectId;
}

const announcementSchema = new Schema<IAnnouncement>({
  title: { type: String, required: true, trim: true, maxlength: 200 },
  message: { type: String, required: true, trim: true, maxlength: 2000 },
  created_at: { type: Date, default: Date.now },
  created_by: { type: Schema.Types.ObjectId, ref: 'User', required: true },
});

export const Announcement = mongoose.model<IAnnouncement>('Announcement', announcementSchema);
</file>

<file path="server/src/models/Challenge.ts">
import mongoose, { Document, Schema } from 'mongoose';

export interface IChallenge extends Document {
  challenge_id: string;
  title: string;
  theme: string;
  duration: number; // in days
  start_date: Date;
  end_date: Date;
  prizes?: {
    first_place?: number;
    second_place?: number;
    third_place?: number;
    special_mentions?: number;
  };
  sponsors?: string[];
  rules: string[];
  submission_requirements: string[];
  participants: mongoose.Types.ObjectId[];
  winners: mongoose.Types.ObjectId[];
  is_active: boolean;
  max_participants?: number;
  created_by: mongoose.Types.ObjectId;
  created_at: Date;
  updated_at: Date;
}

const challengeSchema = new Schema<IChallenge>({
  challenge_id: {
    type: String,
    required: true,
    unique: true,
    default: () => `challenge_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
  },
  title: {
    type: String,
    required: true,
    trim: true,
    maxlength: 100
  },
  theme: {
    type: String,
    required: true,
    trim: true
  },
  duration: {
    type: Number,
    required: true,
    min: 1
  },
  start_date: {
    type: Date,
    required: true
  },
  end_date: {
    type: Date,
    required: true
  },
  prizes: {
    first_place: {
      type: Number,
      min: 0
    },
    second_place: {
      type: Number,
      min: 0
    },
    third_place: {
      type: Number,
      min: 0
    },
    special_mentions: {
      type: Number,
      min: 0
    }
  },
  sponsors: [{
    type: String,
    trim: true
  }],
  rules: [{
    type: String,
    required: true,
    trim: true
  }],
  submission_requirements: [{
    type: String,
    required: true,
    trim: true
  }],
  participants: [{
    type: Schema.Types.ObjectId,
    ref: 'User'
  }],
  winners: [{
    type: Schema.Types.ObjectId,
    ref: 'Project'
  }],
  is_active: {
    type: Boolean,
    default: true
  },
  max_participants: {
    type: Number,
    min: 1
  },
  created_by: {
    type: Schema.Types.ObjectId,
    ref: 'User',
    required: true
  }
}, {
  timestamps: { createdAt: 'created_at', updatedAt: 'updated_at' }
});

// Indexes for better query performance
challengeSchema.index({ is_active: 1 });
challengeSchema.index({ start_date: 1 });
challengeSchema.index({ end_date: 1 });
challengeSchema.index({ created_by: 1 });
challengeSchema.index({ participants: 1 });

// Virtual for checking if challenge is currently running
challengeSchema.virtual('is_running').get(function() {
  const now = new Date();
  return this.start_date <= now && this.end_date >= now;
});

// Virtual for checking if challenge is upcoming
challengeSchema.virtual('is_upcoming').get(function() {
  const now = new Date();
  return this.start_date > now;
});

// Virtual for checking if challenge is completed
challengeSchema.virtual('is_completed').get(function() {
  const now = new Date();
  return this.end_date < now;
});

export const Challenge = mongoose.model<IChallenge>('Challenge', challengeSchema);
</file>

<file path="server/src/models/Grant.ts">
import mongoose, { Document, Schema } from 'mongoose';

export interface IGrant extends Document {
  grant_id: string;
  amount: number;
  currency: 'INR' | 'USD';
  status: 'applied' | 'in-review' | 'approved' | 'rejected';
  project_id: mongoose.Types.ObjectId;
  builder_id: mongoose.Types.ObjectId;
  review_notes?: string;
  disbursed_date?: Date;
  applied_date: Date;
  reviewed_date?: Date;
  reviewer_id?: mongoose.Types.ObjectId;
  grant_type: 'development' | 'launch' | 'scaling' | 'research';
  impact_summary?: string;
}

const grantSchema = new Schema<IGrant>({
  grant_id: {
    type: String,
    required: true,
    unique: true,
    default: () => `grant_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
  },
  amount: {
    type: Number,
    required: true,
    min: 0
  },
  currency: {
    type: String,
    enum: ['INR', 'USD'],
    default: 'INR'
  },
  status: {
    type: String,
    enum: ['applied', 'in-review', 'approved', 'rejected'],
    default: 'applied'
  },
  project_id: {
    type: Schema.Types.ObjectId,
    ref: 'Project',
    required: true
  },
  builder_id: {
    type: Schema.Types.ObjectId,
    ref: 'User',
    required: true
  },
  review_notes: {
    type: String,
    maxlength: 1000
  },
  disbursed_date: {
    type: Date
  },
  applied_date: {
    type: Date,
    default: Date.now
  },
  reviewed_date: {
    type: Date
  },
  reviewer_id: {
    type: Schema.Types.ObjectId,
    ref: 'User'
  },
  grant_type: {
    type: String,
    enum: ['development', 'launch', 'scaling', 'research'],
    required: true
  },
  impact_summary: {
    type: String,
    maxlength: 500
  }
}, {
  timestamps: true
});

// Indexes for better query performance
grantSchema.index({ builder_id: 1 });
grantSchema.index({ project_id: 1 });
grantSchema.index({ status: 1 });
grantSchema.index({ grant_type: 1 });
grantSchema.index({ applied_date: -1 });

export const Grant = mongoose.model<IGrant>('Grant', grantSchema);
</file>

<file path="server/src/models/ProgressLog.ts">
import mongoose, { Document, Schema } from 'mongoose';

export interface IProgressLog extends Document {
  log_id: string;
  project_id: mongoose.Types.ObjectId;
  date: Date;
  content: string;
  media: {
    screenshots: string[];
    videos: string[];
  };
  impact_summary?: string;
  builder_id: mongoose.Types.ObjectId;
  is_public: boolean;
  created_at: Date;
  updated_at: Date;
}

const progressLogSchema = new Schema<IProgressLog>({
  log_id: {
    type: String,
    required: true,
    unique: true,
    default: () => `log_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
  },
  project_id: {
    type: Schema.Types.ObjectId,
    ref: 'Project',
    required: true
  },
  date: {
    type: Date,
    default: Date.now
  },
  content: {
    type: String,
    required: true,
    maxlength: 5000
  },
  media: {
    screenshots: [{
      type: String,
      trim: true
    }],
    videos: [{
      type: String,
      trim: true
    }]
  },
  impact_summary: {
    type: String,
    maxlength: 500
  },
  builder_id: {
    type: Schema.Types.ObjectId,
    ref: 'User',
    required: true
  },
  is_public: {
    type: Boolean,
    default: true
  }
}, {
  timestamps: { createdAt: 'created_at', updatedAt: 'updated_at' }
});

// Indexes for better query performance
progressLogSchema.index({ project_id: 1 });
progressLogSchema.index({ builder_id: 1 });
progressLogSchema.index({ date: -1 });
progressLogSchema.index({ is_public: 1 });

export const ProgressLog = mongoose.model<IProgressLog>('ProgressLog', progressLogSchema);
</file>

<file path="server/src/routes/announcement.ts">
import { Router } from 'express';
import { listAnnouncements, createAnnouncement, deleteAnnouncement } from '../controllers/announcementController';
import { adminAuth } from '../middleware/auth';

const router = Router();

// Public route
router.get('/', listAnnouncements);

// Admin routes
router.post('/', adminAuth, createAnnouncement);
router.delete('/:id', adminAuth, deleteAnnouncement);

export default router;
</file>

<file path="server/src/routes/passwordReset.ts">
import { Router } from 'express';
import { 
  requestPasswordReset, 
  resetPassword, 
  verifyResetToken 
} from '../controllers/passwordResetController';

const router = Router();

// Public routes
router.post('/request', requestPasswordReset);
router.post('/reset', resetPassword);
router.get('/verify/:token', verifyResetToken);

export default router;
</file>

<file path="server/src/routes/progress.ts">
import { Router } from 'express';
import { 
  createProgressLog, 
  getProjectProgressLogs, 
  getUserProgressLogs, 
  getProgressLogById, 
  updateProgressLog, 
  deleteProgressLog,
  getRecentProgressLogs
} from '../controllers/progressLogController';
import { auth } from '../middleware/auth';
import { validateProgressLog } from '../middleware/validation';

const router = Router();

// Public routes
router.get('/recent', getRecentProgressLogs);
router.get('/project/:projectId', getProjectProgressLogs);
router.get('/:id', getProgressLogById);

// Protected routes
router.get('/user/my-logs', auth, getUserProgressLogs);
router.post('/', auth, validateProgressLog, createProgressLog);
router.put('/:id', auth, validateProgressLog, updateProgressLog);
router.delete('/:id', auth, deleteProgressLog);

export default router;
</file>

<file path="server/src/routes/projects.ts">
import { Router } from 'express';
import { 
  createProject, 
  getProjects, 
  getProjectById, 
  updateProject, 
  deleteProject, 
  getUserProjects 
} from '../controllers/projectController';
import { auth } from '../middleware/auth';
import { validateProject } from '../middleware/validation';

const router = Router();

// Public routes
router.get('/', getProjects);
router.get('/:id', getProjectById);
router.get('/user/:userId', getUserProjects);

// Protected routes
router.post('/', auth, validateProject, createProject);
router.put('/:id', auth, validateProject, updateProject);
router.delete('/:id', auth, deleteProject);

export default router;
</file>

<file path="server/src/routes/search.ts">
import { Router } from 'express';
import { 
  searchUsers, 
  searchProjects, 
  getPopularSkills, 
  getPopularTechStack, 
  getAnalytics 
} from '../controllers/searchController';

const router = Router();

// Public routes
router.get('/users', searchUsers);
router.get('/projects', searchProjects);
router.get('/skills/popular', getPopularSkills);
router.get('/tech-stack/popular', getPopularTechStack);
router.get('/analytics', getAnalytics);

export default router;
</file>

<file path="server/src/server.ts">
import app from './app';
import { connectDB } from './config/database';

const PORT = process.env.PORT || 5000;

const startServer = async () => {
  try {
    // Connect to MongoDB
    await connectDB();
    
    // Start server
    app.listen(PORT, () => {
      console.log(`🚀 SheBuilds Server running on port ${PORT}`);
      console.log(`📊 Environment: ${process.env.NODE_ENV || 'development'}`);
      console.log(`🔗 Health check: http://localhost:${PORT}/health`);
    });
  } catch (error) {
    console.error('Failed to start server:', error);
    process.exit(1);
  }
};

startServer();
</file>

<file path="server/src/utils/emailService.ts">
import nodemailer from 'nodemailer';
import dotenv from 'dotenv';

dotenv.config();

interface EmailOptions {
  to: string;
  subject: string;
  html: string;
  text?: string;
}

class EmailService {
  private transporter: nodemailer.Transporter;

  constructor() {
    this.transporter = nodemailer.createTransport({
      service: 'gmail',
      auth: {
        user: process.env.SMTP_USER || 'testingbydivyansh@gmail.com',
        pass: process.env.SMTP_PASS || ''
      }
    });
  }

  async sendEmail(options: EmailOptions): Promise<boolean> {
    try {
      const mailOptions = {
        from: process.env.EMAIL_FROM || 'testingbydivyansh@gmail.com',
        to: options.to,
        subject: options.subject,
        html: options.html,
        text: options.text || ''
      };

      await this.transporter.sendMail(mailOptions);
      console.log(`Email sent successfully to ${options.to}`);
      return true;
    } catch (error) {
      console.error('Email sending failed:', error);
      return false;
    }
  }

  // Welcome email for new users
  async sendWelcomeEmail(userEmail: string, userName: string): Promise<boolean> {
    const html = `
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <h1 style="color: #f59e0b;">Welcome to SheBuilds! 🚀</h1>
        <p>Hi ${userName},</p>
        <p>Welcome to the SheBuilds community! We're excited to have you join our platform for builders.</p>
        <p>Here's what you can do:</p>
        <ul>
          <li>Create and showcase your projects</li>
          <li>Apply for grants to support your work</li>
          <li>Participate in monthly challenges</li>
          <li>Connect with other builders</li>
        </ul>
        <p>Start building your portfolio and making an impact!</p>
        <p>Best regards,<br>The SheBuilds Team</p>
      </div>
    `;

    return this.sendEmail({
      to: userEmail,
      subject: 'Welcome to SheBuilds!',
      html
    });
  }

  // Grant application confirmation
  async sendGrantApplicationEmail(userEmail: string, userName: string, projectTitle: string): Promise<boolean> {
    const html = `
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <h1 style="color: #f59e0b;">Grant Application Received! 📝</h1>
        <p>Hi ${userName},</p>
        <p>We've received your grant application for the project: <strong>${projectTitle}</strong></p>
        <p>Our team will review your application and get back to you within 5-7 business days.</p>
        <p>You can track your application status in your dashboard.</p>
        <p>Best regards,<br>The SheBuilds Team</p>
      </div>
    `;

    return this.sendEmail({
      to: userEmail,
      subject: 'Grant Application Received - SheBuilds',
      html
    });
  }

  // Grant approval notification
  async sendGrantApprovalEmail(userEmail: string, userName: string, projectTitle: string, amount: number): Promise<boolean> {
    const html = `
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <h1 style="color: #10b981;">Congratulations! 🎉</h1>
        <p>Hi ${userName},</p>
        <p>Great news! Your grant application for <strong>${projectTitle}</strong> has been approved!</p>
        <p>Grant Amount: ₹${amount}</p>
        <p>We'll be in touch soon with the disbursement details.</p>
        <p>Keep building amazing things!</p>
        <p>Best regards,<br>The SheBuilds Team</p>
      </div>
    `;

    return this.sendEmail({
      to: userEmail,
      subject: 'Grant Approved - SheBuilds',
      html
    });
  }

  // Challenge registration confirmation
  async sendChallengeRegistrationEmail(userEmail: string, userName: string, challengeTitle: string): Promise<boolean> {
    const html = `
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <h1 style="color: #8b5cf6;">Challenge Registration Confirmed! 🏆</h1>
        <p>Hi ${userName},</p>
        <p>You've successfully registered for the challenge: <strong>${challengeTitle}</strong></p>
        <p>Check your dashboard for challenge details and submission guidelines.</p>
        <p>Good luck with your project!</p>
        <p>Best regards,<br>The SheBuilds Team</p>
      </div>
    `;

    return this.sendEmail({
      to: userEmail,
      subject: 'Challenge Registration Confirmed - SheBuilds',
      html
    });
  }

  // Password reset email
  async sendPasswordResetEmail(userEmail: string, resetToken: string): Promise<boolean> {
    const resetUrl = `${process.env.FRONTEND_URL || 'http://localhost:3000'}/reset-password?token=${resetToken}`;
    
    const html = `
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <h1 style="color: #ef4444;">Password Reset Request</h1>
        <p>You requested a password reset for your SheBuilds account.</p>
        <p>Click the button below to reset your password:</p>
        <a href="${resetUrl}" style="background-color: #f59e0b; color: white; padding: 12px 24px; text-decoration: none; border-radius: 6px; display: inline-block;">Reset Password</a>
        <p>If you didn't request this, please ignore this email.</p>
        <p>This link will expire in 1 hour.</p>
        <p>Best regards,<br>The SheBuilds Team</p>
      </div>
    `;

    return this.sendEmail({
      to: userEmail,
      subject: 'Password Reset - SheBuilds',
      html
    });
  }
}

export const emailService = new EmailService();
</file>

<file path="server/tsconfig.json">
{
  "compilerOptions": {
    "target": "ES2020",
    "module": "commonjs",
    "lib": ["ES2020"],
    "outDir": "./dist",
    "rootDir": "./src",
    "strict": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "resolveJsonModule": true,
    "declaration": true,
    "declarationMap": true,
    "sourceMap": true,
    "removeComments": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "strictFunctionTypes": true,
    "noImplicitThis": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "moduleResolution": "node",
    "baseUrl": "./",
    "paths": {
      "@/*": ["src/*"]
    },
    "allowSyntheticDefaultImports": true,
    "experimentalDecorators": true,
    "emitDecoratorMetadata": true
  },
  "include": ["src/**/*"],
  "exclude": ["node_modules", "dist"]
}
</file>

<file path="shebuilds-content.md">
# SheBuilds Content Reference

## Website
www.shebuilds.tech

## Tagline
Bridging Gaps, Building Future

## About Us

### INTRODUCTION
SheBuilds is an inclusive community and fellowship program dedicated to empowering women in technology and entrepreneurship. Founded in 2022, It provides a dynamic platform where women can upskill, innovate, lead, and thrive. At its core, SheBuilds is more than just a network — it's a movement.

We bring together aspiring developers, bold founders, creative builders, and future-ready leaders through hands-on learning cohorts, mentorship-driven fellowships, innovation challenges, and startup support initiatives. Whether you're starting out or scaling up, SheBuilds equips you with the skills, support, and ecosystem needed to turn bold ideas into lasting impact.

### Why SheBuilds?

#### Turn Representation into Leadership
From presence to power — enabling women to lead, influence, and drive change.

#### Democratize Access to Resources
Levelling the playing field with opportunities in tech, funding, mentorship, and growth.

#### Build an Action-Oriented Sisterhood
Building a bold, collaborative network of women who create, launch, and scale together.

### Vision
To bridge gaps and build an inclusive future where women lead, innovate, and thrive in technology and entrepreneurship.

### Our Mission
To empower women by providing a collaborative ecosystem that fosters upskilling, innovation and mentorship — enabling them to grow as confident creators, entrepreneurs, and changemakers.

## COMMUNITY STATS

### Gender Distribution
- Female: 63%
- Male: 34%
- Others: 3%

### Geographic Distribution
- India (majority)
- APAC
- Others

### Top Locations
- Delhi
- Bangalore
- Chennai
- Gurugram
- Noida
- Chandigarh
- Nagpur
- Lucknow

## OUR EVENTS

### Code N Connect
A powerful series of online and offline meetups designed to bring students closer to industry. With over 25+ virtual sessions and 8+ in-person gatherings, Code & Connect has created spaces where women professionals, founders, and tech leaders mentor and upskill aspiring students. From technical deep-dives to career talks, this series has helped hundreds of young women forge connections, gain clarity, and grow with community support.

### Code N Challenge
Code & Challenge is SheBuilds' flagship hackathon and project-building series, designed to push students beyond the classroom and into the world of real-world innovation. With over 7,000+ participants across multiple editions, the initiative has become a launchpad for aspiring women in tech to apply their skills, build tangible solutions, and solve meaningful problems.

### Code N Candid
Code & Candid is a podcast series featuring candid conversations with women leaders, changemakers, and trailblazers in tech and entrepreneurship. Through honest dialogues on personal journeys, career pivots, failures, and wins, the series inspires listeners to persevere, dream big, and see what's possible. Each episode offers not just a story, but a spark for the next generation of creators.

## What Makes SheBuilds Unique?

### Raising Voice, Breaking Silence
Our sessions include bold, unfiltered discussions around women-specific challenges, taboos, and often-ignored issues in tech, leadership, and entrepreneurship.

### Funding Women-Built Products
From tech tools to creative kits, we fund and showcase innovative products built by women — helping them gain visibility, users, and traction.

### Women-Led Vendor Support
We actively contract women-led startups for food, gifting, logistics, and other event services — ensuring our events directly fuel women-owned businesses.

## THE SHEBUILDS ECOSYSTEM

### Upskilling Cohorts
Hands-on learning programs focused on emerging tech like AI, Blockchain, XR to entrepreneurial skills.

### Innovation Challenges
Theme-based hackathons and idea sprints to solve real-world problems and showcase talent.

### Mentorship Access
One-on-one guidance and structured fellowships led by industry leaders and experienced women in tech.

### Startup & Project Support
Resources, guidance, and visibility for women-led startups and high-potential community projects.

### Funding & Grants
Micro-grants, pitch opportunities, and fundraising support to help women turn ideas into ventures.

### Community & Networking
A vibrant, inclusive network that fosters collaboration, peer learning, and long-term sisterhood.

## Impact So Far
- 300+ Projects Built
- 10,000+ Strong Community
- 65% First-Time Builders
- ₹5L+ Disbursed in Grants & Support
- 50+ Speakers & Mentors
- 20+ Events & Initiatives
- 10+ Women-Led Collaborations

## COMMUNITY VOICES
- Bhavya Sachdeva (Signoz)
- Akshita Gupta (Intel)
- Pooja Gera (Palo Alto Networks)
- Aarzoo Sharma (Zomato)
- Naina Bajaj (Fountane)
- Doris Bend (Concordium)
- Yukti Thakral (Punjab National Bank)
- Khushi Panwar (NuChain)
- Radhika Bansal (Uber)
- Kritika Parmar (Filter Pixel)
- Akanksha Rani (Amazon)
- Vikshita Jain (Upthrust)
- Khushboo Verma (Appwrite)
- Haimantika Mitra (Hashnode)
- Nikita Kumari

## FOUNDING TEAM

### Bhawna Chauhan (Founder)
Developer Relations expert at QuillAudits, empowering Web3 security and community growth through impactful initiatives and collaborations

### Ekta Aggarwal (Co-Founder)
AI R&D Engineer @GPTfy and the force behind NeuroSpark, working towards transforming education through immersive and inclusive technology.

### Nikita Kumari (Co-Founder)
AI Engineer passionate about building innovative tech solutions and empowering communities through design and intelligence.

## CONTACT US
- Phone: +91 88513 63766
- Email: shebuilds.hacks@gmail.com
- Website: www.shebuilds.tech

## Motto
"Built by her. Backed by boldness."
</file>

<file path="src/App.css">
#root {
  max-width: 1280px;
  margin: 0 auto;
  padding: 2rem;
  text-align: center;
}

.logo {
  height: 6em;
  padding: 1.5em;
  will-change: filter;
  transition: filter 300ms;
}
.logo:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}
.logo.react:hover {
  filter: drop-shadow(0 0 2em #61dafbaa);
}

@keyframes logo-spin {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@media (prefers-reduced-motion: no-preference) {
  a:nth-of-type(2) .logo {
    animation: logo-spin infinite 20s linear;
  }
}

.card {
  padding: 2em;
}

.read-the-docs {
  color: #888;
}
</file>

<file path="src/components/CallToAction.tsx">
import { Button } from '@/components/ui/button';
import { Card, CardContent } from '@/components/ui/card';

const CallToAction = () => {
  return (
    <section className="py-20 px-6 bg-gradient-to-br from-gray-50 to-purple-50">
      <div className="container mx-auto max-w-4xl">
        <Card className="border-0 shadow-2xl bg-gradient-to-br from-purple-600 via-blue-600 to-teal-500 text-white">
          <CardContent className="p-12 text-center">
            <h2 className="text-4xl md:text-5xl font-bold mb-6">
              Ready to Build the Future?
            </h2>
            <p className="text-xl mb-8 text-purple-100 max-w-2xl mx-auto leading-relaxed">
              Join our community of innovators, creators, and changemakers. Whether you're looking to connect, learn, or sponsor our mission, there's a place for you at SheBuilds.
            </p>
            
            <div className="flex flex-col sm:flex-row gap-6 justify-center items-center mb-8">
              <Button 
                size="lg" 
                className="bg-white text-purple-600 hover:bg-purple-50 px-8 py-4 text-lg font-semibold transition-all duration-300 hover:scale-105"
              >
                Join Our Community
              </Button>
              <Button 
                variant="outline" 
                size="lg"
                className="border-white text-white hover:bg-white hover:text-purple-600 px-8 py-4 text-lg font-semibold transition-all duration-300"
              >
                View FAQ
              </Button>
            </div>
            
            <div className="border-t border-white/20 pt-8">
              <p className="text-purple-200 mb-4">For sponsorship inquiries:</p>
              <a 
                href="mailto:shebuilds.hacks@gmail.com" 
                className="text-xl font-semibold text-yellow-300 hover:text-yellow-200 transition-colors duration-300"
              >
                shebuilds.hacks@gmail.com
              </a>
            </div>
          </CardContent>
        </Card>
      </div>
    </section>
  );
};

export default CallToAction;
</file>

<file path="src/components/Partners.tsx">
import { useEffect, useRef, useState } from 'react';

interface PartnersProps {
  className?: string;
}

const Partners = ({ className = '' }: PartnersProps) => {
  const [isVisible, setIsVisible] = useState(false);
  const sliderRef = useRef<HTMLDivElement>(null);

  useEffect(() => {
    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          setIsVisible(true);
          observer.disconnect();
        }
      },
      { threshold: 0.1 }
    );

    if (sliderRef.current) {
      observer.observe(sliderRef.current);
    }

    return () => observer.disconnect();
  }, []);

  const logoStyle = {
    filter: 'grayscale(100%)',
    opacity: 0.7,
    transition: 'all 0.3s ease-in-out',
    height: '60px',
    width: 'auto',
    maxWidth: '160px',
    objectFit: 'contain' as const,
  };

  const logos = [
    { 
      name: 'Amazon', 
      src: '/logos/amazon.png' 
    },
    { 
      name: 'Microsoft', 
      src: '/logos/microsoft.png' 
    },
    { 
      name: 'Meta', 
      src: '/logos/meta.png' 
    },
    { 
      name: 'Google', 
      src: '/logos/google.png' 
    }
    // },
    // { 
    //   name: 'BCG', 
    //   src: '/logos/bcg.png' 
    // },
    // { 
    //   name: 'Morgan Stanley', 
    //   src: '/logos/morganstanley.png' 
    // },
    // { 
    //   name: 'McKinsey', 
    //   src: '/logos/mckinsey.png' 
    // },
    // { 
    //   name: 'Goldman Sachs', 
    //   src: '/logos/goldmansachs.png' 
    // },
  ];

  return (
    <div 
      ref={sliderRef}
      className={`w-full py-24 overflow-hidden relative bg-white ${className}`}
    >
      {/* Background Grid Pattern */}
      <div className="absolute inset-0 z-0 opacity-50" style={{
        backgroundImage: 'linear-gradient(to right, #e5e7eb 1px, transparent 1px), linear-gradient(to bottom, #e5e7eb 1px, transparent 1px)',
        backgroundSize: '40px 40px',
      }}></div>
      
      <div className="container mx-auto px-4 relative z-10">
        <h2 className="text-3xl md:text-4xl font-light mb-16 text-center text-gray-900 font-martian">
          Our Partners
        </h2>
        
        <div 
          className={`transition-opacity duration-1000 relative ${isVisible ? 'opacity-100' : 'opacity-0'}`}
          style={{
            background: 'linear-gradient(to right, white 0%, transparent 10%, transparent 90%, white 100%)'
          }}
        >
          <div className="flex items-center justify-center">
            <div 
              className="flex items-center members-slide"
              style={{
                width: 'fit-content'
              }}
            >
              {[...logos, ...logos, ...logos].map((logo, index) => (
                <div 
                  key={`logo-${index}`} 
                  className="flex items-center justify-center"
                  style={{
                    margin: '0 3rem',
                    minWidth: '120px',
                    height: '100px',
                    flexShrink: 0
                  }}
                >
                  <img 
                    src={logo.src}
                    alt={`${logo.name} logo`}
                    style={logoStyle}
                    onError={(e) => {
                      const target = e.target as HTMLImageElement;
                      target.style.display = 'none';
                    }}
                    onMouseEnter={(e) => {
                      const target = e.target as HTMLImageElement;
                      target.style.filter = 'none';
                      target.style.opacity = '1';
                      target.style.transform = 'scale(1.05)';
                    }}
                    onMouseLeave={(e) => {
                      const target = e.target as HTMLImageElement;
                      target.style.filter = 'grayscale(100%)';
                      target.style.opacity = '0.7';
                      target.style.transform = 'scale(1)';
                    }}
                  />
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Partners;
</file>

<file path="src/components/Sponsors.tsx">
import { Card, CardContent } from '@/components/ui/card';

const Sponsors = () => {
  const sponsors = [
    { name: "Concordium", logo: "C", color: "from-blue-500 to-purple-500" },
    { name: "Appwrite", logo: "A", color: "from-pink-500 to-red-500" },
    { name: "GitHub", logo: "G", color: "from-gray-700 to-gray-900" },
    { name: "Your Logo Here", logo: "?", color: "from-teal-500 to-green-500" }
  ];

  return (
    <section className="py-20 px-6 bg-white">
      <div className="container mx-auto max-w-6xl">
        <div className="text-center mb-16">
          <h2 className="text-4xl md:text-5xl font-bold text-gray-800 mb-6">
            Our Sponsors
          </h2>
          <div className="w-24 h-1 bg-gradient-to-r from-purple-500 to-teal-500 mx-auto mb-8"></div>
          <p className="text-xl text-gray-600 max-w-3xl mx-auto">
            We're grateful to our sponsors who share our vision of creating a more inclusive tech ecosystem.
          </p>
        </div>
        
        <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
          {sponsors.map((sponsor, index) => (
            <Card 
              key={index} 
              className="group hover:scale-105 transition-all duration-300 border-0 shadow-lg hover:shadow-2xl"
            >
              <CardContent className="p-8 text-center">
                <div className={`w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-r ${sponsor.color} flex items-center justify-center group-hover:scale-110 transition-transform duration-300`}>
                  <span className="text-2xl font-bold text-white">{sponsor.logo}</span>
                </div>
                <h3 className="text-lg font-semibold text-gray-800">{sponsor.name}</h3>
              </CardContent>
            </Card>
          ))}
        </div>
        
        <div className="text-center">
          <p className="text-gray-600 mb-4">
            Interested in sponsoring SheBuilds and supporting our mission?
          </p>
          <a 
            href="mailto:shebuilds.hacks@gmail.com" 
            className="inline-block bg-gradient-to-r from-purple-600 to-teal-500 text-white px-8 py-4 rounded-full font-semibold hover:scale-105 transition-all duration-300 shadow-lg hover:shadow-xl"
          >
            Contact Us for Sponsorship
          </a>
        </div>
      </div>
    </section>
  );
};

export default Sponsors;
</file>

<file path="src/components/ui/accordion.tsx">
import * as React from "react"
import * as AccordionPrimitive from "@radix-ui/react-accordion"
import { ChevronDown } from "lucide-react"

import { cn } from "@/lib/utils"

const Accordion = AccordionPrimitive.Root

const AccordionItem = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>
>(({ className, ...props }, ref) => (
  <AccordionPrimitive.Item
    ref={ref}
    className={cn("border-b", className)}
    {...props}
  />
))
AccordionItem.displayName = "AccordionItem"

const AccordionTrigger = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <AccordionPrimitive.Header className="flex">
    <AccordionPrimitive.Trigger
      ref={ref}
      className={cn(
        "flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",
        className
      )}
      {...props}
    >
      {children}
      <ChevronDown className="h-4 w-4 shrink-0 transition-transform duration-200" />
    </AccordionPrimitive.Trigger>
  </AccordionPrimitive.Header>
))
AccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName

const AccordionContent = React.forwardRef<
  React.ElementRef<typeof AccordionPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <AccordionPrimitive.Content
    ref={ref}
    className="overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"
    {...props}
  >
    <div className={cn("pb-4 pt-0", className)}>{children}</div>
  </AccordionPrimitive.Content>
))

AccordionContent.displayName = AccordionPrimitive.Content.displayName

export { Accordion, AccordionItem, AccordionTrigger, AccordionContent }
</file>

<file path="src/components/ui/alert-dialog.tsx">
import * as React from "react"
import * as AlertDialogPrimitive from "@radix-ui/react-alert-dialog"

import { cn } from "@/lib/utils"
import { buttonVariants } from "@/components/ui/button"

const AlertDialog = AlertDialogPrimitive.Root

const AlertDialogTrigger = AlertDialogPrimitive.Trigger

const AlertDialogPortal = AlertDialogPrimitive.Portal

const AlertDialogOverlay = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Overlay
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
    ref={ref}
  />
))
AlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName

const AlertDialogContent = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>
>(({ className, ...props }, ref) => (
  <AlertDialogPortal>
    <AlertDialogOverlay />
    <AlertDialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className
      )}
      {...props}
    />
  </AlertDialogPortal>
))
AlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName

const AlertDialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-2 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
AlertDialogHeader.displayName = "AlertDialogHeader"

const AlertDialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
AlertDialogFooter.displayName = "AlertDialogFooter"

const AlertDialogTitle = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold", className)}
    {...props}
  />
))
AlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName

const AlertDialogDescription = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
AlertDialogDescription.displayName =
  AlertDialogPrimitive.Description.displayName

const AlertDialogAction = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Action>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Action
    ref={ref}
    className={cn(buttonVariants(), className)}
    {...props}
  />
))
AlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName

const AlertDialogCancel = React.forwardRef<
  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,
  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>
>(({ className, ...props }, ref) => (
  <AlertDialogPrimitive.Cancel
    ref={ref}
    className={cn(
      buttonVariants({ variant: "outline" }),
      "mt-2 sm:mt-0",
      className
    )}
    {...props}
  />
))
AlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName

export {
  AlertDialog,
  AlertDialogPortal,
  AlertDialogOverlay,
  AlertDialogTrigger,
  AlertDialogContent,
  AlertDialogHeader,
  AlertDialogFooter,
  AlertDialogTitle,
  AlertDialogDescription,
  AlertDialogAction,
  AlertDialogCancel,
}
</file>

<file path="src/components/ui/alert.tsx">
import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const alertVariants = cva(
  "relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",
  {
    variants: {
      variant: {
        default: "bg-background text-foreground",
        destructive:
          "border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

const Alert = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>
>(({ className, variant, ...props }, ref) => (
  <div
    ref={ref}
    role="alert"
    className={cn(alertVariants({ variant }), className)}
    {...props}
  />
))
Alert.displayName = "Alert"

const AlertTitle = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLHeadingElement>
>(({ className, ...props }, ref) => (
  <h5
    ref={ref}
    className={cn("mb-1 font-medium leading-none tracking-tight", className)}
    {...props}
  />
))
AlertTitle.displayName = "AlertTitle"

const AlertDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("text-sm [&_p]:leading-relaxed", className)}
    {...props}
  />
))
AlertDescription.displayName = "AlertDescription"

export { Alert, AlertTitle, AlertDescription }
</file>

<file path="src/components/ui/aspect-ratio.tsx">
import * as AspectRatioPrimitive from "@radix-ui/react-aspect-ratio"

const AspectRatio = AspectRatioPrimitive.Root

export { AspectRatio }
</file>

<file path="src/components/ui/avatar.tsx">
import * as React from "react"
import * as AvatarPrimitive from "@radix-ui/react-avatar"

import { cn } from "@/lib/utils"

const Avatar = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Root
    ref={ref}
    className={cn(
      "relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",
      className
    )}
    {...props}
  />
))
Avatar.displayName = AvatarPrimitive.Root.displayName

const AvatarImage = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Image>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Image
    ref={ref}
    className={cn("aspect-square h-full w-full", className)}
    {...props}
  />
))
AvatarImage.displayName = AvatarPrimitive.Image.displayName

const AvatarFallback = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Fallback>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Fallback
    ref={ref}
    className={cn(
      "flex h-full w-full items-center justify-center rounded-full bg-muted",
      className
    )}
    {...props}
  />
))
AvatarFallback.displayName = AvatarPrimitive.Fallback.displayName

export { Avatar, AvatarImage, AvatarFallback }
</file>

<file path="src/components/ui/badge.tsx">
import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const badgeVariants = cva(
  "inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",
  {
    variants: {
      variant: {
        default:
          "border-transparent bg-primary text-primary-foreground hover:bg-primary/80",
        secondary:
          "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",
        destructive:
          "border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",
        outline: "text-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

export interface BadgeProps
  extends React.HTMLAttributes<HTMLDivElement>,
    VariantProps<typeof badgeVariants> {}

function Badge({ className, variant, ...props }: BadgeProps) {
  return (
    <div className={cn(badgeVariants({ variant }), className)} {...props} />
  )
}

export { Badge, badgeVariants }
</file>

<file path="src/components/ui/breadcrumb.tsx">
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { ChevronRight, MoreHorizontal } from "lucide-react"

import { cn } from "@/lib/utils"

const Breadcrumb = React.forwardRef<
  HTMLElement,
  React.ComponentPropsWithoutRef<"nav"> & {
    separator?: React.ReactNode
  }
>(({ ...props }, ref) => <nav ref={ref} aria-label="breadcrumb" {...props} />)
Breadcrumb.displayName = "Breadcrumb"

const BreadcrumbList = React.forwardRef<
  HTMLOListElement,
  React.ComponentPropsWithoutRef<"ol">
>(({ className, ...props }, ref) => (
  <ol
    ref={ref}
    className={cn(
      "flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",
      className
    )}
    {...props}
  />
))
BreadcrumbList.displayName = "BreadcrumbList"

const BreadcrumbItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentPropsWithoutRef<"li">
>(({ className, ...props }, ref) => (
  <li
    ref={ref}
    className={cn("inline-flex items-center gap-1.5", className)}
    {...props}
  />
))
BreadcrumbItem.displayName = "BreadcrumbItem"

const BreadcrumbLink = React.forwardRef<
  HTMLAnchorElement,
  React.ComponentPropsWithoutRef<"a"> & {
    asChild?: boolean
  }
>(({ asChild, className, ...props }, ref) => {
  const Comp = asChild ? Slot : "a"

  return (
    <Comp
      ref={ref}
      className={cn("transition-colors hover:text-foreground", className)}
      {...props}
    />
  )
})
BreadcrumbLink.displayName = "BreadcrumbLink"

const BreadcrumbPage = React.forwardRef<
  HTMLSpanElement,
  React.ComponentPropsWithoutRef<"span">
>(({ className, ...props }, ref) => (
  <span
    ref={ref}
    role="link"
    aria-disabled="true"
    aria-current="page"
    className={cn("font-normal text-foreground", className)}
    {...props}
  />
))
BreadcrumbPage.displayName = "BreadcrumbPage"

const BreadcrumbSeparator = ({
  children,
  className,
  ...props
}: React.ComponentProps<"li">) => (
  <li
    role="presentation"
    aria-hidden="true"
    className={cn("[&>svg]:size-3.5", className)}
    {...props}
  >
    {children ?? <ChevronRight />}
  </li>
)
BreadcrumbSeparator.displayName = "BreadcrumbSeparator"

const BreadcrumbEllipsis = ({
  className,
  ...props
}: React.ComponentProps<"span">) => (
  <span
    role="presentation"
    aria-hidden="true"
    className={cn("flex h-9 w-9 items-center justify-center", className)}
    {...props}
  >
    <MoreHorizontal className="h-4 w-4" />
    <span className="sr-only">More</span>
  </span>
)
BreadcrumbEllipsis.displayName = "BreadcrumbElipssis"

export {
  Breadcrumb,
  BreadcrumbList,
  BreadcrumbItem,
  BreadcrumbLink,
  BreadcrumbPage,
  BreadcrumbSeparator,
  BreadcrumbEllipsis,
}
</file>

<file path="src/components/ui/button.tsx">
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive:
          "bg-destructive text-destructive-foreground hover:bg-destructive/90",
        outline:
          "border border-input bg-background hover:bg-accent hover:text-accent-foreground",
        secondary:
          "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-10 px-4 py-2",
        sm: "h-9 rounded-md px-3",
        lg: "h-11 rounded-md px-8",
        icon: "h-10 w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "button"
    return (
      <Comp
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    )
  }
)
Button.displayName = "Button"

export { Button, buttonVariants }
</file>

<file path="src/components/ui/calendar.tsx">
import * as React from "react";
import { ChevronLeft, ChevronRight } from "lucide-react";
import { DayPicker } from "react-day-picker";

import { cn } from "@/lib/utils";
import { buttonVariants } from "@/components/ui/button";

export type CalendarProps = React.ComponentProps<typeof DayPicker>;

function Calendar({
  className,
  classNames,
  showOutsideDays = true,
  ...props
}: CalendarProps) {
  return (
    <DayPicker
      showOutsideDays={showOutsideDays}
      className={cn("p-3", className)}
      classNames={{
        months: "flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",
        month: "space-y-4",
        caption: "flex justify-center pt-1 relative items-center",
        caption_label: "text-sm font-medium",
        nav: "space-x-1 flex items-center",
        nav_button: cn(
          buttonVariants({ variant: "outline" }),
          "h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"
        ),
        nav_button_previous: "absolute left-1",
        nav_button_next: "absolute right-1",
        table: "w-full border-collapse space-y-1",
        head_row: "flex",
        head_cell:
          "text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",
        row: "flex w-full mt-2",
        cell: "h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",
        day: cn(
          buttonVariants({ variant: "ghost" }),
          "h-9 w-9 p-0 font-normal aria-selected:opacity-100"
        ),
        day_range_end: "day-range-end",
        day_selected:
          "bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",
        day_today: "bg-accent text-accent-foreground",
        day_outside:
          "day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",
        day_disabled: "text-muted-foreground opacity-50",
        day_range_middle:
          "aria-selected:bg-accent aria-selected:text-accent-foreground",
        day_hidden: "invisible",
        ...classNames,
      }}
      components={{
        IconLeft: ({ ..._props }) => <ChevronLeft className="h-4 w-4" />,
        IconRight: ({ ..._props }) => <ChevronRight className="h-4 w-4" />,
      }}
      {...props}
    />
  );
}
Calendar.displayName = "Calendar";

export { Calendar };
</file>

<file path="src/components/ui/card.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

const Card = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn(
      "rounded-lg border bg-card text-card-foreground shadow-sm",
      className
    )}
    {...props}
  />
))
Card.displayName = "Card"

const CardHeader = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex flex-col space-y-1.5 p-6", className)}
    {...props}
  />
))
CardHeader.displayName = "CardHeader"

const CardTitle = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLHeadingElement>
>(({ className, ...props }, ref) => (
  <h3
    ref={ref}
    className={cn(
      "text-2xl font-semibold leading-none tracking-tight",
      className
    )}
    {...props}
  />
))
CardTitle.displayName = "CardTitle"

const CardDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => (
  <p
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
CardDescription.displayName = "CardDescription"

const CardContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn("p-6 pt-0", className)} {...props} />
))
CardContent.displayName = "CardContent"

const CardFooter = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex items-center p-6 pt-0", className)}
    {...props}
  />
))
CardFooter.displayName = "CardFooter"

export { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }
</file>

<file path="src/components/ui/carousel.tsx">
import * as React from "react"
import useEmblaCarousel, {
  type UseEmblaCarouselType,
} from "embla-carousel-react"
import { ArrowLeft, ArrowRight } from "lucide-react"

import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"

type CarouselApi = UseEmblaCarouselType[1]
type UseCarouselParameters = Parameters<typeof useEmblaCarousel>
type CarouselOptions = UseCarouselParameters[0]
type CarouselPlugin = UseCarouselParameters[1]

type CarouselProps = {
  opts?: CarouselOptions
  plugins?: CarouselPlugin
  orientation?: "horizontal" | "vertical"
  setApi?: (api: CarouselApi) => void
}

type CarouselContextProps = {
  carouselRef: ReturnType<typeof useEmblaCarousel>[0]
  api: ReturnType<typeof useEmblaCarousel>[1]
  scrollPrev: () => void
  scrollNext: () => void
  canScrollPrev: boolean
  canScrollNext: boolean
} & CarouselProps

const CarouselContext = React.createContext<CarouselContextProps | null>(null)

function useCarousel() {
  const context = React.useContext(CarouselContext)

  if (!context) {
    throw new Error("useCarousel must be used within a <Carousel />")
  }

  return context
}

const Carousel = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement> & CarouselProps
>(
  (
    {
      orientation = "horizontal",
      opts,
      setApi,
      plugins,
      className,
      children,
      ...props
    },
    ref
  ) => {
    const [carouselRef, api] = useEmblaCarousel(
      {
        ...opts,
        axis: orientation === "horizontal" ? "x" : "y",
      },
      plugins
    )
    const [canScrollPrev, setCanScrollPrev] = React.useState(false)
    const [canScrollNext, setCanScrollNext] = React.useState(false)

    const onSelect = React.useCallback((api: CarouselApi) => {
      if (!api) {
        return
      }

      setCanScrollPrev(api.canScrollPrev())
      setCanScrollNext(api.canScrollNext())
    }, [])

    const scrollPrev = React.useCallback(() => {
      api?.scrollPrev()
    }, [api])

    const scrollNext = React.useCallback(() => {
      api?.scrollNext()
    }, [api])

    const handleKeyDown = React.useCallback(
      (event: React.KeyboardEvent<HTMLDivElement>) => {
        if (event.key === "ArrowLeft") {
          event.preventDefault()
          scrollPrev()
        } else if (event.key === "ArrowRight") {
          event.preventDefault()
          scrollNext()
        }
      },
      [scrollPrev, scrollNext]
    )

    React.useEffect(() => {
      if (!api || !setApi) {
        return
      }

      setApi(api)
    }, [api, setApi])

    React.useEffect(() => {
      if (!api) {
        return
      }

      onSelect(api)
      api.on("reInit", onSelect)
      api.on("select", onSelect)

      return () => {
        api?.off("select", onSelect)
      }
    }, [api, onSelect])

    return (
      <CarouselContext.Provider
        value={{
          carouselRef,
          api: api,
          opts,
          orientation:
            orientation || (opts?.axis === "y" ? "vertical" : "horizontal"),
          scrollPrev,
          scrollNext,
          canScrollPrev,
          canScrollNext,
        }}
      >
        <div
          ref={ref}
          onKeyDownCapture={handleKeyDown}
          className={cn("relative", className)}
          role="region"
          aria-roledescription="carousel"
          {...props}
        >
          {children}
        </div>
      </CarouselContext.Provider>
    )
  }
)
Carousel.displayName = "Carousel"

const CarouselContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const { carouselRef, orientation } = useCarousel()

  return (
    <div ref={carouselRef} className="overflow-hidden">
      <div
        ref={ref}
        className={cn(
          "flex",
          orientation === "horizontal" ? "-ml-4" : "-mt-4 flex-col",
          className
        )}
        {...props}
      />
    </div>
  )
})
CarouselContent.displayName = "CarouselContent"

const CarouselItem = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const { orientation } = useCarousel()

  return (
    <div
      ref={ref}
      role="group"
      aria-roledescription="slide"
      className={cn(
        "min-w-0 shrink-0 grow-0 basis-full",
        orientation === "horizontal" ? "pl-4" : "pt-4",
        className
      )}
      {...props}
    />
  )
})
CarouselItem.displayName = "CarouselItem"

const CarouselPrevious = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<typeof Button>
>(({ className, variant = "outline", size = "icon", ...props }, ref) => {
  const { orientation, scrollPrev, canScrollPrev } = useCarousel()

  return (
    <Button
      ref={ref}
      variant={variant}
      size={size}
      className={cn(
        "absolute  h-8 w-8 rounded-full",
        orientation === "horizontal"
          ? "-left-12 top-1/2 -translate-y-1/2"
          : "-top-12 left-1/2 -translate-x-1/2 rotate-90",
        className
      )}
      disabled={!canScrollPrev}
      onClick={scrollPrev}
      {...props}
    >
      <ArrowLeft className="h-4 w-4" />
      <span className="sr-only">Previous slide</span>
    </Button>
  )
})
CarouselPrevious.displayName = "CarouselPrevious"

const CarouselNext = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<typeof Button>
>(({ className, variant = "outline", size = "icon", ...props }, ref) => {
  const { orientation, scrollNext, canScrollNext } = useCarousel()

  return (
    <Button
      ref={ref}
      variant={variant}
      size={size}
      className={cn(
        "absolute h-8 w-8 rounded-full",
        orientation === "horizontal"
          ? "-right-12 top-1/2 -translate-y-1/2"
          : "-bottom-12 left-1/2 -translate-x-1/2 rotate-90",
        className
      )}
      disabled={!canScrollNext}
      onClick={scrollNext}
      {...props}
    >
      <ArrowRight className="h-4 w-4" />
      <span className="sr-only">Next slide</span>
    </Button>
  )
})
CarouselNext.displayName = "CarouselNext"

export {
  type CarouselApi,
  Carousel,
  CarouselContent,
  CarouselItem,
  CarouselPrevious,
  CarouselNext,
}
</file>

<file path="src/components/ui/chart.tsx">
import * as React from "react"
import * as RechartsPrimitive from "recharts"

import { cn } from "@/lib/utils"

// Format: { THEME_NAME: CSS_SELECTOR }
const THEMES = { light: "", dark: ".dark" } as const

export type ChartConfig = {
  [k in string]: {
    label?: React.ReactNode
    icon?: React.ComponentType
  } & (
    | { color?: string; theme?: never }
    | { color?: never; theme: Record<keyof typeof THEMES, string> }
  )
}

type ChartContextProps = {
  config: ChartConfig
}

const ChartContext = React.createContext<ChartContextProps | null>(null)

function useChart() {
  const context = React.useContext(ChartContext)

  if (!context) {
    throw new Error("useChart must be used within a <ChartContainer />")
  }

  return context
}

const ChartContainer = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    config: ChartConfig
    children: React.ComponentProps<
      typeof RechartsPrimitive.ResponsiveContainer
    >["children"]
  }
>(({ id, className, children, config, ...props }, ref) => {
  const uniqueId = React.useId()
  const chartId = `chart-${id || uniqueId.replace(/:/g, "")}`

  return (
    <ChartContext.Provider value={{ config }}>
      <div
        data-chart={chartId}
        ref={ref}
        className={cn(
          "flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",
          className
        )}
        {...props}
      >
        <ChartStyle id={chartId} config={config} />
        <RechartsPrimitive.ResponsiveContainer>
          {children}
        </RechartsPrimitive.ResponsiveContainer>
      </div>
    </ChartContext.Provider>
  )
})
ChartContainer.displayName = "Chart"

const ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {
  const colorConfig = Object.entries(config).filter(
    ([_, config]) => config.theme || config.color
  )

  if (!colorConfig.length) {
    return null
  }

  return (
    <style
      dangerouslySetInnerHTML={{
        __html: Object.entries(THEMES)
          .map(
            ([theme, prefix]) => `
${prefix} [data-chart=${id}] {
${colorConfig
  .map(([key, itemConfig]) => {
    const color =
      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||
      itemConfig.color
    return color ? `  --color-${key}: ${color};` : null
  })
  .join("\n")}
}
`
          )
          .join("\n"),
      }}
    />
  )
}

const ChartTooltip = RechartsPrimitive.Tooltip

const ChartTooltipContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &
    React.ComponentProps<"div"> & {
      hideLabel?: boolean
      hideIndicator?: boolean
      indicator?: "line" | "dot" | "dashed"
      nameKey?: string
      labelKey?: string
    }
>(
  (
    {
      active,
      payload,
      className,
      indicator = "dot",
      hideLabel = false,
      hideIndicator = false,
      label,
      labelFormatter,
      labelClassName,
      formatter,
      color,
      nameKey,
      labelKey,
    },
    ref
  ) => {
    const { config } = useChart()

    const tooltipLabel = React.useMemo(() => {
      if (hideLabel || !payload?.length) {
        return null
      }

      const [item] = payload
      const key = `${labelKey || item.dataKey || item.name || "value"}`
      const itemConfig = getPayloadConfigFromPayload(config, item, key)
      const value =
        !labelKey && typeof label === "string"
          ? config[label as keyof typeof config]?.label || label
          : itemConfig?.label

      if (labelFormatter) {
        return (
          <div className={cn("font-medium", labelClassName)}>
            {labelFormatter(value, payload)}
          </div>
        )
      }

      if (!value) {
        return null
      }

      return <div className={cn("font-medium", labelClassName)}>{value}</div>
    }, [
      label,
      labelFormatter,
      payload,
      hideLabel,
      labelClassName,
      config,
      labelKey,
    ])

    if (!active || !payload?.length) {
      return null
    }

    const nestLabel = payload.length === 1 && indicator !== "dot"

    return (
      <div
        ref={ref}
        className={cn(
          "grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",
          className
        )}
      >
        {!nestLabel ? tooltipLabel : null}
        <div className="grid gap-1.5">
          {payload.map((item, index) => {
            const key = `${nameKey || item.name || item.dataKey || "value"}`
            const itemConfig = getPayloadConfigFromPayload(config, item, key)
            const indicatorColor = color || item.payload.fill || item.color

            return (
              <div
                key={item.dataKey}
                className={cn(
                  "flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",
                  indicator === "dot" && "items-center"
                )}
              >
                {formatter && item?.value !== undefined && item.name ? (
                  formatter(item.value, item.name, item, index, item.payload)
                ) : (
                  <>
                    {itemConfig?.icon ? (
                      <itemConfig.icon />
                    ) : (
                      !hideIndicator && (
                        <div
                          className={cn(
                            "shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",
                            {
                              "h-2.5 w-2.5": indicator === "dot",
                              "w-1": indicator === "line",
                              "w-0 border-[1.5px] border-dashed bg-transparent":
                                indicator === "dashed",
                              "my-0.5": nestLabel && indicator === "dashed",
                            }
                          )}
                          style={
                            {
                              "--color-bg": indicatorColor,
                              "--color-border": indicatorColor,
                            } as React.CSSProperties
                          }
                        />
                      )
                    )}
                    <div
                      className={cn(
                        "flex flex-1 justify-between leading-none",
                        nestLabel ? "items-end" : "items-center"
                      )}
                    >
                      <div className="grid gap-1.5">
                        {nestLabel ? tooltipLabel : null}
                        <span className="text-muted-foreground">
                          {itemConfig?.label || item.name}
                        </span>
                      </div>
                      {item.value && (
                        <span className="font-mono font-medium tabular-nums text-foreground">
                          {item.value.toLocaleString()}
                        </span>
                      )}
                    </div>
                  </>
                )}
              </div>
            )
          })}
        </div>
      </div>
    )
  }
)
ChartTooltipContent.displayName = "ChartTooltip"

const ChartLegend = RechartsPrimitive.Legend

const ChartLegendContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> &
    Pick<RechartsPrimitive.LegendProps, "payload" | "verticalAlign"> & {
      hideIcon?: boolean
      nameKey?: string
    }
>(
  (
    { className, hideIcon = false, payload, verticalAlign = "bottom", nameKey },
    ref
  ) => {
    const { config } = useChart()

    if (!payload?.length) {
      return null
    }

    return (
      <div
        ref={ref}
        className={cn(
          "flex items-center justify-center gap-4",
          verticalAlign === "top" ? "pb-3" : "pt-3",
          className
        )}
      >
        {payload.map((item) => {
          const key = `${nameKey || item.dataKey || "value"}`
          const itemConfig = getPayloadConfigFromPayload(config, item, key)

          return (
            <div
              key={item.value}
              className={cn(
                "flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"
              )}
            >
              {itemConfig?.icon && !hideIcon ? (
                <itemConfig.icon />
              ) : (
                <div
                  className="h-2 w-2 shrink-0 rounded-[2px]"
                  style={{
                    backgroundColor: item.color,
                  }}
                />
              )}
              {itemConfig?.label}
            </div>
          )
        })}
      </div>
    )
  }
)
ChartLegendContent.displayName = "ChartLegend"

// Helper to extract item config from a payload.
function getPayloadConfigFromPayload(
  config: ChartConfig,
  payload: unknown,
  key: string
) {
  if (typeof payload !== "object" || payload === null) {
    return undefined
  }

  const payloadPayload =
    "payload" in payload &&
    typeof payload.payload === "object" &&
    payload.payload !== null
      ? payload.payload
      : undefined

  let configLabelKey: string = key

  if (
    key in payload &&
    typeof payload[key as keyof typeof payload] === "string"
  ) {
    configLabelKey = payload[key as keyof typeof payload] as string
  } else if (
    payloadPayload &&
    key in payloadPayload &&
    typeof payloadPayload[key as keyof typeof payloadPayload] === "string"
  ) {
    configLabelKey = payloadPayload[
      key as keyof typeof payloadPayload
    ] as string
  }

  return configLabelKey in config
    ? config[configLabelKey]
    : config[key as keyof typeof config]
}

export {
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
  ChartLegend,
  ChartLegendContent,
  ChartStyle,
}
</file>

<file path="src/components/ui/checkbox.tsx">
import * as React from "react"
import * as CheckboxPrimitive from "@radix-ui/react-checkbox"
import { Check } from "lucide-react"

import { cn } from "@/lib/utils"

const Checkbox = React.forwardRef<
  React.ElementRef<typeof CheckboxPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>
>(({ className, ...props }, ref) => (
  <CheckboxPrimitive.Root
    ref={ref}
    className={cn(
      "peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",
      className
    )}
    {...props}
  >
    <CheckboxPrimitive.Indicator
      className={cn("flex items-center justify-center text-current")}
    >
      <Check className="h-4 w-4" />
    </CheckboxPrimitive.Indicator>
  </CheckboxPrimitive.Root>
))
Checkbox.displayName = CheckboxPrimitive.Root.displayName

export { Checkbox }
</file>

<file path="src/components/ui/collapsible.tsx">
import * as CollapsiblePrimitive from "@radix-ui/react-collapsible"

const Collapsible = CollapsiblePrimitive.Root

const CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger

const CollapsibleContent = CollapsiblePrimitive.CollapsibleContent

export { Collapsible, CollapsibleTrigger, CollapsibleContent }
</file>

<file path="src/components/ui/command.tsx">
import * as React from "react"
import { type DialogProps } from "@radix-ui/react-dialog"
import { Command as CommandPrimitive } from "cmdk"
import { Search } from "lucide-react"

import { cn } from "@/lib/utils"
import { Dialog, DialogContent } from "@/components/ui/dialog"

const Command = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive>
>(({ className, ...props }, ref) => (
  <CommandPrimitive
    ref={ref}
    className={cn(
      "flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",
      className
    )}
    {...props}
  />
))
Command.displayName = CommandPrimitive.displayName

interface CommandDialogProps extends DialogProps {}

const CommandDialog = ({ children, ...props }: CommandDialogProps) => {
  return (
    <Dialog {...props}>
      <DialogContent className="overflow-hidden p-0 shadow-lg">
        <Command className="[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5">
          {children}
        </Command>
      </DialogContent>
    </Dialog>
  )
}

const CommandInput = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Input>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>
>(({ className, ...props }, ref) => (
  <div className="flex items-center border-b px-3" cmdk-input-wrapper="">
    <Search className="mr-2 h-4 w-4 shrink-0 opacity-50" />
    <CommandPrimitive.Input
      ref={ref}
      className={cn(
        "flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    />
  </div>
))

CommandInput.displayName = CommandPrimitive.Input.displayName

const CommandList = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.List
    ref={ref}
    className={cn("max-h-[300px] overflow-y-auto overflow-x-hidden", className)}
    {...props}
  />
))

CommandList.displayName = CommandPrimitive.List.displayName

const CommandEmpty = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Empty>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>
>((props, ref) => (
  <CommandPrimitive.Empty
    ref={ref}
    className="py-6 text-center text-sm"
    {...props}
  />
))

CommandEmpty.displayName = CommandPrimitive.Empty.displayName

const CommandGroup = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Group>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Group
    ref={ref}
    className={cn(
      "overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",
      className
    )}
    {...props}
  />
))

CommandGroup.displayName = CommandPrimitive.Group.displayName

const CommandSeparator = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 h-px bg-border", className)}
    {...props}
  />
))
CommandSeparator.displayName = CommandPrimitive.Separator.displayName

const CommandItem = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",
      className
    )}
    {...props}
  />
))

CommandItem.displayName = CommandPrimitive.Item.displayName

const CommandShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        "ml-auto text-xs tracking-widest text-muted-foreground",
        className
      )}
      {...props}
    />
  )
}
CommandShortcut.displayName = "CommandShortcut"

export {
  Command,
  CommandDialog,
  CommandInput,
  CommandList,
  CommandEmpty,
  CommandGroup,
  CommandItem,
  CommandShortcut,
  CommandSeparator,
}
</file>

<file path="src/components/ui/context-menu.tsx">
import * as React from "react"
import * as ContextMenuPrimitive from "@radix-ui/react-context-menu"
import { Check, ChevronRight, Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const ContextMenu = ContextMenuPrimitive.Root

const ContextMenuTrigger = ContextMenuPrimitive.Trigger

const ContextMenuGroup = ContextMenuPrimitive.Group

const ContextMenuPortal = ContextMenuPrimitive.Portal

const ContextMenuSub = ContextMenuPrimitive.Sub

const ContextMenuRadioGroup = ContextMenuPrimitive.RadioGroup

const ContextMenuSubTrigger = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubTrigger> & {
    inset?: boolean
  }
>(({ className, inset, children, ...props }, ref) => (
  <ContextMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",
      inset && "pl-8",
      className
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </ContextMenuPrimitive.SubTrigger>
))
ContextMenuSubTrigger.displayName = ContextMenuPrimitive.SubTrigger.displayName

const ContextMenuSubContent = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
ContextMenuSubContent.displayName = ContextMenuPrimitive.SubContent.displayName

const ContextMenuContent = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Content>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.Portal>
    <ContextMenuPrimitive.Content
      ref={ref}
      className={cn(
        "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className
      )}
      {...props}
    />
  </ContextMenuPrimitive.Portal>
))
ContextMenuContent.displayName = ContextMenuPrimitive.Content.displayName

const ContextMenuItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Item> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <ContextMenuPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
ContextMenuItem.displayName = ContextMenuPrimitive.Item.displayName

const ContextMenuCheckboxItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <ContextMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <ContextMenuPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </ContextMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </ContextMenuPrimitive.CheckboxItem>
))
ContextMenuCheckboxItem.displayName =
  ContextMenuPrimitive.CheckboxItem.displayName

const ContextMenuRadioItem = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <ContextMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <ContextMenuPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </ContextMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </ContextMenuPrimitive.RadioItem>
))
ContextMenuRadioItem.displayName = ContextMenuPrimitive.RadioItem.displayName

const ContextMenuLabel = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Label> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <ContextMenuPrimitive.Label
    ref={ref}
    className={cn(
      "px-2 py-1.5 text-sm font-semibold text-foreground",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
ContextMenuLabel.displayName = ContextMenuPrimitive.Label.displayName

const ContextMenuSeparator = React.forwardRef<
  React.ElementRef<typeof ContextMenuPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof ContextMenuPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <ContextMenuPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-border", className)}
    {...props}
  />
))
ContextMenuSeparator.displayName = ContextMenuPrimitive.Separator.displayName

const ContextMenuShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        "ml-auto text-xs tracking-widest text-muted-foreground",
        className
      )}
      {...props}
    />
  )
}
ContextMenuShortcut.displayName = "ContextMenuShortcut"

export {
  ContextMenu,
  ContextMenuTrigger,
  ContextMenuContent,
  ContextMenuItem,
  ContextMenuCheckboxItem,
  ContextMenuRadioItem,
  ContextMenuLabel,
  ContextMenuSeparator,
  ContextMenuShortcut,
  ContextMenuGroup,
  ContextMenuPortal,
  ContextMenuSub,
  ContextMenuSubContent,
  ContextMenuSubTrigger,
  ContextMenuRadioGroup,
}
</file>

<file path="src/components/ui/dialog.tsx">
import * as React from "react"
import * as DialogPrimitive from "@radix-ui/react-dialog"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const Dialog = DialogPrimitive.Root

const DialogTrigger = DialogPrimitive.Trigger

const DialogPortal = DialogPrimitive.Portal

const DialogClose = DialogPrimitive.Close

const DialogOverlay = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Overlay
    ref={ref}
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
  />
))
DialogOverlay.displayName = DialogPrimitive.Overlay.displayName

const DialogContent = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DialogPortal>
    <DialogOverlay />
    <DialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",
        className
      )}
      {...props}
    >
      {children}
      <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </DialogPrimitive.Close>
    </DialogPrimitive.Content>
  </DialogPortal>
))
DialogContent.displayName = DialogPrimitive.Content.displayName

const DialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-1.5 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
DialogHeader.displayName = "DialogHeader"

const DialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
DialogFooter.displayName = "DialogFooter"

const DialogTitle = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Title
    ref={ref}
    className={cn(
      "text-lg font-semibold leading-none tracking-tight",
      className
    )}
    {...props}
  />
))
DialogTitle.displayName = DialogPrimitive.Title.displayName

const DialogDescription = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
DialogDescription.displayName = DialogPrimitive.Description.displayName

export {
  Dialog,
  DialogPortal,
  DialogOverlay,
  DialogClose,
  DialogTrigger,
  DialogContent,
  DialogHeader,
  DialogFooter,
  DialogTitle,
  DialogDescription,
}
</file>

<file path="src/components/ui/drawer.tsx">
import * as React from "react"
import { Drawer as DrawerPrimitive } from "vaul"

import { cn } from "@/lib/utils"

const Drawer = ({
  shouldScaleBackground = true,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (
  <DrawerPrimitive.Root
    shouldScaleBackground={shouldScaleBackground}
    {...props}
  />
)
Drawer.displayName = "Drawer"

const DrawerTrigger = DrawerPrimitive.Trigger

const DrawerPortal = DrawerPrimitive.Portal

const DrawerClose = DrawerPrimitive.Close

const DrawerOverlay = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Overlay
    ref={ref}
    className={cn("fixed inset-0 z-50 bg-black/80", className)}
    {...props}
  />
))
DrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName

const DrawerContent = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DrawerPortal>
    <DrawerOverlay />
    <DrawerPrimitive.Content
      ref={ref}
      className={cn(
        "fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",
        className
      )}
      {...props}
    >
      <div className="mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted" />
      {children}
    </DrawerPrimitive.Content>
  </DrawerPortal>
))
DrawerContent.displayName = "DrawerContent"

const DrawerHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn("grid gap-1.5 p-4 text-center sm:text-left", className)}
    {...props}
  />
)
DrawerHeader.displayName = "DrawerHeader"

const DrawerFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn("mt-auto flex flex-col gap-2 p-4", className)}
    {...props}
  />
)
DrawerFooter.displayName = "DrawerFooter"

const DrawerTitle = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Title
    ref={ref}
    className={cn(
      "text-lg font-semibold leading-none tracking-tight",
      className
    )}
    {...props}
  />
))
DrawerTitle.displayName = DrawerPrimitive.Title.displayName

const DrawerDescription = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
DrawerDescription.displayName = DrawerPrimitive.Description.displayName

export {
  Drawer,
  DrawerPortal,
  DrawerOverlay,
  DrawerTrigger,
  DrawerClose,
  DrawerContent,
  DrawerHeader,
  DrawerFooter,
  DrawerTitle,
  DrawerDescription,
}
</file>

<file path="src/components/ui/dropdown-menu.tsx">
import * as React from "react"
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu"
import { Check, ChevronRight, Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const DropdownMenu = DropdownMenuPrimitive.Root

const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger

const DropdownMenuGroup = DropdownMenuPrimitive.Group

const DropdownMenuPortal = DropdownMenuPrimitive.Portal

const DropdownMenuSub = DropdownMenuPrimitive.Sub

const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup

const DropdownMenuSubTrigger = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {
    inset?: boolean
  }
>(({ className, inset, children, ...props }, ref) => (
  <DropdownMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",
      inset && "pl-8",
      className
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </DropdownMenuPrimitive.SubTrigger>
))
DropdownMenuSubTrigger.displayName =
  DropdownMenuPrimitive.SubTrigger.displayName

const DropdownMenuSubContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
DropdownMenuSubContent.displayName =
  DropdownMenuPrimitive.SubContent.displayName

const DropdownMenuContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <DropdownMenuPrimitive.Portal>
    <DropdownMenuPrimitive.Content
      ref={ref}
      sideOffset={sideOffset}
      className={cn(
        "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className
      )}
      {...props}
    />
  </DropdownMenuPrimitive.Portal>
))
DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName

const DropdownMenuItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName

const DropdownMenuCheckboxItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <DropdownMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.CheckboxItem>
))
DropdownMenuCheckboxItem.displayName =
  DropdownMenuPrimitive.CheckboxItem.displayName

const DropdownMenuRadioItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <DropdownMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.RadioItem>
))
DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName

const DropdownMenuLabel = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Label
    ref={ref}
    className={cn(
      "px-2 py-1.5 text-sm font-semibold",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName

const DropdownMenuSeparator = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
DropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName

const DropdownMenuShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn("ml-auto text-xs tracking-widest opacity-60", className)}
      {...props}
    />
  )
}
DropdownMenuShortcut.displayName = "DropdownMenuShortcut"

export {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuGroup,
  DropdownMenuPortal,
  DropdownMenuSub,
  DropdownMenuSubContent,
  DropdownMenuSubTrigger,
  DropdownMenuRadioGroup,
}
</file>

<file path="src/components/ui/form.tsx">
import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"
import { Slot } from "@radix-ui/react-slot"
import {
  Controller,
  ControllerProps,
  FieldPath,
  FieldValues,
  FormProvider,
  useFormContext,
} from "react-hook-form"

import { cn } from "@/lib/utils"
import { Label } from "@/components/ui/label"

const Form = FormProvider

type FormFieldContextValue<
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
> = {
  name: TName
}

const FormFieldContext = React.createContext<FormFieldContextValue>(
  {} as FormFieldContextValue
)

const FormField = <
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
>({
  ...props
}: ControllerProps<TFieldValues, TName>) => {
  return (
    <FormFieldContext.Provider value={{ name: props.name }}>
      <Controller {...props} />
    </FormFieldContext.Provider>
  )
}

const useFormField = () => {
  const fieldContext = React.useContext(FormFieldContext)
  const itemContext = React.useContext(FormItemContext)
  const { getFieldState, formState } = useFormContext()

  const fieldState = getFieldState(fieldContext.name, formState)

  if (!fieldContext) {
    throw new Error("useFormField should be used within <FormField>")
  }

  const { id } = itemContext

  return {
    id,
    name: fieldContext.name,
    formItemId: `${id}-form-item`,
    formDescriptionId: `${id}-form-item-description`,
    formMessageId: `${id}-form-item-message`,
    ...fieldState,
  }
}

type FormItemContextValue = {
  id: string
}

const FormItemContext = React.createContext<FormItemContextValue>(
  {} as FormItemContextValue
)

const FormItem = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const id = React.useId()

  return (
    <FormItemContext.Provider value={{ id }}>
      <div ref={ref} className={cn("space-y-2", className)} {...props} />
    </FormItemContext.Provider>
  )
})
FormItem.displayName = "FormItem"

const FormLabel = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>
>(({ className, ...props }, ref) => {
  const { error, formItemId } = useFormField()

  return (
    <Label
      ref={ref}
      className={cn(error && "text-destructive", className)}
      htmlFor={formItemId}
      {...props}
    />
  )
})
FormLabel.displayName = "FormLabel"

const FormControl = React.forwardRef<
  React.ElementRef<typeof Slot>,
  React.ComponentPropsWithoutRef<typeof Slot>
>(({ ...props }, ref) => {
  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()

  return (
    <Slot
      ref={ref}
      id={formItemId}
      aria-describedby={
        !error
          ? `${formDescriptionId}`
          : `${formDescriptionId} ${formMessageId}`
      }
      aria-invalid={!!error}
      {...props}
    />
  )
})
FormControl.displayName = "FormControl"

const FormDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => {
  const { formDescriptionId } = useFormField()

  return (
    <p
      ref={ref}
      id={formDescriptionId}
      className={cn("text-sm text-muted-foreground", className)}
      {...props}
    />
  )
})
FormDescription.displayName = "FormDescription"

const FormMessage = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, children, ...props }, ref) => {
  const { error, formMessageId } = useFormField()
  const body = error ? String(error?.message) : children

  if (!body) {
    return null
  }

  return (
    <p
      ref={ref}
      id={formMessageId}
      className={cn("text-sm font-medium text-destructive", className)}
      {...props}
    >
      {body}
    </p>
  )
})
FormMessage.displayName = "FormMessage"

export {
  useFormField,
  Form,
  FormItem,
  FormLabel,
  FormControl,
  FormDescription,
  FormMessage,
  FormField,
}
</file>

<file path="src/components/ui/hover-card.tsx">
import * as React from "react"
import * as HoverCardPrimitive from "@radix-ui/react-hover-card"

import { cn } from "@/lib/utils"

const HoverCard = HoverCardPrimitive.Root

const HoverCardTrigger = HoverCardPrimitive.Trigger

const HoverCardContent = React.forwardRef<
  React.ElementRef<typeof HoverCardPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>
>(({ className, align = "center", sideOffset = 4, ...props }, ref) => (
  <HoverCardPrimitive.Content
    ref={ref}
    align={align}
    sideOffset={sideOffset}
    className={cn(
      "z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
HoverCardContent.displayName = HoverCardPrimitive.Content.displayName

export { HoverCard, HoverCardTrigger, HoverCardContent }
</file>

<file path="src/components/ui/input-otp.tsx">
import * as React from "react"
import { OTPInput, OTPInputContext } from "input-otp"
import { Dot } from "lucide-react"

import { cn } from "@/lib/utils"

const InputOTP = React.forwardRef<
  React.ElementRef<typeof OTPInput>,
  React.ComponentPropsWithoutRef<typeof OTPInput>
>(({ className, containerClassName, ...props }, ref) => (
  <OTPInput
    ref={ref}
    containerClassName={cn(
      "flex items-center gap-2 has-[:disabled]:opacity-50",
      containerClassName
    )}
    className={cn("disabled:cursor-not-allowed", className)}
    {...props}
  />
))
InputOTP.displayName = "InputOTP"

const InputOTPGroup = React.forwardRef<
  React.ElementRef<"div">,
  React.ComponentPropsWithoutRef<"div">
>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn("flex items-center", className)} {...props} />
))
InputOTPGroup.displayName = "InputOTPGroup"

const InputOTPSlot = React.forwardRef<
  React.ElementRef<"div">,
  React.ComponentPropsWithoutRef<"div"> & { index: number }
>(({ index, className, ...props }, ref) => {
  const inputOTPContext = React.useContext(OTPInputContext)
  const { char, hasFakeCaret, isActive } = inputOTPContext.slots[index]

  return (
    <div
      ref={ref}
      className={cn(
        "relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",
        isActive && "z-10 ring-2 ring-ring ring-offset-background",
        className
      )}
      {...props}
    >
      {char}
      {hasFakeCaret && (
        <div className="pointer-events-none absolute inset-0 flex items-center justify-center">
          <div className="h-4 w-px animate-caret-blink bg-foreground duration-1000" />
        </div>
      )}
    </div>
  )
})
InputOTPSlot.displayName = "InputOTPSlot"

const InputOTPSeparator = React.forwardRef<
  React.ElementRef<"div">,
  React.ComponentPropsWithoutRef<"div">
>(({ ...props }, ref) => (
  <div ref={ref} role="separator" {...props}>
    <Dot />
  </div>
))
InputOTPSeparator.displayName = "InputOTPSeparator"

export { InputOTP, InputOTPGroup, InputOTPSlot, InputOTPSeparator }
</file>

<file path="src/components/ui/input.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

const Input = React.forwardRef<HTMLInputElement, React.ComponentProps<"input">>(
  ({ className, type, ...props }, ref) => {
    return (
      <input
        type={type}
        className={cn(
          "flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
          className
        )}
        ref={ref}
        {...props}
      />
    )
  }
)
Input.displayName = "Input"

export { Input }
</file>

<file path="src/components/ui/label.tsx">
import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const labelVariants = cva(
  "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
)

const Label = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &
    VariantProps<typeof labelVariants>
>(({ className, ...props }, ref) => (
  <LabelPrimitive.Root
    ref={ref}
    className={cn(labelVariants(), className)}
    {...props}
  />
))
Label.displayName = LabelPrimitive.Root.displayName

export { Label }
</file>

<file path="src/components/ui/menubar.tsx">
import * as React from "react"
import * as MenubarPrimitive from "@radix-ui/react-menubar"
import { Check, ChevronRight, Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const MenubarMenu = MenubarPrimitive.Menu

const MenubarGroup = MenubarPrimitive.Group

const MenubarPortal = MenubarPrimitive.Portal

const MenubarSub = MenubarPrimitive.Sub

const MenubarRadioGroup = MenubarPrimitive.RadioGroup

const Menubar = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Root
    ref={ref}
    className={cn(
      "flex h-10 items-center space-x-1 rounded-md border bg-background p-1",
      className
    )}
    {...props}
  />
))
Menubar.displayName = MenubarPrimitive.Root.displayName

const MenubarTrigger = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",
      className
    )}
    {...props}
  />
))
MenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName

const MenubarSubTrigger = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {
    inset?: boolean
  }
>(({ className, inset, children, ...props }, ref) => (
  <MenubarPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",
      inset && "pl-8",
      className
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto h-4 w-4" />
  </MenubarPrimitive.SubTrigger>
))
MenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName

const MenubarSubContent = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
MenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName

const MenubarContent = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>
>(
  (
    { className, align = "start", alignOffset = -4, sideOffset = 8, ...props },
    ref
  ) => (
    <MenubarPrimitive.Portal>
      <MenubarPrimitive.Content
        ref={ref}
        align={align}
        alignOffset={alignOffset}
        sideOffset={sideOffset}
        className={cn(
          "z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
          className
        )}
        {...props}
      />
    </MenubarPrimitive.Portal>
  )
)
MenubarContent.displayName = MenubarPrimitive.Content.displayName

const MenubarItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <MenubarPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
MenubarItem.displayName = MenubarPrimitive.Item.displayName

const MenubarCheckboxItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <MenubarPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <MenubarPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </MenubarPrimitive.ItemIndicator>
    </span>
    {children}
  </MenubarPrimitive.CheckboxItem>
))
MenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName

const MenubarRadioItem = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <MenubarPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <MenubarPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </MenubarPrimitive.ItemIndicator>
    </span>
    {children}
  </MenubarPrimitive.RadioItem>
))
MenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName

const MenubarLabel = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <MenubarPrimitive.Label
    ref={ref}
    className={cn(
      "px-2 py-1.5 text-sm font-semibold",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
MenubarLabel.displayName = MenubarPrimitive.Label.displayName

const MenubarSeparator = React.forwardRef<
  React.ElementRef<typeof MenubarPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <MenubarPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
MenubarSeparator.displayName = MenubarPrimitive.Separator.displayName

const MenubarShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        "ml-auto text-xs tracking-widest text-muted-foreground",
        className
      )}
      {...props}
    />
  )
}
MenubarShortcut.displayname = "MenubarShortcut"

export {
  Menubar,
  MenubarMenu,
  MenubarTrigger,
  MenubarContent,
  MenubarItem,
  MenubarSeparator,
  MenubarLabel,
  MenubarCheckboxItem,
  MenubarRadioGroup,
  MenubarRadioItem,
  MenubarPortal,
  MenubarSubContent,
  MenubarSubTrigger,
  MenubarGroup,
  MenubarSub,
  MenubarShortcut,
}
</file>

<file path="src/components/ui/navigation-menu.tsx">
import * as React from "react"
import * as NavigationMenuPrimitive from "@radix-ui/react-navigation-menu"
import { cva } from "class-variance-authority"
import { ChevronDown } from "lucide-react"

import { cn } from "@/lib/utils"

const NavigationMenu = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>
>(({ className, children, ...props }, ref) => (
  <NavigationMenuPrimitive.Root
    ref={ref}
    className={cn(
      "relative z-10 flex max-w-max flex-1 items-center justify-center",
      className
    )}
    {...props}
  >
    {children}
    <NavigationMenuViewport />
  </NavigationMenuPrimitive.Root>
))
NavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName

const NavigationMenuList = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.List
    ref={ref}
    className={cn(
      "group flex flex-1 list-none items-center justify-center space-x-1",
      className
    )}
    {...props}
  />
))
NavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName

const NavigationMenuItem = NavigationMenuPrimitive.Item

const navigationMenuTriggerStyle = cva(
  "group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"
)

const NavigationMenuTrigger = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <NavigationMenuPrimitive.Trigger
    ref={ref}
    className={cn(navigationMenuTriggerStyle(), "group", className)}
    {...props}
  >
    {children}{" "}
    <ChevronDown
      className="relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180"
      aria-hidden="true"
    />
  </NavigationMenuPrimitive.Trigger>
))
NavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName

const NavigationMenuContent = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.Content
    ref={ref}
    className={cn(
      "left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",
      className
    )}
    {...props}
  />
))
NavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName

const NavigationMenuLink = NavigationMenuPrimitive.Link

const NavigationMenuViewport = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>
>(({ className, ...props }, ref) => (
  <div className={cn("absolute left-0 top-full flex justify-center")}>
    <NavigationMenuPrimitive.Viewport
      className={cn(
        "origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",
        className
      )}
      ref={ref}
      {...props}
    />
  </div>
))
NavigationMenuViewport.displayName =
  NavigationMenuPrimitive.Viewport.displayName

const NavigationMenuIndicator = React.forwardRef<
  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,
  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>
>(({ className, ...props }, ref) => (
  <NavigationMenuPrimitive.Indicator
    ref={ref}
    className={cn(
      "top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",
      className
    )}
    {...props}
  >
    <div className="relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md" />
  </NavigationMenuPrimitive.Indicator>
))
NavigationMenuIndicator.displayName =
  NavigationMenuPrimitive.Indicator.displayName

export {
  navigationMenuTriggerStyle,
  NavigationMenu,
  NavigationMenuList,
  NavigationMenuItem,
  NavigationMenuContent,
  NavigationMenuTrigger,
  NavigationMenuLink,
  NavigationMenuIndicator,
  NavigationMenuViewport,
}
</file>

<file path="src/components/ui/pagination.tsx">
import * as React from "react"
import { ChevronLeft, ChevronRight, MoreHorizontal } from "lucide-react"

import { cn } from "@/lib/utils"
import { ButtonProps, buttonVariants } from "@/components/ui/button"

const Pagination = ({ className, ...props }: React.ComponentProps<"nav">) => (
  <nav
    role="navigation"
    aria-label="pagination"
    className={cn("mx-auto flex w-full justify-center", className)}
    {...props}
  />
)
Pagination.displayName = "Pagination"

const PaginationContent = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<"ul">
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    className={cn("flex flex-row items-center gap-1", className)}
    {...props}
  />
))
PaginationContent.displayName = "PaginationContent"

const PaginationItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<"li">
>(({ className, ...props }, ref) => (
  <li ref={ref} className={cn("", className)} {...props} />
))
PaginationItem.displayName = "PaginationItem"

type PaginationLinkProps = {
  isActive?: boolean
} & Pick<ButtonProps, "size"> &
  React.ComponentProps<"a">

const PaginationLink = ({
  className,
  isActive,
  size = "icon",
  ...props
}: PaginationLinkProps) => (
  <a
    aria-current={isActive ? "page" : undefined}
    className={cn(
      buttonVariants({
        variant: isActive ? "outline" : "ghost",
        size,
      }),
      className
    )}
    {...props}
  />
)
PaginationLink.displayName = "PaginationLink"

const PaginationPrevious = ({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) => (
  <PaginationLink
    aria-label="Go to previous page"
    size="default"
    className={cn("gap-1 pl-2.5", className)}
    {...props}
  >
    <ChevronLeft className="h-4 w-4" />
    <span>Previous</span>
  </PaginationLink>
)
PaginationPrevious.displayName = "PaginationPrevious"

const PaginationNext = ({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) => (
  <PaginationLink
    aria-label="Go to next page"
    size="default"
    className={cn("gap-1 pr-2.5", className)}
    {...props}
  >
    <span>Next</span>
    <ChevronRight className="h-4 w-4" />
  </PaginationLink>
)
PaginationNext.displayName = "PaginationNext"

const PaginationEllipsis = ({
  className,
  ...props
}: React.ComponentProps<"span">) => (
  <span
    aria-hidden
    className={cn("flex h-9 w-9 items-center justify-center", className)}
    {...props}
  >
    <MoreHorizontal className="h-4 w-4" />
    <span className="sr-only">More pages</span>
  </span>
)
PaginationEllipsis.displayName = "PaginationEllipsis"

export {
  Pagination,
  PaginationContent,
  PaginationEllipsis,
  PaginationItem,
  PaginationLink,
  PaginationNext,
  PaginationPrevious,
}
</file>

<file path="src/components/ui/popover.tsx">
import * as React from "react"
import * as PopoverPrimitive from "@radix-ui/react-popover"

import { cn } from "@/lib/utils"

const Popover = PopoverPrimitive.Root

const PopoverTrigger = PopoverPrimitive.Trigger

const PopoverContent = React.forwardRef<
  React.ElementRef<typeof PopoverPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>
>(({ className, align = "center", sideOffset = 4, ...props }, ref) => (
  <PopoverPrimitive.Portal>
    <PopoverPrimitive.Content
      ref={ref}
      align={align}
      sideOffset={sideOffset}
      className={cn(
        "z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        className
      )}
      {...props}
    />
  </PopoverPrimitive.Portal>
))
PopoverContent.displayName = PopoverPrimitive.Content.displayName

export { Popover, PopoverTrigger, PopoverContent }
</file>

<file path="src/components/ui/progress.tsx">
import * as React from "react"
import * as ProgressPrimitive from "@radix-ui/react-progress"

import { cn } from "@/lib/utils"

const Progress = React.forwardRef<
  React.ElementRef<typeof ProgressPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>
>(({ className, value, ...props }, ref) => (
  <ProgressPrimitive.Root
    ref={ref}
    className={cn(
      "relative h-4 w-full overflow-hidden rounded-full bg-secondary",
      className
    )}
    {...props}
  >
    <ProgressPrimitive.Indicator
      className="h-full w-full flex-1 bg-primary transition-all"
      style={{ transform: `translateX(-${100 - (value || 0)}%)` }}
    />
  </ProgressPrimitive.Root>
))
Progress.displayName = ProgressPrimitive.Root.displayName

export { Progress }
</file>

<file path="src/components/ui/radio-group.tsx">
import * as React from "react"
import * as RadioGroupPrimitive from "@radix-ui/react-radio-group"
import { Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const RadioGroup = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>
>(({ className, ...props }, ref) => {
  return (
    <RadioGroupPrimitive.Root
      className={cn("grid gap-2", className)}
      {...props}
      ref={ref}
    />
  )
})
RadioGroup.displayName = RadioGroupPrimitive.Root.displayName

const RadioGroupItem = React.forwardRef<
  React.ElementRef<typeof RadioGroupPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>
>(({ className, ...props }, ref) => {
  return (
    <RadioGroupPrimitive.Item
      ref={ref}
      className={cn(
        "aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    >
      <RadioGroupPrimitive.Indicator className="flex items-center justify-center">
        <Circle className="h-2.5 w-2.5 fill-current text-current" />
      </RadioGroupPrimitive.Indicator>
    </RadioGroupPrimitive.Item>
  )
})
RadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName

export { RadioGroup, RadioGroupItem }
</file>

<file path="src/components/ui/resizable.tsx">
import { GripVertical } from "lucide-react"
import * as ResizablePrimitive from "react-resizable-panels"

import { cn } from "@/lib/utils"

const ResizablePanelGroup = ({
  className,
  ...props
}: React.ComponentProps<typeof ResizablePrimitive.PanelGroup>) => (
  <ResizablePrimitive.PanelGroup
    className={cn(
      "flex h-full w-full data-[panel-group-direction=vertical]:flex-col",
      className
    )}
    {...props}
  />
)

const ResizablePanel = ResizablePrimitive.Panel

const ResizableHandle = ({
  withHandle,
  className,
  ...props
}: React.ComponentProps<typeof ResizablePrimitive.PanelResizeHandle> & {
  withHandle?: boolean
}) => (
  <ResizablePrimitive.PanelResizeHandle
    className={cn(
      "relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",
      className
    )}
    {...props}
  >
    {withHandle && (
      <div className="z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border">
        <GripVertical className="h-2.5 w-2.5" />
      </div>
    )}
  </ResizablePrimitive.PanelResizeHandle>
)

export { ResizablePanelGroup, ResizablePanel, ResizableHandle }
</file>

<file path="src/components/ui/scroll-area.tsx">
import * as React from "react"
import * as ScrollAreaPrimitive from "@radix-ui/react-scroll-area"

import { cn } from "@/lib/utils"

const ScrollArea = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>
>(({ className, children, ...props }, ref) => (
  <ScrollAreaPrimitive.Root
    ref={ref}
    className={cn("relative overflow-hidden", className)}
    {...props}
  >
    <ScrollAreaPrimitive.Viewport className="h-full w-full rounded-[inherit]">
      {children}
    </ScrollAreaPrimitive.Viewport>
    <ScrollBar />
    <ScrollAreaPrimitive.Corner />
  </ScrollAreaPrimitive.Root>
))
ScrollArea.displayName = ScrollAreaPrimitive.Root.displayName

const ScrollBar = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>
>(({ className, orientation = "vertical", ...props }, ref) => (
  <ScrollAreaPrimitive.ScrollAreaScrollbar
    ref={ref}
    orientation={orientation}
    className={cn(
      "flex touch-none select-none transition-colors",
      orientation === "vertical" &&
        "h-full w-2.5 border-l border-l-transparent p-[1px]",
      orientation === "horizontal" &&
        "h-2.5 flex-col border-t border-t-transparent p-[1px]",
      className
    )}
    {...props}
  >
    <ScrollAreaPrimitive.ScrollAreaThumb className="relative flex-1 rounded-full bg-border" />
  </ScrollAreaPrimitive.ScrollAreaScrollbar>
))
ScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName

export { ScrollArea, ScrollBar }
</file>

<file path="src/components/ui/select.tsx">
import * as React from "react"
import * as SelectPrimitive from "@radix-ui/react-select"
import { Check, ChevronDown, ChevronUp } from "lucide-react"

import { cn } from "@/lib/utils"

const Select = SelectPrimitive.Root

const SelectGroup = SelectPrimitive.Group

const SelectValue = SelectPrimitive.Value

const SelectTrigger = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",
      className
    )}
    {...props}
  >
    {children}
    <SelectPrimitive.Icon asChild>
      <ChevronDown className="h-4 w-4 opacity-50" />
    </SelectPrimitive.Icon>
  </SelectPrimitive.Trigger>
))
SelectTrigger.displayName = SelectPrimitive.Trigger.displayName

const SelectScrollUpButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollUpButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  >
    <ChevronUp className="h-4 w-4" />
  </SelectPrimitive.ScrollUpButton>
))
SelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName

const SelectScrollDownButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollDownButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  >
    <ChevronDown className="h-4 w-4" />
  </SelectPrimitive.ScrollDownButton>
))
SelectScrollDownButton.displayName =
  SelectPrimitive.ScrollDownButton.displayName

const SelectContent = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>
>(({ className, children, position = "popper", ...props }, ref) => (
  <SelectPrimitive.Portal>
    <SelectPrimitive.Content
      ref={ref}
      className={cn(
        "relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
        position === "popper" &&
          "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
        className
      )}
      position={position}
      {...props}
    >
      <SelectScrollUpButton />
      <SelectPrimitive.Viewport
        className={cn(
          "p-1",
          position === "popper" &&
            "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"
        )}
      >
        {children}
      </SelectPrimitive.Viewport>
      <SelectScrollDownButton />
    </SelectPrimitive.Content>
  </SelectPrimitive.Portal>
))
SelectContent.displayName = SelectPrimitive.Content.displayName

const SelectLabel = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Label
    ref={ref}
    className={cn("py-1.5 pl-8 pr-2 text-sm font-semibold", className)}
    {...props}
  />
))
SelectLabel.displayName = SelectPrimitive.Label.displayName

const SelectItem = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <SelectPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </SelectPrimitive.ItemIndicator>
    </span>

    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
  </SelectPrimitive.Item>
))
SelectItem.displayName = SelectPrimitive.Item.displayName

const SelectSeparator = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
SelectSeparator.displayName = SelectPrimitive.Separator.displayName

export {
  Select,
  SelectGroup,
  SelectValue,
  SelectTrigger,
  SelectContent,
  SelectLabel,
  SelectItem,
  SelectSeparator,
  SelectScrollUpButton,
  SelectScrollDownButton,
}
</file>

<file path="src/components/ui/separator.tsx">
import * as React from "react"
import * as SeparatorPrimitive from "@radix-ui/react-separator"

import { cn } from "@/lib/utils"

const Separator = React.forwardRef<
  React.ElementRef<typeof SeparatorPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>
>(
  (
    { className, orientation = "horizontal", decorative = true, ...props },
    ref
  ) => (
    <SeparatorPrimitive.Root
      ref={ref}
      decorative={decorative}
      orientation={orientation}
      className={cn(
        "shrink-0 bg-border",
        orientation === "horizontal" ? "h-[1px] w-full" : "h-full w-[1px]",
        className
      )}
      {...props}
    />
  )
)
Separator.displayName = SeparatorPrimitive.Root.displayName

export { Separator }
</file>

<file path="src/components/ui/sheet.tsx">
import * as SheetPrimitive from "@radix-ui/react-dialog"
import { cva, type VariantProps } from "class-variance-authority"
import { X } from "lucide-react"
import * as React from "react"

import { cn } from "@/lib/utils"

const Sheet = SheetPrimitive.Root

const SheetTrigger = SheetPrimitive.Trigger

const SheetClose = SheetPrimitive.Close

const SheetPortal = SheetPrimitive.Portal

const SheetOverlay = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Overlay
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
    ref={ref}
  />
))
SheetOverlay.displayName = SheetPrimitive.Overlay.displayName

const sheetVariants = cva(
  "fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",
  {
    variants: {
      side: {
        top: "inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",
        bottom:
          "inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",
        left: "inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",
        right:
          "inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",
      },
    },
    defaultVariants: {
      side: "right",
    },
  }
)

interface SheetContentProps
  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,
  VariantProps<typeof sheetVariants> { }

const SheetContent = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Content>,
  SheetContentProps
>(({ side = "right", className, children, ...props }, ref) => (
  <SheetPortal>
    <SheetOverlay />
    <SheetPrimitive.Content
      ref={ref}
      className={cn(sheetVariants({ side }), className)}
      {...props}
    >
      {children}
      <SheetPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </SheetPrimitive.Close>
    </SheetPrimitive.Content>
  </SheetPortal>
))
SheetContent.displayName = SheetPrimitive.Content.displayName

const SheetHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-2 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
SheetHeader.displayName = "SheetHeader"

const SheetFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
SheetFooter.displayName = "SheetFooter"

const SheetTitle = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold text-foreground", className)}
    {...props}
  />
))
SheetTitle.displayName = SheetPrimitive.Title.displayName

const SheetDescription = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
SheetDescription.displayName = SheetPrimitive.Description.displayName

export {
  Sheet, SheetClose,
  SheetContent, SheetDescription, SheetFooter, SheetHeader, SheetOverlay, SheetPortal, SheetTitle, SheetTrigger
}
</file>

<file path="src/components/ui/sidebar.tsx">
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { VariantProps, cva } from "class-variance-authority"
import { PanelLeft } from "lucide-react"

import { useIsMobile } from "@/hooks/use-mobile"
import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/button"
import { Input } from "@/components/ui/input"
import { Separator } from "@/components/ui/separator"
import { Sheet, SheetContent } from "@/components/ui/sheet"
import { Skeleton } from "@/components/ui/skeleton"
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip"

const SIDEBAR_COOKIE_NAME = "sidebar:state"
const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7
const SIDEBAR_WIDTH = "16rem"
const SIDEBAR_WIDTH_MOBILE = "18rem"
const SIDEBAR_WIDTH_ICON = "3rem"
const SIDEBAR_KEYBOARD_SHORTCUT = "b"

type SidebarContext = {
  state: "expanded" | "collapsed"
  open: boolean
  setOpen: (open: boolean) => void
  openMobile: boolean
  setOpenMobile: (open: boolean) => void
  isMobile: boolean
  toggleSidebar: () => void
}

const SidebarContext = React.createContext<SidebarContext | null>(null)

function useSidebar() {
  const context = React.useContext(SidebarContext)
  if (!context) {
    throw new Error("useSidebar must be used within a SidebarProvider.")
  }

  return context
}

const SidebarProvider = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    defaultOpen?: boolean
    open?: boolean
    onOpenChange?: (open: boolean) => void
  }
>(
  (
    {
      defaultOpen = true,
      open: openProp,
      onOpenChange: setOpenProp,
      className,
      style,
      children,
      ...props
    },
    ref
  ) => {
    const isMobile = useIsMobile()
    const [openMobile, setOpenMobile] = React.useState(false)

    // This is the internal state of the sidebar.
    // We use openProp and setOpenProp for control from outside the component.
    const [_open, _setOpen] = React.useState(defaultOpen)
    const open = openProp ?? _open
    const setOpen = React.useCallback(
      (value: boolean | ((value: boolean) => boolean)) => {
        const openState = typeof value === "function" ? value(open) : value
        if (setOpenProp) {
          setOpenProp(openState)
        } else {
          _setOpen(openState)
        }

        // This sets the cookie to keep the sidebar state.
        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`
      },
      [setOpenProp, open]
    )

    // Helper to toggle the sidebar.
    const toggleSidebar = React.useCallback(() => {
      return isMobile
        ? setOpenMobile((open) => !open)
        : setOpen((open) => !open)
    }, [isMobile, setOpen, setOpenMobile])

    // Adds a keyboard shortcut to toggle the sidebar.
    React.useEffect(() => {
      const handleKeyDown = (event: KeyboardEvent) => {
        if (
          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&
          (event.metaKey || event.ctrlKey)
        ) {
          event.preventDefault()
          toggleSidebar()
        }
      }

      window.addEventListener("keydown", handleKeyDown)
      return () => window.removeEventListener("keydown", handleKeyDown)
    }, [toggleSidebar])

    // We add a state so that we can do data-state="expanded" or "collapsed".
    // This makes it easier to style the sidebar with Tailwind classes.
    const state = open ? "expanded" : "collapsed"

    const contextValue = React.useMemo<SidebarContext>(
      () => ({
        state,
        open,
        setOpen,
        isMobile,
        openMobile,
        setOpenMobile,
        toggleSidebar,
      }),
      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]
    )

    return (
      <SidebarContext.Provider value={contextValue}>
        <TooltipProvider delayDuration={0}>
          <div
            style={
              {
                "--sidebar-width": SIDEBAR_WIDTH,
                "--sidebar-width-icon": SIDEBAR_WIDTH_ICON,
                ...style,
              } as React.CSSProperties
            }
            className={cn(
              "group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",
              className
            )}
            ref={ref}
            {...props}
          >
            {children}
          </div>
        </TooltipProvider>
      </SidebarContext.Provider>
    )
  }
)
SidebarProvider.displayName = "SidebarProvider"

const Sidebar = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    side?: "left" | "right"
    variant?: "sidebar" | "floating" | "inset"
    collapsible?: "offcanvas" | "icon" | "none"
  }
>(
  (
    {
      side = "left",
      variant = "sidebar",
      collapsible = "offcanvas",
      className,
      children,
      ...props
    },
    ref
  ) => {
    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()

    if (collapsible === "none") {
      return (
        <div
          className={cn(
            "flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",
            className
          )}
          ref={ref}
          {...props}
        >
          {children}
        </div>
      )
    }

    if (isMobile) {
      return (
        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>
          <SheetContent
            data-sidebar="sidebar"
            data-mobile="true"
            className="w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden"
            style={
              {
                "--sidebar-width": SIDEBAR_WIDTH_MOBILE,
              } as React.CSSProperties
            }
            side={side}
          >
            <div className="flex h-full w-full flex-col">{children}</div>
          </SheetContent>
        </Sheet>
      )
    }

    return (
      <div
        ref={ref}
        className="group peer hidden md:block text-sidebar-foreground"
        data-state={state}
        data-collapsible={state === "collapsed" ? collapsible : ""}
        data-variant={variant}
        data-side={side}
      >
        {/* This is what handles the sidebar gap on desktop */}
        <div
          className={cn(
            "duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear",
            "group-data-[collapsible=offcanvas]:w-0",
            "group-data-[side=right]:rotate-180",
            variant === "floating" || variant === "inset"
              ? "group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]"
              : "group-data-[collapsible=icon]:w-[--sidebar-width-icon]"
          )}
        />
        <div
          className={cn(
            "duration-200 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",
            side === "left"
              ? "left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]"
              : "right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",
            // Adjust the padding for floating and inset variants.
            variant === "floating" || variant === "inset"
              ? "p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]"
              : "group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",
            className
          )}
          {...props}
        >
          <div
            data-sidebar="sidebar"
            className="flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow"
          >
            {children}
          </div>
        </div>
      </div>
    )
  }
)
Sidebar.displayName = "Sidebar"

const SidebarTrigger = React.forwardRef<
  React.ElementRef<typeof Button>,
  React.ComponentProps<typeof Button>
>(({ className, onClick, ...props }, ref) => {
  const { toggleSidebar } = useSidebar()

  return (
    <Button
      ref={ref}
      data-sidebar="trigger"
      variant="ghost"
      size="icon"
      className={cn("h-7 w-7", className)}
      onClick={(event) => {
        onClick?.(event)
        toggleSidebar()
      }}
      {...props}
    >
      <PanelLeft />
      <span className="sr-only">Toggle Sidebar</span>
    </Button>
  )
})
SidebarTrigger.displayName = "SidebarTrigger"

const SidebarRail = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button">
>(({ className, ...props }, ref) => {
  const { toggleSidebar } = useSidebar()

  return (
    <button
      ref={ref}
      data-sidebar="rail"
      aria-label="Toggle Sidebar"
      tabIndex={-1}
      onClick={toggleSidebar}
      title="Toggle Sidebar"
      className={cn(
        "absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex",
        "[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize",
        "[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize",
        "group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar",
        "[[data-side=left][data-collapsible=offcanvas]_&]:-right-2",
        "[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",
        className
      )}
      {...props}
    />
  )
})
SidebarRail.displayName = "SidebarRail"

const SidebarInset = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"main">
>(({ className, ...props }, ref) => {
  return (
    <main
      ref={ref}
      className={cn(
        "relative flex min-h-svh flex-1 flex-col bg-background",
        "peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",
        className
      )}
      {...props}
    />
  )
})
SidebarInset.displayName = "SidebarInset"

const SidebarInput = React.forwardRef<
  React.ElementRef<typeof Input>,
  React.ComponentProps<typeof Input>
>(({ className, ...props }, ref) => {
  return (
    <Input
      ref={ref}
      data-sidebar="input"
      className={cn(
        "h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",
        className
      )}
      {...props}
    />
  )
})
SidebarInput.displayName = "SidebarInput"

const SidebarHeader = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="header"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
})
SidebarHeader.displayName = "SidebarHeader"

const SidebarFooter = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="footer"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
})
SidebarFooter.displayName = "SidebarFooter"

const SidebarSeparator = React.forwardRef<
  React.ElementRef<typeof Separator>,
  React.ComponentProps<typeof Separator>
>(({ className, ...props }, ref) => {
  return (
    <Separator
      ref={ref}
      data-sidebar="separator"
      className={cn("mx-2 w-auto bg-sidebar-border", className)}
      {...props}
    />
  )
})
SidebarSeparator.displayName = "SidebarSeparator"

const SidebarContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="content"
      className={cn(
        "flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarContent.displayName = "SidebarContent"

const SidebarGroup = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="group"
      className={cn("relative flex w-full min-w-0 flex-col p-2", className)}
      {...props}
    />
  )
})
SidebarGroup.displayName = "SidebarGroup"

const SidebarGroupLabel = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & { asChild?: boolean }
>(({ className, asChild = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "div"

  return (
    <Comp
      ref={ref}
      data-sidebar="group-label"
      className={cn(
        "duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        "group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",
        className
      )}
      {...props}
    />
  )
})
SidebarGroupLabel.displayName = "SidebarGroupLabel"

const SidebarGroupAction = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & { asChild?: boolean }
>(({ className, asChild = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      ref={ref}
      data-sidebar="group-action"
      className={cn(
        "absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 after:md:hidden",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarGroupAction.displayName = "SidebarGroupAction"

const SidebarGroupContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    data-sidebar="group-content"
    className={cn("w-full text-sm", className)}
    {...props}
  />
))
SidebarGroupContent.displayName = "SidebarGroupContent"

const SidebarMenu = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<"ul">
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    data-sidebar="menu"
    className={cn("flex w-full min-w-0 flex-col gap-1", className)}
    {...props}
  />
))
SidebarMenu.displayName = "SidebarMenu"

const SidebarMenuItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<"li">
>(({ className, ...props }, ref) => (
  <li
    ref={ref}
    data-sidebar="menu-item"
    className={cn("group/menu-item relative", className)}
    {...props}
  />
))
SidebarMenuItem.displayName = "SidebarMenuItem"

const sidebarMenuButtonVariants = cva(
  "peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",
        outline:
          "bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]",
      },
      size: {
        default: "h-8 text-sm",
        sm: "h-7 text-xs",
        lg: "h-12 text-sm group-data-[collapsible=icon]:!p-0",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

const SidebarMenuButton = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & {
    asChild?: boolean
    isActive?: boolean
    tooltip?: string | React.ComponentProps<typeof TooltipContent>
  } & VariantProps<typeof sidebarMenuButtonVariants>
>(
  (
    {
      asChild = false,
      isActive = false,
      variant = "default",
      size = "default",
      tooltip,
      className,
      ...props
    },
    ref
  ) => {
    const Comp = asChild ? Slot : "button"
    const { isMobile, state } = useSidebar()

    const button = (
      <Comp
        ref={ref}
        data-sidebar="menu-button"
        data-size={size}
        data-active={isActive}
        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}
        {...props}
      />
    )

    if (!tooltip) {
      return button
    }

    if (typeof tooltip === "string") {
      tooltip = {
        children: tooltip,
      }
    }

    return (
      <Tooltip>
        <TooltipTrigger asChild>{button}</TooltipTrigger>
        <TooltipContent
          side="right"
          align="center"
          hidden={state !== "collapsed" || isMobile}
          {...tooltip}
        />
      </Tooltip>
    )
  }
)
SidebarMenuButton.displayName = "SidebarMenuButton"

const SidebarMenuAction = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & {
    asChild?: boolean
    showOnHover?: boolean
  }
>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      ref={ref}
      data-sidebar="menu-action"
      className={cn(
        "absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 after:md:hidden",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        showOnHover &&
          "group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",
        className
      )}
      {...props}
    />
  )
})
SidebarMenuAction.displayName = "SidebarMenuAction"

const SidebarMenuBadge = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    data-sidebar="menu-badge"
    className={cn(
      "absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none",
      "peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground",
      "peer-data-[size=sm]/menu-button:top-1",
      "peer-data-[size=default]/menu-button:top-1.5",
      "peer-data-[size=lg]/menu-button:top-2.5",
      "group-data-[collapsible=icon]:hidden",
      className
    )}
    {...props}
  />
))
SidebarMenuBadge.displayName = "SidebarMenuBadge"

const SidebarMenuSkeleton = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    showIcon?: boolean
  }
>(({ className, showIcon = false, ...props }, ref) => {
  // Random width between 50 to 90%.
  const width = React.useMemo(() => {
    return `${Math.floor(Math.random() * 40) + 50}%`
  }, [])

  return (
    <div
      ref={ref}
      data-sidebar="menu-skeleton"
      className={cn("rounded-md h-8 flex gap-2 px-2 items-center", className)}
      {...props}
    >
      {showIcon && (
        <Skeleton
          className="size-4 rounded-md"
          data-sidebar="menu-skeleton-icon"
        />
      )}
      <Skeleton
        className="h-4 flex-1 max-w-[--skeleton-width]"
        data-sidebar="menu-skeleton-text"
        style={
          {
            "--skeleton-width": width,
          } as React.CSSProperties
        }
      />
    </div>
  )
})
SidebarMenuSkeleton.displayName = "SidebarMenuSkeleton"

const SidebarMenuSub = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<"ul">
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    data-sidebar="menu-sub"
    className={cn(
      "mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5",
      "group-data-[collapsible=icon]:hidden",
      className
    )}
    {...props}
  />
))
SidebarMenuSub.displayName = "SidebarMenuSub"

const SidebarMenuSubItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<"li">
>(({ ...props }, ref) => <li ref={ref} {...props} />)
SidebarMenuSubItem.displayName = "SidebarMenuSubItem"

const SidebarMenuSubButton = React.forwardRef<
  HTMLAnchorElement,
  React.ComponentProps<"a"> & {
    asChild?: boolean
    size?: "sm" | "md"
    isActive?: boolean
  }
>(({ asChild = false, size = "md", isActive, className, ...props }, ref) => {
  const Comp = asChild ? Slot : "a"

  return (
    <Comp
      ref={ref}
      data-sidebar="menu-sub-button"
      data-size={size}
      data-active={isActive}
      className={cn(
        "flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground",
        "data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",
        size === "sm" && "text-xs",
        size === "md" && "text-sm",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarMenuSubButton.displayName = "SidebarMenuSubButton"

export {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupAction,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarInput,
  SidebarInset,
  SidebarMenu,
  SidebarMenuAction,
  SidebarMenuBadge,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarMenuSkeleton,
  SidebarMenuSub,
  SidebarMenuSubButton,
  SidebarMenuSubItem,
  SidebarProvider,
  SidebarRail,
  SidebarSeparator,
  SidebarTrigger,
  useSidebar,
}
</file>

<file path="src/components/ui/skeleton.tsx">
import { cn } from "@/lib/utils"

function Skeleton({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) {
  return (
    <div
      className={cn("animate-pulse rounded-md bg-muted", className)}
      {...props}
    />
  )
}

export { Skeleton }
</file>

<file path="src/components/ui/slider.tsx">
import * as React from "react"
import * as SliderPrimitive from "@radix-ui/react-slider"

import { cn } from "@/lib/utils"

const Slider = React.forwardRef<
  React.ElementRef<typeof SliderPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>
>(({ className, ...props }, ref) => (
  <SliderPrimitive.Root
    ref={ref}
    className={cn(
      "relative flex w-full touch-none select-none items-center",
      className
    )}
    {...props}
  >
    <SliderPrimitive.Track className="relative h-2 w-full grow overflow-hidden rounded-full bg-secondary">
      <SliderPrimitive.Range className="absolute h-full bg-primary" />
    </SliderPrimitive.Track>
    <SliderPrimitive.Thumb className="block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50" />
  </SliderPrimitive.Root>
))
Slider.displayName = SliderPrimitive.Root.displayName

export { Slider }
</file>

<file path="src/components/ui/sonner.tsx">
import { useTheme } from "next-themes"
import { Toaster as Sonner, toast } from "sonner"

type ToasterProps = React.ComponentProps<typeof Sonner>

const Toaster = ({ ...props }: ToasterProps) => {
  const { theme = "system" } = useTheme()

  return (
    <Sonner
      theme={theme as ToasterProps["theme"]}
      className="toaster group"
      toastOptions={{
        classNames: {
          toast:
            "group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",
          description: "group-[.toast]:text-muted-foreground",
          actionButton:
            "group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",
          cancelButton:
            "group-[.toast]:bg-muted group-[.toast]:text-muted-foreground",
        },
      }}
      {...props}
    />
  )
}

export { Toaster, toast }
</file>

<file path="src/components/ui/switch.tsx">
import * as React from "react"
import * as SwitchPrimitives from "@radix-ui/react-switch"

import { cn } from "@/lib/utils"

const Switch = React.forwardRef<
  React.ElementRef<typeof SwitchPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>
>(({ className, ...props }, ref) => (
  <SwitchPrimitives.Root
    className={cn(
      "peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",
      className
    )}
    {...props}
    ref={ref}
  >
    <SwitchPrimitives.Thumb
      className={cn(
        "pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0"
      )}
    />
  </SwitchPrimitives.Root>
))
Switch.displayName = SwitchPrimitives.Root.displayName

export { Switch }
</file>

<file path="src/components/ui/table.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

const Table = React.forwardRef<
  HTMLTableElement,
  React.HTMLAttributes<HTMLTableElement>
>(({ className, ...props }, ref) => (
  <div className="relative w-full overflow-auto">
    <table
      ref={ref}
      className={cn("w-full caption-bottom text-sm", className)}
      {...props}
    />
  </div>
))
Table.displayName = "Table"

const TableHeader = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <thead ref={ref} className={cn("[&_tr]:border-b", className)} {...props} />
))
TableHeader.displayName = "TableHeader"

const TableBody = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tbody
    ref={ref}
    className={cn("[&_tr:last-child]:border-0", className)}
    {...props}
  />
))
TableBody.displayName = "TableBody"

const TableFooter = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tfoot
    ref={ref}
    className={cn(
      "border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",
      className
    )}
    {...props}
  />
))
TableFooter.displayName = "TableFooter"

const TableRow = React.forwardRef<
  HTMLTableRowElement,
  React.HTMLAttributes<HTMLTableRowElement>
>(({ className, ...props }, ref) => (
  <tr
    ref={ref}
    className={cn(
      "border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",
      className
    )}
    {...props}
  />
))
TableRow.displayName = "TableRow"

const TableHead = React.forwardRef<
  HTMLTableCellElement,
  React.ThHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <th
    ref={ref}
    className={cn(
      "h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",
      className
    )}
    {...props}
  />
))
TableHead.displayName = "TableHead"

const TableCell = React.forwardRef<
  HTMLTableCellElement,
  React.TdHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <td
    ref={ref}
    className={cn("p-4 align-middle [&:has([role=checkbox])]:pr-0", className)}
    {...props}
  />
))
TableCell.displayName = "TableCell"

const TableCaption = React.forwardRef<
  HTMLTableCaptionElement,
  React.HTMLAttributes<HTMLTableCaptionElement>
>(({ className, ...props }, ref) => (
  <caption
    ref={ref}
    className={cn("mt-4 text-sm text-muted-foreground", className)}
    {...props}
  />
))
TableCaption.displayName = "TableCaption"

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
}
</file>

<file path="src/components/ui/tabs.tsx">
import * as React from "react"
import * as TabsPrimitive from "@radix-ui/react-tabs"

import { cn } from "@/lib/utils"

const Tabs = TabsPrimitive.Root

const TabsList = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.List
    ref={ref}
    className={cn(
      "inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",
      className
    )}
    {...props}
  />
))
TabsList.displayName = TabsPrimitive.List.displayName

const TabsTrigger = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Trigger
    ref={ref}
    className={cn(
      "inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",
      className
    )}
    {...props}
  />
))
TabsTrigger.displayName = TabsPrimitive.Trigger.displayName

const TabsContent = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Content
    ref={ref}
    className={cn(
      "mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",
      className
    )}
    {...props}
  />
))
TabsContent.displayName = TabsPrimitive.Content.displayName

export { Tabs, TabsList, TabsTrigger, TabsContent }
</file>

<file path="src/components/ui/textarea.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

export interface TextareaProps
  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}

const Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(
  ({ className, ...props }, ref) => {
    return (
      <textarea
        className={cn(
          "flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",
          className
        )}
        ref={ref}
        {...props}
      />
    )
  }
)
Textarea.displayName = "Textarea"

export { Textarea }
</file>

<file path="src/components/ui/toast.tsx">
import * as React from "react"
import * as ToastPrimitives from "@radix-ui/react-toast"
import { cva, type VariantProps } from "class-variance-authority"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const ToastProvider = ToastPrimitives.Provider

const ToastViewport = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Viewport>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Viewport
    ref={ref}
    className={cn(
      "fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",
      className
    )}
    {...props}
  />
))
ToastViewport.displayName = ToastPrimitives.Viewport.displayName

const toastVariants = cva(
  "group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",
  {
    variants: {
      variant: {
        default: "border bg-background text-foreground",
        destructive:
          "destructive group border-destructive bg-destructive text-destructive-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

const Toast = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &
    VariantProps<typeof toastVariants>
>(({ className, variant, ...props }, ref) => {
  return (
    <ToastPrimitives.Root
      ref={ref}
      className={cn(toastVariants({ variant }), className)}
      {...props}
    />
  )
})
Toast.displayName = ToastPrimitives.Root.displayName

const ToastAction = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Action>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Action
    ref={ref}
    className={cn(
      "inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",
      className
    )}
    {...props}
  />
))
ToastAction.displayName = ToastPrimitives.Action.displayName

const ToastClose = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Close>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Close
    ref={ref}
    className={cn(
      "absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",
      className
    )}
    toast-close=""
    {...props}
  >
    <X className="h-4 w-4" />
  </ToastPrimitives.Close>
))
ToastClose.displayName = ToastPrimitives.Close.displayName

const ToastTitle = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Title>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Title
    ref={ref}
    className={cn("text-sm font-semibold", className)}
    {...props}
  />
))
ToastTitle.displayName = ToastPrimitives.Title.displayName

const ToastDescription = React.forwardRef<
  React.ElementRef<typeof ToastPrimitives.Description>,
  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>
>(({ className, ...props }, ref) => (
  <ToastPrimitives.Description
    ref={ref}
    className={cn("text-sm opacity-90", className)}
    {...props}
  />
))
ToastDescription.displayName = ToastPrimitives.Description.displayName

type ToastProps = React.ComponentPropsWithoutRef<typeof Toast>

type ToastActionElement = React.ReactElement<typeof ToastAction>

export {
  type ToastProps,
  type ToastActionElement,
  ToastProvider,
  ToastViewport,
  Toast,
  ToastTitle,
  ToastDescription,
  ToastClose,
  ToastAction,
}
</file>

<file path="src/components/ui/toaster.tsx">
import { useToast } from "@/hooks/use-toast"
import {
  Toast,
  ToastClose,
  ToastDescription,
  ToastProvider,
  ToastTitle,
  ToastViewport,
} from "@/components/ui/toast"

export function Toaster() {
  const { toasts } = useToast()

  return (
    <ToastProvider>
      {toasts.map(function ({ id, title, description, action, ...props }) {
        return (
          <Toast key={id} {...props}>
            <div className="grid gap-1">
              {title && <ToastTitle>{title}</ToastTitle>}
              {description && (
                <ToastDescription>{description}</ToastDescription>
              )}
            </div>
            {action}
            <ToastClose />
          </Toast>
        )
      })}
      <ToastViewport />
    </ToastProvider>
  )
}
</file>

<file path="src/components/ui/toggle-group.tsx">
import * as React from "react"
import * as ToggleGroupPrimitive from "@radix-ui/react-toggle-group"
import { type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"
import { toggleVariants } from "@/components/ui/toggle"

const ToggleGroupContext = React.createContext<
  VariantProps<typeof toggleVariants>
>({
  size: "default",
  variant: "default",
})

const ToggleGroup = React.forwardRef<
  React.ElementRef<typeof ToggleGroupPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &
    VariantProps<typeof toggleVariants>
>(({ className, variant, size, children, ...props }, ref) => (
  <ToggleGroupPrimitive.Root
    ref={ref}
    className={cn("flex items-center justify-center gap-1", className)}
    {...props}
  >
    <ToggleGroupContext.Provider value={{ variant, size }}>
      {children}
    </ToggleGroupContext.Provider>
  </ToggleGroupPrimitive.Root>
))

ToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName

const ToggleGroupItem = React.forwardRef<
  React.ElementRef<typeof ToggleGroupPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &
    VariantProps<typeof toggleVariants>
>(({ className, children, variant, size, ...props }, ref) => {
  const context = React.useContext(ToggleGroupContext)

  return (
    <ToggleGroupPrimitive.Item
      ref={ref}
      className={cn(
        toggleVariants({
          variant: context.variant || variant,
          size: context.size || size,
        }),
        className
      )}
      {...props}
    >
      {children}
    </ToggleGroupPrimitive.Item>
  )
})

ToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName

export { ToggleGroup, ToggleGroupItem }
</file>

<file path="src/components/ui/toggle.tsx">
import * as React from "react"
import * as TogglePrimitive from "@radix-ui/react-toggle"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const toggleVariants = cva(
  "inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",
  {
    variants: {
      variant: {
        default: "bg-transparent",
        outline:
          "border border-input bg-transparent hover:bg-accent hover:text-accent-foreground",
      },
      size: {
        default: "h-10 px-3",
        sm: "h-9 px-2.5",
        lg: "h-11 px-5",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

const Toggle = React.forwardRef<
  React.ElementRef<typeof TogglePrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &
    VariantProps<typeof toggleVariants>
>(({ className, variant, size, ...props }, ref) => (
  <TogglePrimitive.Root
    ref={ref}
    className={cn(toggleVariants({ variant, size, className }))}
    {...props}
  />
))

Toggle.displayName = TogglePrimitive.Root.displayName

export { Toggle, toggleVariants }
</file>

<file path="src/components/ui/tooltip.tsx">
import * as React from "react"
import * as TooltipPrimitive from "@radix-ui/react-tooltip"

import { cn } from "@/lib/utils"

const TooltipProvider = TooltipPrimitive.Provider

const Tooltip = TooltipPrimitive.Root

const TooltipTrigger = TooltipPrimitive.Trigger

const TooltipContent = React.forwardRef<
  React.ElementRef<typeof TooltipPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <TooltipPrimitive.Content
    ref={ref}
    sideOffset={sideOffset}
    className={cn(
      "z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",
      className
    )}
    {...props}
  />
))
TooltipContent.displayName = TooltipPrimitive.Content.displayName

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }
</file>

<file path="src/components/ui/use-toast.ts">
import { useToast, toast } from "@/hooks/use-toast";

export { useToast, toast };
</file>

<file path="src/hooks/use-mobile.tsx">
import * as React from "react"

const MOBILE_BREAKPOINT = 768

export function useIsMobile() {
  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)

  React.useEffect(() => {
    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)
    const onChange = () => {
      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    }
    mql.addEventListener("change", onChange)
    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    return () => mql.removeEventListener("change", onChange)
  }, [])

  return !!isMobile
}
</file>

<file path="src/hooks/use-toast.ts">
import * as React from "react"

import type {
  ToastActionElement,
  ToastProps,
} from "@/components/ui/toast"

const TOAST_LIMIT = 1
const TOAST_REMOVE_DELAY = 1000000

type ToasterToast = ToastProps & {
  id: string
  title?: React.ReactNode
  description?: React.ReactNode
  action?: ToastActionElement
}

const actionTypes = {
  ADD_TOAST: "ADD_TOAST",
  UPDATE_TOAST: "UPDATE_TOAST",
  DISMISS_TOAST: "DISMISS_TOAST",
  REMOVE_TOAST: "REMOVE_TOAST",
} as const

let count = 0

function genId() {
  count = (count + 1) % Number.MAX_SAFE_INTEGER
  return count.toString()
}

type ActionType = typeof actionTypes

type Action =
  | {
      type: ActionType["ADD_TOAST"]
      toast: ToasterToast
    }
  | {
      type: ActionType["UPDATE_TOAST"]
      toast: Partial<ToasterToast>
    }
  | {
      type: ActionType["DISMISS_TOAST"]
      toastId?: ToasterToast["id"]
    }
  | {
      type: ActionType["REMOVE_TOAST"]
      toastId?: ToasterToast["id"]
    }

interface State {
  toasts: ToasterToast[]
}

const toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()

const addToRemoveQueue = (toastId: string) => {
  if (toastTimeouts.has(toastId)) {
    return
  }

  const timeout = setTimeout(() => {
    toastTimeouts.delete(toastId)
    dispatch({
      type: "REMOVE_TOAST",
      toastId: toastId,
    })
  }, TOAST_REMOVE_DELAY)

  toastTimeouts.set(toastId, timeout)
}

export const reducer = (state: State, action: Action): State => {
  switch (action.type) {
    case "ADD_TOAST":
      return {
        ...state,
        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),
      }

    case "UPDATE_TOAST":
      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === action.toast.id ? { ...t, ...action.toast } : t
        ),
      }

    case "DISMISS_TOAST": {
      const { toastId } = action

      // ! Side effects ! - This could be extracted into a dismissToast() action,
      // but I'll keep it here for simplicity
      if (toastId) {
        addToRemoveQueue(toastId)
      } else {
        state.toasts.forEach((toast) => {
          addToRemoveQueue(toast.id)
        })
      }

      return {
        ...state,
        toasts: state.toasts.map((t) =>
          t.id === toastId || toastId === undefined
            ? {
                ...t,
                open: false,
              }
            : t
        ),
      }
    }
    case "REMOVE_TOAST":
      if (action.toastId === undefined) {
        return {
          ...state,
          toasts: [],
        }
      }
      return {
        ...state,
        toasts: state.toasts.filter((t) => t.id !== action.toastId),
      }
  }
}

const listeners: Array<(state: State) => void> = []

let memoryState: State = { toasts: [] }

function dispatch(action: Action) {
  memoryState = reducer(memoryState, action)
  listeners.forEach((listener) => {
    listener(memoryState)
  })
}

type Toast = Omit<ToasterToast, "id">

function toast({ ...props }: Toast) {
  const id = genId()

  const update = (props: ToasterToast) =>
    dispatch({
      type: "UPDATE_TOAST",
      toast: { ...props, id },
    })
  const dismiss = () => dispatch({ type: "DISMISS_TOAST", toastId: id })

  dispatch({
    type: "ADD_TOAST",
    toast: {
      ...props,
      id,
      open: true,
      onOpenChange: (open) => {
        if (!open) dismiss()
      },
    },
  })

  return {
    id: id,
    dismiss,
    update,
  }
}

function useToast() {
  const [state, setState] = React.useState<State>(memoryState)

  React.useEffect(() => {
    listeners.push(setState)
    return () => {
      const index = listeners.indexOf(setState)
      if (index > -1) {
        listeners.splice(index, 1)
      }
    }
  }, [state])

  return {
    ...state,
    toast,
    dismiss: (toastId?: string) => dispatch({ type: "DISMISS_TOAST", toastId }),
  }
}

export { useToast, toast }
</file>

<file path="src/lib/utils.ts">
import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
</file>

<file path="src/main.tsx">
import { createRoot } from 'react-dom/client'
import App from './App.tsx'
import './index.css'

createRoot(document.getElementById("root")!).render(<App />);
</file>

<file path="src/pages/ChallengeDetail.tsx">
import React, { useEffect, useState } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import Navbar from '../components/Navbar';
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Calendar, Users, ArrowLeft, Gift } from 'lucide-react';
import { api } from '@/lib/api';
import { toast } from '@/hooks/use-toast';

interface ChallengeDetail {
  challenge_id: string;
  title: string;
  description: string;
  category: string;
  status: 'upcoming' | 'active' | 'completed';
  prize_pool: number;
  start_date: string;
  end_date: string;
  participant_count: number;
  requirements: string[];
  sponsor: string;
  judging_criteria: string[];
  created_at: string;
}

const ChallengeDetailPage: React.FC = () => {
  const { challengeId } = useParams<{ challengeId: string }>();
  const [challenge, setChallenge] = useState<ChallengeDetail | null>(null);
  const [loading, setLoading] = useState(true);
  const navigate = useNavigate();
  const isLoggedIn = Boolean(localStorage.getItem('token'));
  const [joined, setJoined] = useState(false);
  const [joining, setJoining] = useState(false);

  useEffect(() => {
    fetchChallenge();
    // eslint-disable-next-line
  }, [challengeId]);

  const fetchChallenge = async () => {
    try {
      setLoading(true);
      const response = await api.get(`/challenges/${challengeId}`);
      setChallenge(response.data.data);
    } catch (error) {
      toast({
        title: 'Error',
        description: 'Failed to load challenge details. Please try again.',
        variant: 'destructive',
      });
      navigate('/challenges');
    } finally {
      setLoading(false);
    }
  };

  const formatDate = (dateString: string) => {
    return new Date(dateString).toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric',
    });
  };

  const handleJoinChallenge = async () => {
    if (!isLoggedIn) {
      toast({ title: 'Login required', description: 'Please log in to join this challenge.', variant: 'destructive' });
      navigate('/login');
      return;
    }
    setJoining(true);
    try {
      await api.post(`/challenges/${challengeId}/register`);
      toast({ title: 'Joined!', description: 'You have successfully joined this challenge.' });
      setJoined(true);
    } catch (error: any) {
      toast({ title: 'Could not join', description: error?.response?.data?.message || 'Please try again.', variant: 'destructive' });
    } finally {
      setJoining(false);
    }
  };

  return (
    <div className="min-h-screen flex flex-col items-center bg-gradient-to-br from-orange-50 to-white px-2 py-8 md:px-6 md:py-16">
      <Navbar />
      <button
        onClick={() => navigate('/challenges')}
        className="flex items-center gap-2 self-start mb-4 ml-2 px-4 py-2 rounded-full bg-white/80 hover:bg-orange-50 text-amber-800 font-medium shadow border border-amber-100 transition-colors"
      >
        <ArrowLeft className="w-5 h-5" />
        Back to Challenges
      </button>
      {loading ? (
        <div className="flex items-center justify-center min-h-[300px] w-full">Loading challenge details...</div>
      ) : !challenge ? (
        <div className="flex items-center justify-center min-h-[300px] w-full">Challenge not found.</div>
      ) : (
        <Card className="relative w-full max-w-2xl shadow-xl border-0 rounded-3xl bg-white/90 animate-fade-in-up overflow-hidden">
          <CardHeader className="pt-10 pb-4 flex flex-col items-center bg-white/80 border-b border-gray-100">
            <CardTitle className="text-3xl font-bold text-gray-900 font-martian mb-1 flex items-center gap-2">
              {challenge.title}
            </CardTitle>
            <div className="flex flex-wrap gap-3 items-center mt-2 mb-2">
              <span className={`px-3 py-1 rounded-full font-inter font-medium text-sm ${challenge.status === 'active' ? 'bg-green-100 text-green-800' : challenge.status === 'completed' ? 'bg-gray-100 text-gray-800' : 'bg-blue-100 text-blue-800'}`}>{challenge.status.charAt(0).toUpperCase() + challenge.status.slice(1)}</span>
              <span className="flex items-center gap-1 text-amber-700 font-inter text-base"><Gift className="w-5 h-5" />Prize: ₹{challenge.prize_pool.toLocaleString()}</span>
              <span className="flex items-center gap-1 text-gray-600 font-inter text-base"><Calendar className="w-5 h-5" />{formatDate(challenge.start_date)} - {formatDate(challenge.end_date)}</span>
            </div>
            <div className="flex flex-wrap gap-3 items-center mt-1">
              <span className="flex items-center gap-1 text-gray-500 font-inter text-sm"><Users className="w-4 h-4" />{challenge.participant_count} participants</span>
              <span className="text-gray-500 font-inter text-sm">Sponsored by <span className="font-semibold text-amber-700">{challenge.sponsor}</span></span>
            </div>
          </CardHeader>
          <CardContent className="space-y-8 pt-8 pb-4 px-6 bg-white/70">
            <div>
              <CardDescription className="text-lg text-gray-700 font-inter mb-4">{challenge.description}</CardDescription>
            </div>
            <div>
              <h3 className="text-xl font-semibold text-gray-900 font-martian mb-2">Requirements</h3>
              <ul className="list-disc pl-6 text-gray-700 font-inter">
                {challenge.requirements && challenge.requirements.length > 0 ? challenge.requirements.map((req, idx) => (
                  <li key={idx}>{req}</li>
                )) : <li>No specific requirements listed.</li>}
              </ul>
            </div>
            <div>
              <h3 className="text-xl font-semibold text-gray-900 font-martian mb-2">Category</h3>
              <span className="inline-block bg-orange-100 text-orange-800 px-4 py-1 rounded-full font-inter text-sm">{challenge.category}</span>
            </div>
            <div>
              <h3 className="text-xl font-semibold text-gray-900 font-martian mb-2">Judging Criteria</h3>
              <ul className="list-disc pl-6 text-gray-700 font-inter">
                {challenge.judging_criteria && challenge.judging_criteria.length > 0 ? challenge.judging_criteria.map((crit, idx) => (
                  <li key={idx}>{crit}</li>
                )) : <li>No judging criteria listed.</li>}
              </ul>
            </div>
            {isLoggedIn && (challenge.status === 'active' || challenge.status === 'upcoming') && (
              <div className="flex justify-center mt-8">
                <Button
                  className="bg-amber-800 hover:bg-amber-900 text-white px-8 py-3 text-base font-medium rounded-full font-inter"
                  onClick={handleJoinChallenge}
                  disabled={joining || joined}
                >
                  {joined ? 'You have joined!' : (joining ? 'Joining...' : 'Join Challenge')}
                </Button>
              </div>
            )}
          </CardContent>
        </Card>
      )}
    </div>
  );
};

export default ChallengeDetailPage;
</file>

<file path="src/pages/Challenges.tsx">
import React, { useState, useEffect } from 'react';
import Navbar from '../components/Navbar';
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import { Search, Calendar, Users } from 'lucide-react';
import { api } from '@/lib/api';
import { useNavigate } from 'react-router-dom';
import { toast } from '@/hooks/use-toast';

interface Challenge {
  challenge_id: string;
  title: string;
  description: string;
  category: string;
  status: 'upcoming' | 'active' | 'completed';
  prize_pool: number;
  start_date: string;
  end_date: string;
  participant_count: number;
  created_at: string;
}

const Challenges: React.FC = () => {
  const [challenges, setChallenges] = useState<Challenge[]>([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState('');
  const [statusFilter, setStatusFilter] = useState<string>('all');
  const [categoryFilter, setCategoryFilter] = useState<string>('all');
  const [sortBy, setSortBy] = useState<string>('start_date');
  const [currentPage, setCurrentPage] = useState(1);
  const [totalPages, setTotalPages] = useState(1);
  const navigate = useNavigate();

  useEffect(() => {
    fetchChallenges();
  }, [currentPage, searchTerm, statusFilter, categoryFilter, sortBy]);

  const fetchChallenges = async () => {
    try {
      setLoading(true);
      const params = new URLSearchParams({
        page: currentPage.toString(),
        limit: '12',
        ...(searchTerm && { search: searchTerm }),
        ...(statusFilter !== 'all' && { status: statusFilter }),
        ...(categoryFilter !== 'all' && { category: categoryFilter }),
        sortBy,
        sortOrder: 'asc',
      });
      const response = await api.get(`/challenges?${params}`);
      setChallenges(response.data.data.challenges);
      setTotalPages(response.data.data.pagination.pages);
    } catch (error) {
      console.error('Error fetching challenges:', error);
      toast({
        title: 'Error',
        description: 'Failed to load challenges. Please try again.',
        variant: 'destructive',
      });
    } finally {
      setLoading(false);
    }
  };

  const getStatusColor = (status: string) => {
    switch (status) {
      case 'active': return 'bg-green-100 text-green-800';
      case 'completed': return 'bg-gray-100 text-gray-800';
      case 'upcoming': return 'bg-blue-100 text-blue-800';
      default: return 'bg-gray-100 text-gray-800';
    }
  };

  const formatDate = (dateString: string) => {
    return new Date(dateString).toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric',
    });
  };

  const handleViewChallenge = (challengeId: string) => {
    navigate(`/challenges/${challengeId}`);
  };

  return (
    <div className="min-h-screen bg-white">
      <Navbar />
      <div className="px-2 sm:px-4 md:px-6 py-8 md:py-16">
        <div className="max-w-7xl mx-auto">
          {/* Header */}
          <div className="text-center mb-8 md:mb-12">
            <h1 className="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-light mb-4 md:mb-8 text-gray-900 leading-tight font-martian">
              Challenges
            </h1>
            <p className="text-base sm:text-lg md:text-2xl text-gray-600 mb-6 md:mb-8 max-w-3xl mx-auto font-inter font-light">
              Join, compete, and grow with SheBuilds challenges.
            </p>
          </div>

          {/* Filters */}
          <div className="bg-gray-50 rounded-lg p-4 sm:p-6 mb-6 md:mb-8">
            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4">
              <div className="relative">
                <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4" />
                <Input
                  placeholder="Search challenges..."
                  value={searchTerm}
                  onChange={(e) => setSearchTerm(e.target.value)}
                  className="pl-10"
                />
              </div>
              <Select value={statusFilter} onValueChange={setStatusFilter}>
                <SelectTrigger>
                  <SelectValue placeholder="Status" />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="all">All Status</SelectItem>
                  <SelectItem value="upcoming">Upcoming</SelectItem>
                  <SelectItem value="active">Active</SelectItem>
                  <SelectItem value="completed">Completed</SelectItem>
                </SelectContent>
              </Select>
              <Select value={categoryFilter} onValueChange={setCategoryFilter}>
                <SelectTrigger>
                  <SelectValue placeholder="Category" />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="all">All Categories</SelectItem>
                  <SelectItem value="hackathon">Hackathon</SelectItem>
                  <SelectItem value="coding">Coding</SelectItem>
                  <SelectItem value="design">Design</SelectItem>
                  <SelectItem value="innovation">Innovation</SelectItem>
                </SelectContent>
              </Select>
              <Select value={sortBy} onValueChange={setSortBy}>
                <SelectTrigger>
                  <SelectValue placeholder="Sort By" />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="start_date">Start Date</SelectItem>
                  <SelectItem value="end_date">End Date</SelectItem>
                  <SelectItem value="prize_pool">Prize Pool</SelectItem>
                </SelectContent>
              </Select>
            </div>
          </div>

          {/* Challenges Grid */}
          <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
            {loading ? (
              [...Array(6)].map((_, i) => (
                <Card key={i} className="h-56 sm:h-64 animate-pulse bg-white rounded-lg shadow-sm" />
              ))
            ) : challenges.length === 0 ? (
              <div className="col-span-full text-center text-gray-500 font-inter text-lg">No challenges found.</div>
            ) : (
              challenges.map((challenge) => (
                <Card key={challenge.challenge_id} className="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer border-0" onClick={() => handleViewChallenge(challenge.challenge_id)}>
                  <CardHeader className="pb-2">
                    <CardTitle className="text-2xl font-martian text-gray-900 mb-1">{challenge.title}</CardTitle>
                    <CardDescription className="text-gray-500 font-inter mb-2 line-clamp-2">{challenge.description}</CardDescription>
                    <div className="flex flex-wrap gap-2 items-center text-sm mb-1">
                      <span className={`px-3 py-1 rounded-full font-inter font-medium ${getStatusColor(challenge.status)}`}>{challenge.status.charAt(0).toUpperCase() + challenge.status.slice(1)}</span>
                      <span className="flex items-center gap-1 text-amber-700 font-inter">Prize: ₹{challenge.prize_pool.toLocaleString()}</span>
                      <span className="flex items-center gap-1 text-gray-600 font-inter"><Calendar className="w-4 h-4" />{formatDate(challenge.start_date)} - {formatDate(challenge.end_date)}</span>
                      <span className="flex items-center gap-1 text-gray-500 font-inter"><Users className="w-4 h-4" />{challenge.participant_count} participants</span>
                    </div>
                  </CardHeader>
                  <CardContent>
                    <Button variant="outline" className="w-full mt-2 font-inter" onClick={e => { e.stopPropagation(); handleViewChallenge(challenge.challenge_id); }}>
                      View Details
                    </Button>
                  </CardContent>
                </Card>
              ))
            )}
          </div>

          {/* Pagination */}
          <div className="flex flex-col sm:flex-row justify-center items-center mt-8 md:mt-12 gap-4">
            <Button
              variant="ghost"
              disabled={currentPage === 1}
              onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}
            >
              Previous
            </Button>
            <span className="mx-2 md:mx-4 text-gray-700 font-inter">Page {currentPage} of {totalPages}</span>
            <Button
              variant="ghost"
              disabled={currentPage === totalPages}
              onClick={() => setCurrentPage((p) => Math.min(totalPages, p + 1))}
            >
              Next
            </Button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Challenges;
</file>

<file path="src/pages/Contact.tsx">
import React from 'react';
import { Mail, Phone, MapPin } from 'lucide-react';
import Footer from '@/components/Footer';

const Contact = () => {
  return (
    <div className="bg-white">
      <main className="py-20 px-6">
        <div className="max-w-4xl mx-auto">
          <div className="text-center mb-16">
            <h1 className="text-5xl md:text-6xl font-light text-gray-900 mb-4 font-martian">Contact Us</h1>
            <p className="text-xl text-gray-600 font-inter">We'd love to hear from you. Reach out with any questions or collaboration ideas.</p>
          </div>

          <div className="grid md:grid-cols-2 gap-12 bg-gray-50 p-8 rounded-2xl">
            {/* Contact Information */}
            <div className="space-y-8">
              <div>
                <h2 className="text-2xl font-medium text-gray-900 font-martian mb-4">Get in Touch</h2>
                <div className="flex items-start space-x-4 mb-4">
                  <div className="bg-orange-100 p-3 rounded-full">
                    <Mail className="w-6 h-6 text-orange-600" />
                  </div>
                  <div>
                    <h3 className="font-semibold text-gray-800 font-inter">Email</h3>
                    <p className="text-gray-600 font-inter">shebuilds.hacks@gmail.com</p>
                  </div>
                </div>
                <div className="flex items-start space-x-4">
                  <div className="bg-orange-100 p-3 rounded-full">
                    <Phone className="w-6 h-6 text-orange-600" />
                  </div>
                  <div>
                    <h3 className="font-semibold text-gray-800 font-inter">Phone</h3>
                    <p className="text-gray-600 font-inter">+91 88513 63766</p>
                  </div>
                </div>
              </div>
              <div>
                <h3 className="font-semibold text-gray-800 font-inter mb-2">Our Community Hubs</h3>
                <div className="flex items-start space-x-4">
                  <div className="bg-orange-100 p-3 rounded-full">
                    <MapPin className="w-6 h-6 text-orange-600" />
                  </div>
                  <div>
                    <p className="text-gray-600 font-inter">
                      Delhi • Bangalore • Chennai • Gurugram • Noida • Chandigarh • Nagpur • Lucknow
                    </p>
                  </div>
                </div>
              </div>
            </div>

            {/* Contact Form */}
            <div>
              <h2 className="text-2xl font-medium text-gray-900 font-martian mb-4">Send a Message</h2>
              <form className="space-y-4">
                <div>
                  <label htmlFor="name" className="sr-only">Name</label>
                  <input type="text" id="name" placeholder="Your Name" className="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-orange-500 focus:border-orange-500 font-inter" />
                </div>
                <div>
                  <label htmlFor="email" className="sr-only">Email</label>
                  <input type="email" id="email" placeholder="Your Email" className="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-orange-500 focus:border-orange-500 font-inter" />
                </div>
                <div>
                  <label htmlFor="message" className="sr-only">Message</label>
                  <textarea id="message" rows={5} placeholder="Your Message" className="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-orange-500 focus:border-orange-500 font-inter"></textarea>
                </div>
                <div>
                  <button type="submit" className="w-full bg-orange-600 text-white font-semibold px-6 py-3 rounded-lg hover:bg-orange-700 transition-colors duration-300 font-inter">
                    Send Message
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </main>
      <Footer />
    </div>
  );
};

export default Contact;
</file>

<file path="src/pages/Dashboard.tsx">
import React, { useEffect, useState } from 'react';
import Navbar from '../components/Navbar';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { api } from '@/lib/api';
import { useNavigate } from 'react-router-dom';
import { toast } from '@/hooks/use-toast';
import { Layers, Gift, Target, BookOpen, Plus } from 'lucide-react';

const Dashboard: React.FC = () => {
  const [stats, setStats] = useState<any>({});
  const [recentLogs, setRecentLogs] = useState<any[]>([]);
  const [loading, setLoading] = useState(true);
  const navigate = useNavigate();
  const isLoggedIn = Boolean(localStorage.getItem('token'));

  useEffect(() => {
    if (!isLoggedIn) {
      toast({ title: 'Login required', description: 'Please log in to view your dashboard.', variant: 'destructive' });
      navigate('/login');
      return;
    }
    fetchStats();
    // eslint-disable-next-line
  }, []);

  const fetchStats = async () => {
    try {
      setLoading(true);
      const [profileRes, projectsRes, grantsRes, challengesRes, logsRes] = await Promise.all([
        api.get('/auth/me'),
        api.get('/projects'),
        api.get('/grants'),
        api.get('/challenges'),
        api.get('/progress-logs'),
      ]);
      setStats({
        user: profileRes.data,
        projects: projectsRes.data.data.projects.length,
        grants: grantsRes.data.data.grants.length,
        challenges: challengesRes.data.data.challenges.length,
        logs: logsRes.data.data.logs.length,
      });
      setRecentLogs(logsRes.data.data.logs.slice(0, 5));
    } catch (error) {
      toast({ title: 'Error', description: 'Failed to load dashboard data.', variant: 'destructive' });
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen bg-white">
      <Navbar />
      <div className="max-w-5xl mx-auto px-2 sm:px-4 md:px-6 py-8 md:py-16">
        <h1 className="text-4xl sm:text-5xl font-light text-gray-900 font-martian mb-8">Dashboard</h1>
        {loading ? (
          <div>Loading...</div>
        ) : (
          <>
            {/* Stats */}
            <div className="grid grid-cols-2 sm:grid-cols-4 gap-4 mb-10">
              <Card className="bg-orange-50 border-0">
                <CardHeader className="flex flex-col items-center">
                  <Layers className="w-7 h-7 text-amber-700 mb-2" />
                  <CardTitle className="text-lg font-martian">Projects</CardTitle>
                  <div className="text-3xl font-bold text-amber-800">{stats.projects}</div>
                </CardHeader>
              </Card>
              <Card className="bg-orange-50 border-0">
                <CardHeader className="flex flex-col items-center">
                  <Gift className="w-7 h-7 text-amber-700 mb-2" />
                  <CardTitle className="text-lg font-martian">Grants</CardTitle>
                  <div className="text-3xl font-bold text-amber-800">{stats.grants}</div>
                </CardHeader>
              </Card>
              <Card className="bg-orange-50 border-0">
                <CardHeader className="flex flex-col items-center">
                  <Target className="w-7 h-7 text-amber-700 mb-2" />
                  <CardTitle className="text-lg font-martian">Challenges</CardTitle>
                  <div className="text-3xl font-bold text-amber-800">{stats.challenges}</div>
                </CardHeader>
              </Card>
              <Card className="bg-orange-50 border-0">
                <CardHeader className="flex flex-col items-center">
                  <BookOpen className="w-7 h-7 text-amber-700 mb-2" />
                  <CardTitle className="text-lg font-martian">Logs</CardTitle>
                  <div className="text-3xl font-bold text-amber-800">{stats.logs}</div>
                </CardHeader>
              </Card>
            </div>
            {/* Recent Activity */}
            <div className="mb-10">
              <div className="flex items-center justify-between mb-4">
                <h2 className="text-2xl font-martian font-semibold text-gray-900">Recent Progress Logs</h2>
                <Button variant="ghost" onClick={() => navigate('/progress-logs')}>View All</Button>
              </div>
              {recentLogs.length === 0 ? (
                <div className="text-gray-500 font-inter">No recent logs.</div>
              ) : (
                <div className="space-y-4">
                  {recentLogs.map(log => (
                    <Card key={log.log_id} className="bg-white border-0 shadow-sm">
                      <CardContent className="py-3 px-6">
                        <div className="flex flex-col md:flex-row md:items-center md:justify-between gap-2">
                          <div>
                            <div className="font-martian text-lg text-gray-900">{log.title}</div>
                            <div className="text-xs text-gray-500 font-inter">{log.type} • {log.project?.title || ''}</div>
                          </div>
                          <div className="text-xs text-gray-500 font-inter">{new Date(log.created_at).toLocaleDateString()}</div>
                        </div>
                        <div className="text-gray-700 font-inter mt-1 line-clamp-2">{log.description}</div>
                      </CardContent>
                    </Card>
                  ))}
                </div>
              )}
            </div>
            {/* Quick Actions */}
            <div className="flex flex-wrap gap-4">
              <Button className="bg-amber-800 hover:bg-amber-900 text-white px-6 py-3 text-base font-medium rounded-full font-inter flex items-center gap-2" onClick={() => navigate('/projects/create')}>
                <Plus className="w-5 h-5" /> Add Project
              </Button>
              <Button className="bg-amber-800 hover:bg-amber-900 text-white px-6 py-3 text-base font-medium rounded-full font-inter flex items-center gap-2" onClick={() => navigate('/progress-logs/create')}>
                <Plus className="w-5 h-5" /> Add Log
              </Button>
            </div>
          </>
        )}
      </div>
    </div>
  );
};

export default Dashboard;
</file>

<file path="src/pages/ForgotPassword.tsx">
import { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { Input } from '@/components/ui/input';
import { Button } from '@/components/ui/button';
import { forgotPassword } from '@/lib/api';
import { useToast } from '@/hooks/use-toast';

const ForgotPassword = () => {
  const [email, setEmail] = useState('');
  const [loading, setLoading] = useState(false);
  const { toast } = useToast();
  const navigate = useNavigate();

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setLoading(true);
    try {
      await forgotPassword(email);
      toast({ title: 'Reset email sent', description: 'Check your inbox for password reset instructions.' });
      setTimeout(() => navigate('/login'), 1000);
    } catch (err: any) {
      toast({ title: 'Request failed', description: err?.response?.data?.message || 'Please try again.', variant: 'destructive' });
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-white px-2 py-8 md:px-6 md:py-16">
      <div className="relative w-full max-w-md">
        {/* Butterfly Accent */}
        <img
          src="/butterfly.png"
          alt="SheBuilds Butterfly"
          className="absolute -top-10 left-1/2 -translate-x-1/2 w-16 h-16 opacity-80 animate-fade-in-up"
          style={{ zIndex: 2 }}
        />
        <div className="bg-white rounded-2xl shadow-2xl border border-gray-100 p-6 md:p-10 pt-16 animate-fade-in-up transition-all duration-700">
          <h1 className="text-3xl font-light text-gray-900 mb-2 font-martian text-center">Forgot Password?</h1>
          <p className="text-base text-gray-600 mb-8 font-inter text-center">Enter your email and we'll send you a link to reset your password.</p>
          <form onSubmit={handleSubmit} className="space-y-6">
            <div>
              <label htmlFor="email" className="block text-sm font-medium text-gray-700 font-inter mb-1">Email</label>
              <Input
                id="email"
                type="email"
                placeholder="e.g. jane@example.com"
                value={email}
                onChange={e => setEmail(e.target.value)}
                required
                className="font-inter"
                autoComplete="email"
              />
            </div>
            <Button type="submit" className="w-full bg-amber-800 hover:bg-amber-900 text-white font-inter text-base rounded-full transition-all duration-300" disabled={loading}>
              {loading ? 'Sending...' : 'Send Reset Link'}
            </Button>
          </form>
          <div className="mt-8 text-center text-sm text-gray-600 font-inter">
            Remembered your password?{' '}
            <a href="/login" className="text-orange-600 hover:underline font-medium transition-all duration-300">Sign In</a>
          </div>
        </div>
      </div>
      {/* Fade-in animation */}
      <style>{`
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.8s cubic-bezier(0.4,0,0.2,1) both;
        }
      `}</style>
    </div>
  );
};

export default ForgotPassword;
</file>

<file path="src/pages/NotFound.tsx">
import { useLocation } from "react-router-dom";
import { useEffect } from "react";

const NotFound = () => {
  const location = useLocation();

  useEffect(() => {
    console.error(
      "404 Error: User attempted to access non-existent route:",
      location.pathname
    );
  }, [location.pathname]);

  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-100">
      <div className="text-center">
        <h1 className="text-4xl font-bold mb-4">404</h1>
        <p className="text-xl text-gray-600 mb-4">Oops! Page not found</p>
        <a href="/" className="text-blue-500 hover:text-blue-700 underline">
          Return to Home
        </a>
      </div>
    </div>
  );
};

export default NotFound;
</file>

<file path="src/pages/Privacy.tsx">
import React from 'react';
import Footer from '@/components/Footer';

const PrivacyPolicy = () => {
  return (
    <div className="bg-white">
      <main className="py-20 px-6">
        <div className="max-w-4xl mx-auto">
          <div className="text-center mb-12">
            <h1 className="text-5xl md:text-6xl font-light text-gray-900 mb-4 font-martian">Privacy Policy</h1>
            <p className="text-xl text-gray-600 font-inter">Last updated: {new Date().toLocaleDateString()}</p>
          </div>

          <div className="prose lg:prose-xl mx-auto text-gray-600 font-inter">
            <p>
              SheBuilds ("us", "we", or "our") operates the www.shebuilds.tech website (the "Service"). This page informs you of our policies regarding the collection, use, and disclosure of personal data when you use our Service and the choices you have associated with that data.
            </p>

            <h2>Information Collection and Use</h2>
            <p>
              We collect several different types of information for various purposes to provide and improve our Service to you. This may include, but is not limited to, your email address, name, and usage data.
            </p>

            <h2>Log Data</h2>
            <p>
              We may also collect information that your browser sends whenever you visit our Service or when you access the Service by or through a mobile device ("Log Data").
            </p>

            <h2>Cookies</h2>
            <p>
              Cookies are files with a small amount of data which may include an anonymous unique identifier. We use cookies and similar tracking technologies to track the activity on our Service and we hold certain information.
            </p>

            <h2>Use of Data</h2>
            <p>SheBuilds uses the collected data for various purposes:</p>
            <ul>
              <li>To provide and maintain our Service</li>
              <li>To notify you about changes to our Service</li>
              <li>To allow you to participate in interactive features of our Service when you choose to do so</li>
              <li>To provide customer support</li>
              <li>To gather analysis or valuable information so that we can improve our Service</li>
              <li>To monitor the usage of our Service</li>
              <li>To detect, prevent and address technical issues</li>
            </ul>

            <h2>Security of Data</h2>
            <p>
              The security of your data is important to us but remember that no method of transmission over the Internet or method of electronic storage is 100% secure. While we strive to use commercially acceptable means to protect your Personal Data, we cannot guarantee its absolute security.
            </p>

            <h2>Changes to This Privacy Policy</h2>
            <p>
              We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page. We will let you know via email and/or a prominent notice on our Service, prior to the change becoming effective and update the "last updated" date at the top of this Privacy Policy.
            </p>

            <h2>Contact Us</h2>
            <p>If you have any questions about this Privacy Policy, please contact us:</p>
            <ul>
              <li>By email: shebuilds.hacks@gmail.com</li>
            </ul>
          </div>
        </div>
      </main>
      <Footer />
    </div>
  );
};

export default PrivacyPolicy;
</file>

<file path="src/pages/ProgressLogCreate.tsx">
import React, { useEffect, useState } from 'react';
import Navbar from '../components/Navbar';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Textarea } from '@/components/ui/textarea';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import { api } from '@/lib/api';
import { toast } from '@/hooks/use-toast';
import { useNavigate } from 'react-router-dom';

interface Project {
  project_id: string;
  title: string;
}

const ProgressLogCreate: React.FC = () => {
  const [projects, setProjects] = useState<Project[]>([]);
  const [selectedProject, setSelectedProject] = useState('');
  const [type, setType] = useState('milestone');
  const [title, setTitle] = useState('');
  const [description, setDescription] = useState('');
  const [technologies, setTechnologies] = useState('');
  const [hours, setHours] = useState('');
  const [challenges, setChallenges] = useState('');
  const [lessons, setLessons] = useState('');
  const [loading, setLoading] = useState(false);
  const [submitting, setSubmitting] = useState(false);
  const navigate = useNavigate();
  const isLoggedIn = Boolean(localStorage.getItem('token'));

  useEffect(() => {
    if (!isLoggedIn) {
      toast({ title: 'Login required', description: 'Please log in to add a progress log.', variant: 'destructive' });
      navigate('/login');
      return;
    }
    fetchProjects();
    // eslint-disable-next-line
  }, []);

  const fetchProjects = async () => {
    try {
      setLoading(true);
      const response = await api.get('/projects');
      setProjects(response.data.data.projects || []);
    } catch (error) {
      toast({ title: 'Error', description: 'Failed to load your projects.', variant: 'destructive' });
    } finally {
      setLoading(false);
    }
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    if (!selectedProject || !type || !title || !description || !technologies || !hours) {
      toast({ title: 'Missing fields', description: 'Please fill in all required fields.', variant: 'destructive' });
      return;
    }
    try {
      setSubmitting(true);
      await api.post('/progress-logs', {
        project_id: selectedProject,
        type,
        title,
        description,
        technologies_used: technologies.split(',').map(t => t.trim()).filter(Boolean),
        hours_spent: Number(hours),
        challenges_overcome: challenges,
        lessons_learned: lessons,
      });
      toast({ title: 'Progress log added', description: 'Your progress log has been created.' });
      setTimeout(() => navigate('/progress-logs'), 1500);
    } catch (error: any) {
      toast({ title: 'Submission failed', description: error?.response?.data?.message || 'Please try again.', variant: 'destructive' });
    } finally {
      setSubmitting(false);
    }
  };

  return (
    <div className="min-h-screen flex flex-col items-center bg-gradient-to-br from-orange-50 to-white px-2 py-8 md:px-6 md:py-16">
      <Navbar />
      <Card className="w-full max-w-2xl shadow-xl border-0 rounded-3xl bg-white/90 animate-fade-in-up overflow-hidden">
        <CardHeader className="pt-10 pb-4 flex flex-col items-center bg-white/80 border-b border-gray-100">
          <CardTitle className="text-3xl font-bold text-gray-900 font-martian mb-1">Add Progress Log</CardTitle>
        </CardHeader>
        <CardContent className="pt-8 pb-4 px-6 bg-white/70">
          <form className="space-y-6" onSubmit={handleSubmit}>
            <div>
              <label className="block text-gray-700 font-inter mb-2">Select Project</label>
              <Select value={selectedProject} onValueChange={setSelectedProject} disabled={loading || projects.length === 0}>
                <SelectTrigger>
                  <SelectValue placeholder={loading ? 'Loading projects...' : 'Select your project'} />
                </SelectTrigger>
                <SelectContent>
                  {projects.map((project) => (
                    <SelectItem key={project.project_id} value={project.project_id}>{project.title}</SelectItem>
                  ))}
                </SelectContent>
              </Select>
              {projects.length === 0 && !loading && (
                <p className="text-sm text-gray-500 mt-2">You have no projects. <span className="text-amber-700 cursor-pointer underline" onClick={() => navigate('/projects/create')}>Add a project</span> first.</p>
              )}
            </div>
            <div>
              <label className="block text-gray-700 font-inter mb-2">Type</label>
              <Select value={type} onValueChange={setType}>
                <SelectTrigger>
                  <SelectValue placeholder="Type" />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="milestone">Milestone</SelectItem>
                  <SelectItem value="achievement">Achievement</SelectItem>
                  <SelectItem value="learning">Learning</SelectItem>
                </SelectContent>
              </Select>
            </div>
            <div>
              <label className="block text-gray-700 font-inter mb-2">Title</label>
              <Input value={title} onChange={e => setTitle(e.target.value)} required className="font-inter" placeholder="E.g. Completed User Authentication" />
            </div>
            <div>
              <label className="block text-gray-700 font-inter mb-2">Description</label>
              <Textarea value={description} onChange={e => setDescription(e.target.value)} rows={3} required className="font-inter" placeholder="Describe what you accomplished or learned..." />
            </div>
            <div>
              <label className="block text-gray-700 font-inter mb-2">Technologies Used (comma separated)</label>
              <Input value={technologies} onChange={e => setTechnologies(e.target.value)} required className="font-inter" placeholder="E.g. React, Node.js, MongoDB" />
            </div>
            <div>
              <label className="block text-gray-700 font-inter mb-2">Hours Spent</label>
              <Input value={hours} onChange={e => setHours(e.target.value)} required className="font-inter" type="number" min="0" step="0.1" placeholder="E.g. 8" />
            </div>
            <div>
              <label className="block text-gray-700 font-inter mb-2">Challenges Overcome (optional)</label>
              <Textarea value={challenges} onChange={e => setChallenges(e.target.value)} rows={2} className="font-inter" placeholder="Describe any challenges you overcame..." />
            </div>
            <div>
              <label className="block text-gray-700 font-inter mb-2">Lessons Learned (optional)</label>
              <Textarea value={lessons} onChange={e => setLessons(e.target.value)} rows={2} className="font-inter" placeholder="Share any lessons learned..." />
            </div>
            <div className="flex justify-center mt-8">
              <Button type="submit" className="bg-amber-800 hover:bg-amber-900 text-white px-8 py-3 text-base font-medium rounded-full font-inter" disabled={submitting || loading || projects.length === 0}>
                {submitting ? 'Submitting...' : 'Add Log'}
              </Button>
            </div>
          </form>
        </CardContent>
      </Card>
    </div>
  );
};

export default ProgressLogCreate;
</file>

<file path="src/pages/ProgressLogs.tsx">
import React, { useEffect, useState } from 'react';
import Navbar from '../components/Navbar';
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import { api } from '@/lib/api';
import { useNavigate } from 'react-router-dom';
import { toast } from '@/hooks/use-toast';
import { Calendar, Clock, Layers, Plus } from 'lucide-react';

interface Project {
  project_id: string;
  title: string;
}

interface ProgressLog {
  log_id: string;
  project_id: string;
  type: string;
  title: string;
  description: string;
  technologies_used: string[];
  hours_spent: number;
  challenges_overcome?: string;
  lessons_learned?: string;
  created_at: string;
  project?: { title: string };
}

const ProgressLogs: React.FC = () => {
  const [logs, setLogs] = useState<ProgressLog[]>([]);
  const [projects, setProjects] = useState<Project[]>([]);
  const [projectFilter, setProjectFilter] = useState('all');
  const [typeFilter, setTypeFilter] = useState('all');
  const [loading, setLoading] = useState(true);
  const [currentPage, setCurrentPage] = useState(1);
  const [totalPages, setTotalPages] = useState(1);
  const navigate = useNavigate();
  const isLoggedIn = Boolean(localStorage.getItem('token'));

  useEffect(() => {
    if (!isLoggedIn) {
      toast({ title: 'Login required', description: 'Please log in to view your progress logs.', variant: 'destructive' });
      navigate('/login');
      return;
    }
    fetchProjects();
    // eslint-disable-next-line
  }, []);

  useEffect(() => {
    if (isLoggedIn) fetchLogs();
    // eslint-disable-next-line
  }, [currentPage, projectFilter, typeFilter]);

  const fetchProjects = async () => {
    try {
      const response = await api.get('/projects');
      setProjects(response.data.data.projects || []);
    } catch (error) {
      toast({ title: 'Error', description: 'Failed to load your projects.', variant: 'destructive' });
    }
  };

  const fetchLogs = async () => {
    try {
      setLoading(true);
      const params = new URLSearchParams({
        page: currentPage.toString(),
        limit: '10',
        ...(projectFilter !== 'all' && { project_id: projectFilter }),
        ...(typeFilter !== 'all' && { type: typeFilter }),
      });
      const response = await api.get(`/progress-logs?${params}`);
      setLogs(response.data.data.logs);
      setTotalPages(response.data.data.pagination.pages);
    } catch (error) {
      toast({ title: 'Error', description: 'Failed to load progress logs.', variant: 'destructive' });
    } finally {
      setLoading(false);
    }
  };

  const formatDate = (dateString: string) => {
    return new Date(dateString).toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric',
    });
  };

  return (
    <div className="min-h-screen bg-white">
      <Navbar />
      <div className="px-2 sm:px-4 md:px-6 py-8 md:py-16">
        <div className="max-w-5xl mx-auto">
          <div className="flex flex-col sm:flex-row justify-between items-center mb-8 gap-4">
            <div className="text-center sm:text-left">
              <h1 className="text-4xl sm:text-5xl font-light text-gray-900 font-martian mb-2">Progress Logs</h1>
              <p className="text-base sm:text-lg text-gray-600 font-inter font-light">Track your project milestones, achievements, and learnings.</p>
            </div>
            <Button className="bg-amber-800 hover:bg-amber-900 text-white px-6 py-3 text-base font-medium rounded-full font-inter flex items-center gap-2" onClick={() => navigate('/progress-logs/create')}>
              <Plus className="w-5 h-5" /> Add Log
            </Button>
          </div>

          {/* Filters */}
          <div className="bg-gray-50 rounded-lg p-4 sm:p-6 mb-8 flex flex-col sm:flex-row gap-4 items-center">
            <Select value={projectFilter} onValueChange={setProjectFilter}>
              <SelectTrigger className="w-48">
                <SelectValue placeholder="Filter by Project" />
              </SelectTrigger>
              <SelectContent>
                <SelectItem value="all">All Projects</SelectItem>
                {projects.map((project) => (
                  <SelectItem key={project.project_id} value={project.project_id}>{project.title}</SelectItem>
                ))}
              </SelectContent>
            </Select>
            <Select value={typeFilter} onValueChange={setTypeFilter}>
              <SelectTrigger className="w-48">
                <SelectValue placeholder="Filter by Type" />
              </SelectTrigger>
              <SelectContent>
                <SelectItem value="all">All Types</SelectItem>
                <SelectItem value="milestone">Milestone</SelectItem>
                <SelectItem value="achievement">Achievement</SelectItem>
                <SelectItem value="learning">Learning</SelectItem>
              </SelectContent>
            </Select>
          </div>

          {/* Timeline/List */}
          <div className="space-y-6">
            {loading ? (
              [...Array(5)].map((_, i) => (
                <Card key={i} className="h-32 animate-pulse bg-white rounded-lg shadow-sm" />
              ))
            ) : logs.length === 0 ? (
              <div className="text-center text-gray-500 font-inter text-lg">No progress logs found.</div>
            ) : (
              logs.map((log) => (
                <Card key={log.log_id} className="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow border-0">
                  <CardHeader className="pb-2 flex flex-col md:flex-row md:items-center md:justify-between gap-2">
                    <div className="flex items-center gap-2 mb-2 md:mb-0">
                      <span className="inline-block px-3 py-1 rounded-full font-inter font-medium text-sm bg-orange-100 text-orange-800 capitalize">{log.type}</span>
                      <span className="flex items-center gap-1 text-gray-500 font-inter text-sm"><Layers className="w-4 h-4" />{log.project?.title || ''}</span>
                    </div>
                    <span className="flex items-center gap-1 text-gray-600 font-inter text-sm"><Calendar className="w-4 h-4" />{formatDate(log.created_at)}</span>
                  </CardHeader>
                  <CardContent className="pt-0 pb-4 px-6">
                    <h2 className="text-xl font-semibold text-gray-900 font-martian mb-1">{log.title}</h2>
                    <p className="text-gray-700 font-inter mb-2 line-clamp-3">{log.description}</p>
                    <div className="flex flex-wrap gap-2 items-center text-xs mb-2">
                      <span className="flex items-center gap-1 text-amber-700 font-inter"><Clock className="w-4 h-4" />{log.hours_spent} hrs</span>
                      {log.technologies_used && log.technologies_used.length > 0 && (
                        <span className="flex items-center gap-1 text-gray-500 font-inter">Tech: {log.technologies_used.join(', ')}</span>
                      )}
                    </div>
                    {log.challenges_overcome && (
                      <div className="text-xs text-gray-500 font-inter mb-1"><b>Challenges:</b> {log.challenges_overcome}</div>
                    )}
                    {log.lessons_learned && (
                      <div className="text-xs text-gray-500 font-inter"><b>Lessons:</b> {log.lessons_learned}</div>
                    )}
                  </CardContent>
                </Card>
              ))
            )}
          </div>

          {/* Pagination */}
          <div className="flex flex-col sm:flex-row justify-center items-center mt-8 md:mt-12 gap-4">
            <Button
              variant="ghost"
              disabled={currentPage === 1}
              onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}
            >
              Previous
            </Button>
            <span className="mx-2 md:mx-4 text-gray-700 font-inter">Page {currentPage} of {totalPages}</span>
            <Button
              variant="ghost"
              disabled={currentPage === totalPages}
              onClick={() => setCurrentPage((p) => Math.min(totalPages, p + 1))}
            >
              Next
            </Button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default ProgressLogs;
</file>

<file path="src/pages/ResetPassword.tsx">
import { useState } from 'react';
import { useNavigate, useLocation } from 'react-router-dom';
import { Input } from '@/components/ui/input';
import { Button } from '@/components/ui/button';
import { resetPassword } from '@/lib/api';
import { useToast } from '@/hooks/use-toast';

function useQuery() {
  return new URLSearchParams(useLocation().search);
}

const ResetPassword = () => {
  const [newPassword, setNewPassword] = useState('');
  const [loading, setLoading] = useState(false);
  const { toast } = useToast();
  const navigate = useNavigate();
  const query = useQuery();
  const token = query.get('token') || '';

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setLoading(true);
    try {
      await resetPassword(token, newPassword);
      toast({ title: 'Password reset', description: 'You can now sign in with your new password.' });
      setTimeout(() => navigate('/login'), 1000);
    } catch (err: any) {
      toast({ title: 'Reset failed', description: err?.response?.data?.message || 'Please try again.', variant: 'destructive' });
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-white px-2 py-8 md:px-6 md:py-16">
      <div className="relative w-full max-w-md">
        {/* Butterfly Accent */}
        <img
          src="/butterfly.png"
          alt="SheBuilds Butterfly"
          className="absolute -top-10 left-1/2 -translate-x-1/2 w-16 h-16 opacity-80 animate-fade-in-up"
          style={{ zIndex: 2 }}
        />
        <div className="bg-white rounded-2xl shadow-2xl border border-gray-100 p-6 md:p-10 pt-16 animate-fade-in-up transition-all duration-700">
          <h1 className="text-3xl font-light text-gray-900 mb-2 font-martian text-center">Reset Password</h1>
          <p className="text-base text-gray-600 mb-8 font-inter text-center">Enter your new password below to reset your account password.</p>
          <form onSubmit={handleSubmit} className="space-y-6">
            <div>
              <label htmlFor="newPassword" className="block text-sm font-medium text-gray-700 font-inter mb-1">New Password</label>
              <Input
                id="newPassword"
                type="password"
                placeholder="At least 6 characters"
                value={newPassword}
                onChange={e => setNewPassword(e.target.value)}
                required
                className="font-inter"
                autoComplete="new-password"
              />
            </div>
            <Button type="submit" className="w-full bg-amber-800 hover:bg-amber-900 text-white font-inter text-base rounded-full transition-all duration-300" disabled={loading}>
              {loading ? 'Resetting...' : 'Reset Password'}
            </Button>
          </form>
          <div className="mt-8 text-center text-sm text-gray-600 font-inter">
            Back to{' '}
            <a href="/login" className="text-orange-600 hover:underline font-medium transition-all duration-300">Sign In</a>
          </div>
        </div>
      </div>
      {/* Fade-in animation */}
      <style>{`
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.8s cubic-bezier(0.4,0,0.2,1) both;
        }
      `}</style>
    </div>
  );
};

export default ResetPassword;
</file>

<file path="src/pages/Terms.tsx">
import React from 'react';
import Footer from '@/components/Footer';

const TermsOfService = () => {
  return (
    <div className="bg-white">
      <main className="py-20 px-6">
        <div className="max-w-4xl mx-auto">
          <div className="text-center mb-12">
            <h1 className="text-5xl md:text-6xl font-light text-gray-900 mb-4 font-martian">Terms of Service</h1>
            <p className="text-xl text-gray-600 font-inter">Last updated: {new Date().toLocaleDateString()}</p>
          </div>

          <div className="prose lg:prose-xl mx-auto text-gray-600 font-inter">
            <h2>1. Terms</h2>
            <p>
              By accessing the website at www.shebuilds.tech, you are agreeing to be bound by these terms of service, all applicable laws and regulations, and agree that you are responsible for compliance with any applicable local laws. If you do not agree with any of these terms, you are prohibited from using or accessing this site.
            </p>

            <h2>2. Use License</h2>
            <p>
              Permission is granted to temporarily download one copy of the materials (information or software) on SheBuilds' website for personal, non-commercial transitory viewing only. This is the grant of a license, not a transfer of title, and under this license you may not:
            </p>
            <ul>
              <li>modify or copy the materials;</li>
              <li>use the materials for any commercial purpose, or for any public display (commercial or non-commercial);</li>
              <li>attempt to decompile or reverse engineer any software contained on SheBuilds' website;</li>
              <li>remove any copyright or other proprietary notations from the materials; or</li>
              <li>transfer the materials to another person or "mirror" the materials on any other server.</li>
            </ul>

            <h2>3. Disclaimer</h2>
            <p>
              The materials on SheBuilds' website are provided on an 'as is' basis. SheBuilds makes no warranties, expressed or implied, and hereby disclaims and negates all other warranties including, without limitation, implied warranties or conditions of merchantability, fitness for a particular purpose, or non-infringement of intellectual property or other violation of rights.
            </p>

            <h2>4. Limitations</h2>
            <p>
              In no event shall SheBuilds or its suppliers be liable for any damages (including, without limitation, damages for loss of data or profit, or due to business interruption) arising out of the use or inability to use the materials on SheBuilds' website, even if SheBuilds or a SheBuilds authorized representative has been notified orally or in writing of the possibility of such damage.
            </p>

            <h2>5. Governing Law</h2>
            <p>
              These terms and conditions are governed by and construed in accordance with the laws of India and you irrevocably submit to the exclusive jurisdiction of the courts in that State or location.
            </p>

            <h2>Contact Us</h2>
            <p>If you have any questions about these Terms, please contact us:</p>
            <ul>
              <li>By email: shebuilds.hacks@gmail.com</li>
            </ul>
          </div>
        </div>
      </main>
      <Footer />
    </div>
  );
};

export default TermsOfService;
</file>

<file path="src/services/projectService.ts">
import api from '@/lib/api';
import { 
  Project, 
  CreateProjectData, 
  ProjectFilters,
  PaginatedResponse,
  ApiResponse,
  FileUploadResponse 
} from '@/types/api';

export class ProjectService {
  /**
   * Get projects with optional filtering and pagination
   */
  async getProjects(filters: ProjectFilters = {}): Promise<PaginatedResponse<Project>> {
    const params = new URLSearchParams();
    
    if (filters.status) params.append('status', filters.status);
    if (filters.category) params.append('category', filters.category);
    if (filters.search) params.append('search', filters.search);
    if (filters.page) params.append('page', filters.page.toString());
    if (filters.limit) params.append('limit', filters.limit.toString());
    
    const response = await api.get<ApiResponse<PaginatedResponse<Project>>>(
      `/projects?${params.toString()}`
    );
    
    if (!response.data.success || !response.data.data) {
      throw new Error(response.data.message || 'Failed to fetch projects');
    }
    
    return response.data.data;
  }

  /**
   * Get single project by ID
   */
  async getProject(id: string): Promise<Project> {
    const response = await api.get<ApiResponse<Project>>(`/projects/${id}`);
    
    if (!response.data.success || !response.data.data) {
      throw new Error(response.data.message || 'Project not found');
    }
    
    return response.data.data;
  }

  /**
   * Create new project
   */
  async createProject(dat
</file>

<file path="src/vite-env.d.ts">
/// <reference types="vite/client" />
</file>

<file path="tailwind.config.ts">
import type { Config } from "tailwindcss";

export default {
	darkMode: ["class"],
	content: [
		"./pages/**/*.{ts,tsx}",
		"./components/**/*.{ts,tsx}",
		"./app/**/*.{ts,tsx}",
		"./src/**/*.{ts,tsx}",
	],
	prefix: "",
	theme: {
		container: {
			center: true,
			padding: '2rem',
			screens: {
				'2xl': '1400px'
			}
		},
		extend: {
			fontFamily: {
				'inter': ['Inter', 'sans-serif'],
				'martian': ['Martian Mono', 'monospace'],
			},
			colors: {
				border: 'hsl(var(--border))',
				input: 'hsl(var(--input))',
				ring: 'hsl(var(--ring))',
				background: 'hsl(var(--background))',
				foreground: 'hsl(var(--foreground))',
				primary: {
					DEFAULT: 'hsl(var(--primary))',
					foreground: 'hsl(var(--primary-foreground))'
				},
				secondary: {
					DEFAULT: 'hsl(var(--secondary))',
					foreground: 'hsl(var(--secondary-foreground))'
				},
				destructive: {
					DEFAULT: 'hsl(var(--destructive))',
					foreground: 'hsl(var(--destructive-foreground))'
				},
				muted: {
					DEFAULT: 'hsl(var(--muted))',
					foreground: 'hsl(var(--muted-foreground))'
				},
				accent: {
					DEFAULT: 'hsl(var(--accent))',
					foreground: 'hsl(var(--accent-foreground))'
				},
				popover: {
					DEFAULT: 'hsl(var(--popover))',
					foreground: 'hsl(var(--popover-foreground))'
				},
				card: {
					DEFAULT: 'hsl(var(--card))',
					foreground: 'hsl(var(--card-foreground))'
				},
				sidebar: {
					DEFAULT: 'hsl(var(--sidebar-background))',
					foreground: 'hsl(var(--sidebar-foreground))',
					primary: 'hsl(var(--sidebar-primary))',
					'primary-foreground': 'hsl(var(--sidebar-primary-foreground))',
					accent: 'hsl(var(--sidebar-accent))',
					'accent-foreground': 'hsl(var(--sidebar-accent-foreground))',
					border: 'hsl(var(--sidebar-border))',
					ring: 'hsl(var(--sidebar-ring))'
				}
			},
			borderRadius: {
				lg: 'var(--radius)',
				md: 'calc(var(--radius) - 2px)',
				sm: 'calc(var(--radius) - 4px)'
			},
			keyframes: {
				'accordion-down': {
					from: {
						height: '0'
					},
					to: {
						height: 'var(--radix-accordion-content-height)'
					}
				},
				'accordion-up': {
					from: {
						height: 'var(--radix-accordion-content-height)'
					},
					to: {
						height: '0'
					}
				}
			},
			animation: {
				'accordion-down': 'accordion-down 0.2s ease-out',
				'accordion-up': 'accordion-up 0.2s ease-out'
			}
		}
	},
	plugins: [require("tailwindcss-animate")],
} satisfies Config;
</file>

<file path="tsconfig.app.json">
{
  "compilerOptions": {
    "target": "ES2020",
    "useDefineForClassFields": true,
    "lib": ["ES2020", "DOM", "DOM.Iterable"],
    "module": "ESNext",
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "isolatedModules": true,
    "moduleDetection": "force",
    "noEmit": true,
    "jsx": "react-jsx",

    /* Linting */
    "strict": false,
    "noUnusedLocals": false,
    "noUnusedParameters": false,
    "noImplicitAny": false,
    "noFallthroughCasesInSwitch": false,

    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "include": ["src"]
}
</file>

<file path="tsconfig.json">
{
  "files": [],
  "references": [
    { "path": "./tsconfig.app.json" },
    { "path": "./tsconfig.node.json" }
  ],
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    },
    "noImplicitAny": false,
    "noUnusedParameters": false,
    "skipLibCheck": true,
    "allowJs": true,
    "noUnusedLocals": false,
    "strictNullChecks": false
  }
}
</file>

<file path="tsconfig.node.json">
{
  "compilerOptions": {
    "target": "ES2022",
    "lib": ["ES2023"],
    "module": "ESNext",
    "skipLibCheck": true,

    /* Bundler mode */
    "moduleResolution": "bundler",
    "allowImportingTsExtensions": true,
    "isolatedModules": true,
    "moduleDetection": "force",
    "noEmit": true,

    /* Linting */
    "strict": true,
    "noUnusedLocals": false,
    "noUnusedParameters": false,
    "noFallthroughCasesInSwitch": true
  },
  "include": ["vite.config.ts"]
}
</file>

<file path=".cursor/rules/shebuilds-content.mdc">
# SheBuilds Content and Branding Guidelines

## Brand Identity
- **Name**: SheBuilds
- **Tagline**: "Bridging Gaps, Building Futures"
- **Mission**: Empowering women in technology and entrepreneurship

## Platform Overview: Builder's Arena
A community platform for builders (especially women/non-binary builders) to:
- Showcase personal portfolios
- Add and grow projects
- Apply for grants
- Participate in monthly challenges/hackathons
- Get featured and supported based on real progress

## Core Objects / Data Models

### 1. User (Builder)
| Attribute | Description |
|-----------|-------------|
| user_id | Unique identifier |
| name, username, email, bio | Basic info |
| profile_picture | Avatar |
| location, timezone | Optional but useful |
| skills | List of technical + creative skills |
| interests | Tags/topics user is interested in |
| social_links | GitHub, LinkedIn, Twitter, personal site |
| portfolio_slug | Custom URL for portfolio |
| joined_date | Onboarding timestamp |
| is_verified | Badge for trusted profiles |

### 2. Project
| Attribute | Description |
|-----------|-------------|
| project_id | Unique ID |
| title, description | Essential info |
| tags, tech_stack | Categorization |
| status | idea / in-progress / completed |
| media | Images, videos, demos |
| is_grant_eligible | Marked by builder |
| progress_logs | Logs submitted over time |
| team_members | Other user IDs (if collaborative) |
| submitted_to_challenges | List of challenge IDs |

### 3. Grant
| Attribute | Description |
|-----------|-------------|
| grant_id | Unique ID |
| amount | Amount in INR or USD |
| status | Applied / In review / Approved / Rejected |
| project_id | Linked project |
| builder_id | Linked user |
| review_notes | Admin comments or scoring |
| disbursed_date | Payment tracking |

### 4. Challenge / Hackathon
| Attribute | Description |
|-----------|-------------|
| challenge_id | Unique ID |
| title, theme, duration | Event basics |
| start_date, end_date | Schedule |
| prizes, sponsors | Optional |
| rules, submission_requirements | Clear expectations |
| participants | List of user/project IDs |
| winners | List of winning projects |

### 5. ProgressLog
| Attribute | Description |
|-----------|-------------|
| log_id | Unique ID |
| project_id | Linked project |
| date | Timestamp |
| content | Markdown or rich text |
| media | Screenshots, videos |
| impact_summary | Optional field for grant evaluators |

## Workflow & Experience Design

### 🌱 User Journey (Builder)

#### 1. Onboarding
- Sign up (email or OAuth)
- Pick interests + skills
- Set up portfolio in 5 steps:
  - About you
  - Skills & interests
  - Social links
  - Upload projects
  - Mark projects for grants

#### 2. Builder Portfolio Page
- Unique URL (e.g., shebuilds.io/@anita)
- About section, interests
- Skills cloud
- Featured projects (with grant-eligible badge)
- Progress logs (timeline format)
- Social share button

#### 3. Projects
- CRUD interface to add and edit
- Tag tech stack, attach images/videos
- Set public/private
- Mark for grant consideration
- Log progress weekly/bi-weekly

#### 4. Grant Process
- Projects marked as eligible go to dashboard
- Admins review project logs & builder profiles
- Email updates + dashboard tracking
- Auto-evaluation of consistency (number of logs, growth)

#### 5. Monthly Challenges / Hackathons
- Visible on homepage
- Countdown timer + register CTA
- Submit project -> link existing or new
- Tag challenge during submission
- Community voting (optional)
- Winners announced with badges + prizes

## 🎨 Builder Portfolio Builder (Frontend Module)
Your builder should be:
- **Visual**: drag and drop / card layout
- **Customizable**: light/dark themes, layout presets
- **Responsive**: mobile-first experience
- **Shareable**: OG tags, preview cards, social banners

### Features:
- Add cover image, color palette
- Show featured projects
- Highlight 3 key skills
- Quote/motto section
- Download PDF version (for resumes etc.)

## 📈 Admin Dashboard
For your core team to:
- Approve grant projects
- Track builder growth
- Moderate flagged content
- Highlight top projects
- View analytics: builder activity, log submissions, traffic

## Content Structure
The main landing page components are organized in [src/pages/Index.tsx](mdc:src/pages/Index.tsx):
- Hero section with animated butterfly
- Values section
- Events section with auto-scrolling cards
- Ecosystem section
- Impact section
- Partners section
- Footer

## Visual Elements
- **Butterfly Animation**: Central brand element in Hero section
- **Auto-scrolling Event Cards**: Showcase community events
- **Color Palette**: Amber/orange accents with gray tones
- **Typography**: Inter for body text, Martian Mono for headings

## Content Guidelines
- Focus on community and empowerment
- Highlight events and opportunities
- Emphasize inclusivity and support
- Use inclusive language throughout
- Showcase real community members and events

## Event Content
Events are displayed in the Hero section with:
- Event titles and images
- Auto-scrolling animation
- Hover effects for interaction
- Responsive design for all screen sizes

## Brand Voice
- Empowering and inclusive
- Community-focused
- Professional yet approachable
- Encouraging and supportive

## Key Messages
- Community of 10,000+ builders and leaders
- Bridging gaps in tech and entrepreneurship
- Building futures for women in technology
- Inclusive fellowship program
description:
globs:
alwaysApply: false
---
</file>

<file path=".gitignore">
# Logs
logs
*.log
npm-debug.log*
yarn-debug.log*
yarn-error.log*
pnpm-debug.log*
lerna-debug.log*

node_modules
dist
dist-ssr
*.local

# Editor directories and files
.vscode/*
!.vscode/extensions.json
.idea
.DS_Store
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?
*.env
</file>

<file path="server/src/controllers/challengeController.ts">
import { Request, Response } from 'express';
import { Challenge } from '../models/Challenge';
import { Project } from '../models/Project';
import { User } from '../models/User';
import { emailService } from '../utils/emailService';
import { Types } from 'mongoose';

interface AuthRequest extends Request {
  user?: any;
}

// Create Challenge (Admin only)
export const createChallenge = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { 
      title, 
      theme, 
      duration, 
      start_date, 
      end_date, 
      prizes, 
      sponsors, 
      rules, 
      submission_requirements,
      max_participants 
    } = req.body;

    const challenge = new Challenge({
      title,
      theme,
      duration,
      start_date,
      end_date,
      prizes,
      sponsors,
      rules,
      submission_requirements,
      max_participants,
      created_by: req.user?._id
    });

    await challenge.save();

    res.status(201).json({
      message: 'Challenge created successfully',
      challenge
    });
  } catch (error) {
    console.error('Create challenge error:', error);
    res.status(500).json({ message: 'Server error during challenge creation' });
  }
};

// Get All Challenges
export const getChallenges = async (req: Request, res: Response): Promise<void> => {
  try {
    const { status, page = 1, limit = 10 } = req.query;
    const skip = (Number(page) - 1) * Number(limit);

    const filter: any = { is_active: true };

    if (status) {
      const now = new Date();
      if (status === 'upcoming') {
        filter.start_date = { $gt: now };
      } else if (status === 'running') {
        filter.start_date = { $lte: now };
        filter.end_date = { $gte: now };
      } else if (status === 'completed') {
        filter.end_date = { $lt: now };
      }
    }

    const challenges = await Challenge.find(filter)
      .populate('created_by', 'name username')
      .sort({ start_date: -1 })
      .skip(skip)
      .limit(Number(limit));

    const total = await Challenge.countDocuments(filter);

    res.json({
      challenges,
      pagination: {
        page: Number(page),
        limit: Number(limit),
        total,
        pages: Math.ceil(total / Number(limit))
      }
    });
  } catch (error) {
    console.error('Get challenges error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Get Challenge by ID
export const getChallengeById = async (req: Request, res: Response): Promise<void> => {
  try {
    const { id } = req.params;

    const challenge = await Challenge.findById(id)
      .populate('created_by', 'name username')
      .populate('participants', 'name username portfolio_slug profile_picture')
      .populate('winners', 'title description');

    if (!challenge) {
      res.status(404).json({ message: 'Challenge not found' });
      return;
    }

    res.json(challenge);
  } catch (error) {
    console.error('Get challenge error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Register for Challenge
export const registerForChallenge = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { challengeId } = req.params;

    const challenge = await Challenge.findById(challengeId);
    if (!challenge) {
      res.status(404).json({ message: 'Challenge not found' });
      return;
    }

    // Check if challenge is active
    if (!challenge.is_active) {
      res.status(400).json({ message: 'Challenge is not active' });
      return;
    }

    // Check if user is already registered
    if (challenge.participants.includes(req.user?._id)) {
      res.status(400).json({ message: 'Already registered for this challenge' });
      return;
    }

    // Check max participants
    if (challenge.max_participants && challenge.participants.length >= challenge.max_participants) {
      res.status(400).json({ message: 'Challenge is full' });
      return;
    }

    // Add user to participants
    challenge.participants.push(req.user?._id);
    await challenge.save();

    // Send confirmation email
    const user = await User.findById(req.user?._id);
    if (user) {
      emailService.sendChallengeRegistrationEmail(user.email, user.name, challenge.title).catch(error => {
        console.error('Failed to send challenge registration email:', error);
      });
    }

    res.json({
      message: 'Successfully registered for challenge',
      challenge
    });
  } catch (error) {
    console.error('Register for challenge error:', error);
    res.status(500).json({ message: 'Server error during registration' });
  }
};

// Submit Project to Challenge
export const submitProjectToChallenge = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { challengeId } = req.params;
    const { projectId } = req.body;

    const challenge = await Challenge.findById(challengeId);
    if (!challenge) {
      res.status(404).json({ message: 'Challenge not found' });
      return;
    }

    // Check if user is registered for challenge
    if (!challenge.participants.includes(req.user?._id)) {
      res.status(400).json({ message: 'Not registered for this challenge' });
      return;
    }

    const project = await Project.findById(projectId);
    if (!project) {
      res.status(404).json({ message: 'Project not found' });
      return;
    }

    // Check if project belongs to user
    if (project.builder_id.toString() !== req.user?._id.toString()) {
      res.status(403).json({ message: 'Not authorized to submit this project' });
      return;
    }

    // Convert challengeId to ObjectId
    const challengeObjectId = new Types.ObjectId(challengeId);
    if (!project.submitted_to_challenges.includes(challengeObjectId)) {
      project.submitted_to_challenges.push(challengeObjectId);
      await project.save();
    }

    res.json({
      message: 'Project submitted to challenge successfully',
      project
    });
  } catch (error) {
    console.error('Submit project to challenge error:', error);
    res.status(500).json({ message: 'Server error during submission' });
  }
};

// Admin: Update Challenge
export const updateChallenge = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { id } = req.params;
    const updateData = req.body;

    const challenge = await Challenge.findById(id);
    if (!challenge) {
      res.status(404).json({ message: 'Challenge not found' });
      return;
    }

    // Update fields
    Object.keys(updateData).forEach(key => {
      if (key !== 'created_by' && key !== 'challenge_id') {
        (challenge as any)[key] = updateData[key];
      }
    });

    await challenge.save();

    res.json({
      message: 'Challenge updated successfully',
      challenge
    });
  } catch (error) {
    console.error('Update challenge error:', error);
    res.status(500).json({ message: 'Server error during challenge update' });
  }
};

// Admin: Set Challenge Winners
export const setChallengeWinners = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { id } = req.params;
    const { winnerProjectIds } = req.body;

    const challenge = await Challenge.findById(id);
    if (!challenge) {
      res.status(404).json({ message: 'Challenge not found' });
      return;
    }

    // Validate that projects were submitted to this challenge
    const submittedProjects = await Project.find({
      _id: { $in: winnerProjectIds },
      submitted_to_challenges: challenge._id
    });

    if (submittedProjects.length !== winnerProjectIds.length) {
      res.status(400).json({ message: 'Some projects were not submitted to this challenge' });
      return;
    }

    challenge.winners = winnerProjectIds;
    await challenge.save();

    res.json({
      message: 'Challenge winners set successfully',
      challenge
    });
  } catch (error) {
    console.error('Set challenge winners error:', error);
    res.status(500).json({ message: 'Server error during winner selection' });
  }
};

// Admin: Delete Challenge
export const adminDeleteChallenge = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { id } = req.params;
    const challenge = await Challenge.findById(id);
    if (!challenge) {
      res.status(404).json({ message: 'Challenge not found' });
      return;
    }
    await challenge.deleteOne();
    res.json({ message: 'Challenge deleted successfully' });
  } catch (error) {
    console.error('Admin delete challenge error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Get User's Challenges
export const getUserChallenges = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { page = 1, limit = 10 } = req.query;
    const skip = (Number(page) - 1) * Number(limit);

    const challenges = await Challenge.find({
      participants: req.user?._id,
      is_active: true
    })
      .populate('created_by', 'name username')
      .sort({ start_date: -1 })
      .skip(skip)
      .limit(Number(limit));

    const total = await Challenge.countDocuments({
      participants: req.user?._id,
      is_active: true
    });

    res.json({
      challenges,
      pagination: {
        page: Number(page),
        limit: Number(limit),
        total,
        pages: Math.ceil(total / Number(limit))
      }
    });
  } catch (error) {
    console.error('Get user challenges error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};
</file>

<file path="server/src/controllers/grantController.ts">
import { Request, Response } from 'express';
import { Grant } from '../models/Grant';
import { Project } from '../models/Project';
import { User } from '../models/User';
import { emailService } from '../utils/emailService';

interface AuthRequest extends Request {
  user?: any;
}

// Apply for Grant
export const applyForGrant = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { project_id, amount, grant_type, impact_summary } = req.body;

    // Check if project exists and belongs to user
    const project = await Project.findById(project_id);
    if (!project) {
      res.status(404).json({ message: 'Project not found' });
      return;
    }

    if (project.builder_id.toString() !== req.user?._id.toString()) {
      res.status(403).json({ message: 'Not authorized to apply for grant for this project' });
      return;
    }

    // Check if project is grant eligible
    if (!project.is_grant_eligible) {
      res.status(400).json({ message: 'Project is not marked as grant eligible' });
      return;
    }

    // Create grant application
    const grant = new Grant({
      project_id,
      builder_id: req.user._id,
      amount,
      grant_type,
      impact_summary,
      status: 'applied'
    });

    await grant.save();

    // Send confirmation email
    const user = await User.findById(req.user._id);
    if (user) {
      emailService.sendGrantApplicationEmail(user.email, user.name, project.title).catch(error => {
        console.error('Failed to send grant application email:', error);
      });
    }

    res.status(201).json({
      message: 'Grant application submitted successfully',
      grant
    });
  } catch (error) {
    console.error('Apply for grant error:', error);
    res.status(500).json({ message: 'Server error during grant application' });
  }
};

// Get User's Grants
export const getUserGrants = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { page = 1, limit = 10 } = req.query;
    const skip = (Number(page) - 1) * Number(limit);

    const grants = await Grant.find({ builder_id: req.user?._id })
      .populate('project_id', 'title description')
      .sort({ applied_date: -1 })
      .skip(skip)
      .limit(Number(limit));

    const total = await Grant.countDocuments({ builder_id: req.user?._id });

    res.json({
      grants,
      pagination: {
        page: Number(page),
        limit: Number(limit),
        total,
        pages: Math.ceil(total / Number(limit))
      }
    });
  } catch (error) {
    console.error('Get user grants error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Get Grant by ID
export const getGrantById = async (req: Request, res: Response): Promise<void> => {
  try {
    const { id } = req.params;

    const grant = await Grant.findById(id)
      .populate('project_id', 'title description')
      .populate('builder_id', 'name username portfolio_slug');

    if (!grant) {
      res.status(404).json({ message: 'Grant not found' });
      return;
    }

    res.json(grant);
  } catch (error) {
    console.error('Get grant error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Admin: Update Grant Status
export const updateGrantStatus = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { id } = req.params;
    const { status, review_notes } = req.body;

    const grant = await Grant.findById(id).populate('project_id builder_id');
    if (!grant) {
      res.status(404).json({ message: 'Grant not found' });
      return;
    }

    // Update grant status
    grant.status = status;
    if (review_notes) grant.review_notes = review_notes;
    if (status === 'approved') {
      grant.reviewed_date = new Date();
      grant.reviewer_id = req.user?._id;
    }

    await grant.save();

    // Send email notification
    if (grant.builder_id && grant.project_id) {
      const user = grant.builder_id as any;
      const project = grant.project_id as any;
      
      if (status === 'approved') {
        emailService.sendGrantApprovalEmail(user.email, user.name, project.title, grant.amount).catch(error => {
          console.error('Failed to send grant approval email:', error);
        });
      }
    }

    res.json({
      message: 'Grant status updated successfully',
      grant
    });
  } catch (error) {
    console.error('Update grant status error:', error);
    res.status(500).json({ message: 'Server error during grant status update' });
  }
};

// Admin: Get All Grants (for admin dashboard)
export const getAllGrants = async (req: Request, res: Response): Promise<void> => {
  try {
    const { status, page = 1, limit = 10 } = req.query;
    const skip = (Number(page) - 1) * Number(limit);

    const filter: any = {};
    if (status) filter.status = status;

    const grants = await Grant.find(filter)
      .populate('project_id', 'title description')
      .populate('builder_id', 'name username portfolio_slug')
      .sort({ applied_date: -1 })
      .skip(skip)
      .limit(Number(limit));

    const total = await Grant.countDocuments(filter);

    res.json({
      grants,
      pagination: {
        page: Number(page),
        limit: Number(limit),
        total,
        pages: Math.ceil(total / Number(limit))
      }
    });
  } catch (error) {
    console.error('Get all grants error:', error);
    res.status(500).json({ message: 'Server error' });
  }
}; 

// Admin: Delete Grant
export const adminDeleteGrant = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { id } = req.params;
    const grant = await Grant.findById(id);
    if (!grant) {
      res.status(404).json({ message: 'Grant not found' });
      return;
    }
    await grant.deleteOne();
    res.json({ message: 'Grant deleted successfully' });
  } catch (error) {
    console.error('Admin delete grant error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};
</file>

<file path="server/src/controllers/profileController.ts">
import { Request, Response } from 'express';
import { User } from '../models/User';
import { Project } from '../models/Project';
import { Grant } from '../models/Grant';
import { Challenge } from '../models/Challenge';
import { ProgressLog } from '../models/ProgressLog';

interface AuthRequest extends Request {
  user?: any;
}

export const getFullPublicProfile = async (req: Request, res: Response): Promise<void> => {
  try {
    const { username } = req.params;
    const user = await User.findOne({ username }).select('-password');
    if (!user) {
      res.status(404).json({ message: 'User not found' });
      return;
    }

    // Fetch related data
    const [projects, grants, challenges, progress_logs] = await Promise.all([
      Project.find({ builder_id: user._id, is_public: true }),
      Grant.find({ builder_id: user._id }),
      Challenge.find({ participants: user._id }),
      ProgressLog.find({ builder_id: user._id, is_public: true })
    ]);

    res.json({
      user,
      projects,
      grants,
      challenges,
      progress_logs
    });
  } catch (err) {
    res.status(500).json({ message: 'Server error', error: (err as any).message });
  }
};

export const setupOrUpdateProfile = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const userId = req.user?._id || req.body.userId; // support both auth and manual for now
    if (!userId) {
      res.status(401).json({ message: 'Unauthorized' });
      return;
    }
    const update: any = {};
    const fields = [
      'name', 'bio', 'photos', 'musicLinks', 'journey', 'skills', 'interests', 'social_links', 'story', 'themeColor'
    ];
    fields.forEach(field => {
      if (req.body[field] !== undefined) update[field] = req.body[field];
    });
    const user = await User.findByIdAndUpdate(userId, update, { new: true }).select('-password');
    if (!user) {
      res.status(404).json({ message: 'User not found' });
      return;
    }
    res.json({ user });
  } catch (err) {
    res.status(500).json({ message: 'Server error', error: (err as any).message });
  }
};
</file>

<file path="server/src/controllers/uploadController.ts">
import { Request, Response } from 'express';
import multer from 'multer';
import path from 'path';
import { uploadService } from '../utils/uploadService';

interface AuthRequest extends Request {
  user?: any;
}

// Configure multer for file uploads
const storage = multer.diskStorage({
  destination: (req, file, cb) => {
    cb(null, 'uploads/');
  },
  filename: (req, file, cb) => {
    const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9);
    cb(null, file.fieldname + '-' + uniqueSuffix + path.extname(file.originalname));
  }
});

const upload = multer({
  storage,
  limits: {
    fileSize: 10 * 1024 * 1024 // 10MB limit
  },
  fileFilter: (req, file, cb) => {
    const allowedTypes = /jpeg|jpg|png|gif|mp4|mov|avi/;
    const extname = allowedTypes.test(path.extname(file.originalname).toLowerCase());
    const mimetype = allowedTypes.test(file.mimetype);

    if (mimetype && extname) {
      return cb(null, true);
    } else {
      cb(new Error('Only image and video files are allowed'));
    }
  }
});

// Upload profile picture
export const uploadProfilePicture = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    upload.single('profile_picture')(req, res, async (err) => {
      if (err) {
        res.status(400).json({ message: err.message });
        return;
      }

      if (!req.file) {
        res.status(400).json({ message: 'No file uploaded' });
        return;
      }

      try {
        const result = await uploadService.uploadProfilePicture(req.file);
        
        res.json({
          message: 'Profile picture uploaded successfully',
          image: {
            url: result.secure_url,
            public_id: result.public_id
          }
        });
      } catch (error) {
        console.error('Profile picture upload error:', error);
        res.status(500).json({ message: 'Failed to upload profile picture' });
      }
    });
  } catch (error) {
    console.error('Upload profile picture error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Upload project media
export const uploadProjectMedia = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    upload.array('media', 10)(req, res, async (err) => {
      if (err) {
        res.status(400).json({ message: err.message });
        return;
      }

      if (!req.files || req.files.length === 0) {
        res.status(400).json({ message: 'No files uploaded' });
        return;
      }

      try {
        const files = req.files as Express.Multer.File[];
        const results = await uploadService.uploadMultipleImages(files, 'shebuilds/projects');
        
        res.json({
          message: 'Project media uploaded successfully',
          media: results.map(result => ({
            url: result.secure_url,
            public_id: result.public_id
          }))
        });
      } catch (error) {
        console.error('Project media upload error:', error);
        res.status(500).json({ message: 'Failed to upload project media' });
      }
    });
  } catch (error) {
    console.error('Upload project media error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Upload progress log media
export const uploadProgressMedia = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    upload.array('media', 5)(req, res, async (err) => {
      if (err) {
        res.status(400).json({ message: err.message });
        return;
      }

      if (!req.files || req.files.length === 0) {
        res.status(400).json({ message: 'No files uploaded' });
        return;
      }

      try {
        const files = req.files as Express.Multer.File[];
        const results = await uploadService.uploadMultipleImages(files, 'shebuilds/progress');
        
        res.json({
          message: 'Progress media uploaded successfully',
          media: results.map(result => ({
            url: result.secure_url,
            public_id: result.public_id
          }))
        });
      } catch (error) {
        console.error('Progress media upload error:', error);
        res.status(500).json({ message: 'Failed to upload progress media' });
      }
    });
  } catch (error) {
    console.error('Upload progress media error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Upload cover image
export const uploadCoverImage = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    upload.single('cover_image')(req, res, async (err) => {
      if (err) {
        res.status(400).json({ message: err.message });
        return;
      }

      if (!req.file) {
        res.status(400).json({ message: 'No file uploaded' });
        return;
      }

      try {
        const result = await uploadService.uploadCoverImage(req.file);
        res.json({
          message: 'Cover image uploaded successfully',
          image: {
            url: result.secure_url,
            public_id: result.public_id
          }
        });
      } catch (error) {
        console.error('Cover image upload error:', error);
        res.status(500).json({ message: 'Failed to upload cover image' });
      }
    });
  } catch (error) {
    console.error('Upload cover image error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Delete uploaded file
export const deleteFile = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { publicId } = req.params;

    const success = await uploadService.deleteFile(publicId);
    
    if (success) {
      res.json({ message: 'File deleted successfully' });
    } else {
      res.status(400).json({ message: 'Failed to delete file' });
    }
  } catch (error) {
    console.error('Delete file error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};
</file>

<file path="server/src/middleware/auth.ts">
import { Request, Response, NextFunction } from 'express';
import jwt from 'jsonwebtoken';
import { User } from '../models/User';

interface AuthRequest extends Request {
  user?: any;
}

export const auth = async (req: AuthRequest, res: Response, next: NextFunction): Promise<void> => {
  try {
    const token = req.header('Authorization')?.replace('Bearer ', '');

    if (!token) {
      res.status(401).json({ message: 'No token, authorization denied' });
      return;
    }

    const decoded = jwt.verify(token, process.env.JWT_SECRET || 'fallback-secret') as any;
    const user = await User.findById(decoded.userId).select('-password');

    if (!user) {
      res.status(401).json({ message: 'Token is not valid' });
      return;
    }

    req.user = user;
    next();
  } catch (error) {
    console.error('Auth middleware error:', error);
    res.status(401).json({ message: 'Token is not valid' });
  }
};

export const adminAuth = async (req: AuthRequest, res: Response, next: NextFunction): Promise<void> => {
  try {
    await auth(req, res, () => {});
    if (!req.user?.is_admin) {
      res.status(403).json({ message: 'Admin access required' });
      return;
    }
    next();
  } catch (error) {
    console.error('Admin auth middleware error:', error);
    res.status(403).json({ message: 'Admin access required' });
  }
};
</file>

<file path="server/src/models/Project.ts">
import mongoose, { Document, Schema } from 'mongoose';

export interface IProject extends Document {
  project_id: string;
  title: string;
  description: string;
  tags: string[];
  tech_stack: string[];
  status: 'idea' | 'in-progress' | 'completed';
  media: {
    images: string[];
    videos: string[];
    demos: string[];
  };
  is_grant_eligible: boolean;
  progress_logs: mongoose.Types.ObjectId[];
  team_members: mongoose.Types.ObjectId[];
  submitted_to_challenges: mongoose.Types.ObjectId[];
  builder_id: mongoose.Types.ObjectId;
  is_public: boolean;
  created_at: Date;
  updated_at: Date;
}

const projectSchema = new Schema<IProject>({
  project_id: {
    type: String,
    required: true,
    unique: true,
    default: () => `project_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
  },
  title: {
    type: String,
    required: true,
    trim: true,
    maxlength: 100
  },
  description: {
    type: String,
    required: true,
    maxlength: 2000
  },
  tags: [{
    type: String,
    trim: true
  }],
  tech_stack: [{
    type: String,
    trim: true
  }],
  status: {
    type: String,
    enum: ['idea', 'in-progress', 'completed', 'draft'],
    default: 'idea'
  },
  media: {
    images: [{
      type: String,
      trim: true
    }],
    videos: [{
      type: String,
      trim: true
    }],
    demos: [{
      type: String,
      trim: true
    }]
  },
  is_grant_eligible: {
    type: Boolean,
    default: false
  },
  progress_logs: [{
    type: Schema.Types.ObjectId,
    ref: 'ProgressLog'
  }],
  team_members: [{
    type: Schema.Types.ObjectId,
    ref: 'User'
  }],
  submitted_to_challenges: [{
    type: Schema.Types.ObjectId,
    ref: 'Challenge'
  }],
  builder_id: {
    type: Schema.Types.ObjectId,
    ref: 'User',
    required: true
  },
  is_public: {
    type: Boolean,
    default: true
  }
}, {
  timestamps: { createdAt: 'created_at', updatedAt: 'updated_at' }
});

// Indexes for better query performance
projectSchema.index({ builder_id: 1 });
projectSchema.index({ status: 1 });
projectSchema.index({ is_grant_eligible: 1 });
projectSchema.index({ tags: 1 });
projectSchema.index({ tech_stack: 1 });
projectSchema.index({ is_public: 1 });

export const Project = mongoose.model<IProject>('Project', projectSchema);
</file>

<file path="server/src/routes/challenges.ts">
import { Router } from 'express';
import { 
  createChallenge, 
  getChallenges, 
  getChallengeById, 
  registerForChallenge, 
  submitProjectToChallenge,
  updateChallenge,
  setChallengeWinners,
  getUserChallenges,
  adminDeleteChallenge
} from '../controllers/challengeController';
import { auth, adminAuth } from '../middleware/auth';
import { validateChallenge } from '../middleware/validation';

const router = Router();

// Public routes
router.get('/', getChallenges);
router.get('/:id', getChallengeById);

// Protected routes
router.get('/user/my-challenges', auth, getUserChallenges);
router.post('/:challengeId/register', auth, registerForChallenge);
router.post('/:challengeId/submit', auth, submitProjectToChallenge);

// Admin routes
router.post('/', adminAuth, validateChallenge, createChallenge);
router.put('/:id', adminAuth, validateChallenge, updateChallenge);
router.put('/:id/winners', adminAuth, setChallengeWinners);
router.delete('/:id', adminAuth, adminDeleteChallenge);

export default router;
</file>

<file path="server/src/routes/grants.ts">
import { Router } from 'express';
import { 
  applyForGrant, 
  getUserGrants, 
  getGrantById, 
  updateGrantStatus, 
  getAllGrants, 
  adminDeleteGrant 
} from '../controllers/grantController';
import { auth, adminAuth } from '../middleware/auth';
import { validateGrant } from '../middleware/validation';

const router = Router();

// Protected routes
router.post('/apply', auth, validateGrant, applyForGrant);
router.get('/my-grants', auth, getUserGrants);
router.get('/:id', auth, getGrantById);

// Admin routes
router.get('/', adminAuth, getAllGrants);
router.put('/:id/status', adminAuth, updateGrantStatus);
router.delete('/:id', adminAuth, adminDeleteGrant);

export default router;
</file>

<file path="server/src/routes/profile.ts">
import { Router } from 'express';
import { getFullPublicProfile, setupOrUpdateProfile } from '../controllers/profileController';
import { auth } from '../middleware/auth';

const router = Router();

router.get('/:username', getFullPublicProfile);
router.post('/setup', auth, setupOrUpdateProfile);

export default router;
</file>

<file path="server/src/routes/upload.ts">
import { Router } from 'express';
import { 
  uploadProfilePicture, 
  uploadProjectMedia, 
  uploadProgressMedia, 
  uploadCoverImage, 
  deleteFile 
} from '../controllers/uploadController';
import { auth } from '../middleware/auth';

const router = Router();

// Protected routes
router.post('/profile-picture', auth, uploadProfilePicture);
router.post('/cover-image', auth, uploadCoverImage);
router.post('/project-media', auth, uploadProjectMedia);
router.post('/progress-media', auth, uploadProgressMedia);
router.delete('/:publicId', auth, deleteFile);

export default router;
</file>

<file path="server/src/utils/uploadService.ts">
import { v2 as cloudinary } from 'cloudinary';
import dotenv from 'dotenv';

dotenv.config();

// Configure Cloudinary
cloudinary.config({
  cloud_name: process.env.CLOUDINARY_CLOUD_NAME,
  api_key: process.env.CLOUDINARY_API_KEY,
  api_secret: process.env.CLOUDINARY_API_SECRET
});

interface UploadResult {
  url: string;
  public_id: string;
  secure_url: string;
}

class UploadService {
  // Upload single image
  async uploadImage(file: Express.Multer.File, folder: string = 'shebuilds'): Promise<UploadResult> {
    try {
      const result = await cloudinary.uploader.upload(file.path, {
        folder,
        resource_type: 'image',
        transformation: [
          { width: 800, height: 600, crop: 'limit' },
          { quality: 'auto' }
        ]
      });

      return {
        url: result.url,
        public_id: result.public_id,
        secure_url: result.secure_url
      };
    } catch (error) {
      console.error('Image upload error:', error);
      throw new Error('Failed to upload image');
    }
  }

  // Upload multiple images
  async uploadMultipleImages(files: Express.Multer.File[], folder: string = 'shebuilds'): Promise<UploadResult[]> {
    try {
      const uploadPromises = files.map(file => this.uploadImage(file, folder));
      return await Promise.all(uploadPromises);
    } catch (error) {
      console.error('Multiple images upload error:', error);
      throw new Error('Failed to upload images');
    }
  }

  // Upload video
  async uploadVideo(file: Express.Multer.File, folder: string = 'shebuilds'): Promise<UploadResult> {
    try {
      const result = await cloudinary.uploader.upload(file.path, {
        folder,
        resource_type: 'video',
        transformation: [
          { width: 800, height: 600, crop: 'limit' },
          { quality: 'auto' }
        ]
      });

      return {
        url: result.url,
        public_id: result.public_id,
        secure_url: result.secure_url
      };
    } catch (error) {
      console.error('Video upload error:', error);
      throw new Error('Failed to upload video');
    }
  }

  // Delete file from Cloudinary
  async deleteFile(publicId: string): Promise<boolean> {
    try {
      const result = await cloudinary.uploader.destroy(publicId);
      return result.result === 'ok';
    } catch (error) {
      console.error('File deletion error:', error);
      return false;
    }
  }

  // Upload profile picture
  async uploadProfilePicture(file: Express.Multer.File): Promise<UploadResult> {
    return this.uploadImage(file, 'shebuilds/profiles');
  }

  // Upload cover image
  async uploadCoverImage(file: Express.Multer.File): Promise<UploadResult> {
    return this.uploadImage(file, 'shebuilds/covers');
  }

  // Upload project media
  async uploadProjectMedia(file: Express.Multer.File): Promise<UploadResult> {
    return this.uploadImage(file, 'shebuilds/projects');
  }

  // Upload progress log media
  async uploadProgressMedia(file: Express.Multer.File): Promise<UploadResult> {
    return this.uploadImage(file, 'shebuilds/progress');
  }
}

export const uploadService = new UploadService();
</file>

<file path="src/components/Ecosystem.tsx">
import React, { useEffect, useRef, useState } from 'react';
import { Button } from '@/components/ui/button';

const Ecosystem = () => {
  const [isVisible, setIsVisible] = useState(false);
  const sectionRef = useRef(null);

  useEffect(() => {
    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          setIsVisible(true);
          observer.disconnect();
        }
      },
      { threshold: 0.1 }
    );

    if (sectionRef.current) {
      observer.observe(sectionRef.current);
    }

    return () => {
      if (sectionRef.current) {
        observer.unobserve(sectionRef.current);
      }
    };
  }, []);

  const ecosystemPoints = [
    { title: "Upskilling Cohorts", description: "Hands-on learning programs in emerging tech." },
    { title: "Innovation Challenges", description: "Hackathons and sprints to solve real-world problems." },
    { title: "Mentorship Access", description: "Guidance from experienced industry leaders." },
    { title: "Startup & Project Support", description: "Resources and visibility for women-led projects." },
    { title: "Funding & Grants", description: "Micro-grants and pitch opportunities for new ventures." },
    { title: "Community & Networking", description: "A vibrant network fostering collaboration and sisterhood." },
  ];

  const stats = [
    { value: "10,000+", label: "Strong Community" },
    { value: "300+", label: "Projects Built" },
    { value: "₹5L+", label: "Disbursed in Grants" },
  ];

  const leftPoints = ecosystemPoints.slice(0, 3);
  const rightPoints = ecosystemPoints.slice(3, 6);

  return (
    <section ref={sectionRef} className="py-24 bg-pink-50 px-4 sm:px-6 lg:px-8">
      <div className="max-w-7xl mx-auto">
        {/* Main Title */}
        <div className="text-center mb-16">
          <h2 className={`text-4xl md:text-5xl font-light text-gray-900 mb-4 font-martian transition-opacity duration-1000 ${isVisible ? 'opacity-100' : 'opacity-0'}`}>
            Our Ecosystem
          </h2>
          <p className={`text-lg text-gray-600 max-w-2xl mx-auto font-inter transition-opacity duration-1000 delay-200 ${isVisible ? 'opacity-100' : 'opacity-0'}`}>
            A holistic environment designed to support women at every stage of their journey in tech and entrepreneurship.
          </p>
        </div>

        {/* Ecosystem Grid */}
        <div className="grid lg:grid-cols-3 gap-8 items-center mb-20">
          {/* Left Column */}
          <div className="space-y-8">
            {leftPoints.map((point, index) => (
              <div 
                key={index}
                className={`text-right transition-all duration-700 delay-${200 + index * 100} ${isVisible ? 'opacity-100 translate-x-0' : 'opacity-0 -translate-x-8'}`}
              >
                <h3 className="font-martian text-lg font-medium text-gray-900">{point.title}</h3>
                <p className="font-inter text-gray-600">{point.description}</p>
              </div>
            ))}
          </div>

          {/* Center Image */}
          <div className={`flex justify-center items-center transition-opacity duration-1000 delay-500 ${isVisible ? 'opacity-100' : 'opacity-0'}`}>
            <img src="/19square.png" alt="SheBuilds Ecosystem" className="w-full max-w-sm h-auto rounded-lg" />
          </div>

          {/* Right Column */}
          <div className="space-y-8">
            {rightPoints.map((point, index) => (
              <div 
                key={index}
                className={`text-left transition-all duration-700 delay-${200 + index * 100} ${isVisible ? 'opacity-100 translate-x-0' : 'opacity-0 translate-x-8'}`}
              >
                <h3 className="font-martian text-lg font-medium text-gray-900">{point.title}</h3>
                <p className="font-inter text-gray-600">{point.description}</p>
              </div>
            ))}
          </div>
        </div>

        {/* Stats Section */}
        <div className="text-center mb-12">
          <h3 className={`text-3xl font-light text-gray-900 mb-2 font-martian transition-opacity duration-1000 delay-700 ${isVisible ? 'opacity-100' : 'opacity-0'}`}>
            Our Community, In Numbers
          </h3>
        </div>
        <div className="grid sm:grid-cols-3 gap-8">
          {stats.map((stat, index) => (
            <div 
              key={index}
              className={`bg-white p-8 rounded-2xl shadow-md text-center transition-all duration-700 hover:-translate-y-2 hover:shadow-lg delay-${800 + index * 100} ${isVisible ? 'opacity-100 scale-100' : 'opacity-0 scale-90'}`}
            >
              <p className="text-4xl font-bold text-orange-500 font-martian mb-2">{stat.value}</p>
              <p className="text-lg text-gray-600 font-inter">{stat.label}</p>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
};

export default Ecosystem;
</file>

<file path="src/components/Impact.tsx">
import React, { useEffect, useRef, useState } from 'react';
import { Button } from './ui/button';
import { ArrowRight } from 'lucide-react';

const Impact = () => {
  const [isVisible, setIsVisible] = useState(false);
  const sectionRef = useRef(null);

  useEffect(() => {
    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          setIsVisible(true);
          observer.disconnect();
        }
      },
      { threshold: 0.1 }
    );

    if (sectionRef.current) {
      observer.observe(sectionRef.current);
    }

    return () => {
      if (sectionRef.current) {
        observer.unobserve(sectionRef.current);
      }
    };
  }, []);

  const column1Images = ["/1.png", "/2.png", "/3.png", "/4.png", "/5.png", "/11.png", "/12.png", "/13.png"];
  const column2Images = ["/6.png", "/7.png", "/8.png", "/9.png", "/10.png", "/14.png", "/15.png", "/16.png"];

  return (
    <section ref={sectionRef} className="py-20 px-6 bg-white overflow-hidden">
      <div className="max-w-7xl mx-auto grid md:grid-cols-2 gap-12 items-center">
        {/* Text Content */}
        <div className={`transition-all duration-1000 ${isVisible ? 'opacity-100 translate-x-0' : 'opacity-0 -translate-x-12'}`}>
          <div className="mb-4">
            <span className="inline-block px-3 py-1 text-sm font-semibold text-orange-600 bg-orange-100 rounded-full">
              Our Impact
            </span>
          </div>
          <h2 className="text-5xl md:text-6xl font-light text-gray-900 mb-6 font-martian">
            By the Numbers
          </h2>
          <p className="text-xl text-gray-600 mb-8 font-inter leading-relaxed">
            From a small group of builders to a thriving ecosystem, our impact is a testament to the power of community. We've created a space where thousands can learn, build, and grow together.
          </p>
          
          <div className="grid grid-cols-2 gap-6 mb-8 text-center">
            <div>
              <p className="text-4xl font-light text-orange-500 font-martian">10,000+</p>
              <p className="text-sm text-gray-600 font-inter">Community Members</p>
            </div>
            <div>
              <p className="text-4xl font-light text-orange-500 font-martian">300+</p>
              <p className="text-sm text-gray-600 font-inter">Projects Built</p>
            </div>
            <div>
              <p className="text-4xl font-light text-orange-500 font-martian">₹5L+</p>
              <p className="text-sm text-gray-600 font-inter">In Grants Disbursed</p>
            </div>
            <div>
              <p className="text-4xl font-light text-orange-500 font-martian">65%</p>
              <p className="text-sm text-gray-600 font-inter">First-Time Builders</p>
            </div>
          </div>

          <Button className="bg-gray-900 hover:bg-gray-800 text-white px-8 py-3 text-base font-medium rounded-full font-inter">
            Join The Community
            <ArrowRight className="ml-2 w-5 h-5" />
          </Button>
        </div>

        {/* Image Gallery */}
        <div className={`h-[500px] flex gap-6 overflow-hidden transition-all duration-1000 delay-300 ${isVisible ? 'opacity-100' : 'opacity-0'}`}>
          <div className="w-1/2 flex flex-col gap-6 animate-scroll-up">
            {[...column1Images, ...column1Images].map((src, index) => (
              <img key={`col1-${index}`} src={src} alt={`Impact image ${index + 1}`} className="w-full h-auto object-cover rounded-2xl shadow-lg" />
            ))}
          </div>
          <div className="w-1/2 flex flex-col gap-6 animate-scroll-down">
            {[...column2Images, ...column2Images].map((src, index) => (
              <img key={`col2-${index}`} src={src} alt={`Impact image ${index + 1}`} className="w-full h-auto object-cover rounded-2xl shadow-lg" />
            ))}
          </div>
        </div>
      </div>

      <style dangerouslySetInnerHTML={{
        __html: `
        @keyframes scroll-up {
          from { transform: translateY(0); }
          to { transform: translateY(-50%); }
        }
        @keyframes scroll-down {
          from { transform: translateY(-50%); }
          to { transform: translateY(0); }
        }
        .animate-scroll-up {
          animation: scroll-up 15s linear infinite;
        }
        .animate-scroll-down {
          animation: scroll-down 15s linear infinite;
        }
      `}} />
    </section>
  );
};

export default Impact;
</file>

<file path="src/components/Values.tsx">
import React, { useEffect, useRef, useState } from 'react';

const Values = () => {
  const [isVisible, setIsVisible] = useState(false);
  const sectionRef = useRef(null);

  useEffect(() => {
    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          setIsVisible(true);
        }
      },
      { threshold: 0.1 }
    );

    if (sectionRef.current) {
      observer.observe(sectionRef.current);
    }

    return () => {
      if (sectionRef.current) {
        observer.unobserve(sectionRef.current);
      }
    };
  }, []);

  const sections = [
    {
      title: "Turn Representation into Leadership",
      description: "From presence to power — enabling women to lead, influence, and drive change. SheBuilds provides mentorship programs, leadership workshops, and networking opportunities that help women transition from participants to decision-makers in the tech ecosystem.",
      image: "/4.png",
      stats: ["63%", "Female Representation"],
      imageLeft: true,
      delay: 300
    },
    {
      title: "Democratize Access to Resources",
      description: "Levelling the playing field with opportunities in tech, funding, mentorship, and growth. Through our initiatives, we've disbursed ₹5L+ in grants and support to women-led projects and startups, creating pathways to success for underrepresented groups.",
      image: "/7.png",
      stats: ["₹5L+", "Grants Disbursed"],
      imageLeft: false,
      delay: 500
    },
    {
      title: "Build an Action-Oriented Sisterhood",
      description: "Building a bold, collaborative network of women who create, launch, and scale together. Our community of 10,000+ members spans across India and APAC regions, fostering connections that transcend competition and embrace collective growth.",
      image: "/11.png",
      stats: ["10,000+", "Community Members"],
      imageLeft: true,
      delay: 700
    }
  ];

  // Background floating elements
  const floatingElements = Array.from({ length: 6 }, (_, i) => ({
    id: i,
    size: Math.random() * 4 + 2,
    left: Math.random() * 100,
    top: Math.random() * 100,
    duration: Math.random() * 10 + 15,
    delay: Math.random() * 5
  }));

  return (
    <section ref={sectionRef} className="py-16 px-6 bg-white relative overflow-hidden">
      {/* Floating Background Elements */}
      {floatingElements.map((element) => (
        <div
          key={element.id}
          className="absolute bg-orange-100 rounded-full opacity-20 animate-float"
          style={{
            width: `${element.size}rem`,
            height: `${element.size}rem`,
            left: `${element.left}%`,
            top: `${element.top}%`,
            animationDuration: `${element.duration}s`,
            animationDelay: `${element.delay}s`,
          }}
        />
      ))}

      <div className="max-w-6xl mx-auto relative z-10">
        {/* Header */}
        <div className="text-center mb-16">
          <p className={`text-sm text-gray-500 mb-4 font-inter transition-all duration-1000 ${
            isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'
          }`}>
            Why SheBuilds
          </p>
          <h2 className={`text-4xl md:text-5xl font-light text-gray-900 mb-6 font-martian transition-all duration-1000 delay-200 ${
            isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'
          }`}>
            Our Core Values
          </h2>
          <p className={`text-xl text-gray-600 max-w-3xl mx-auto font-inter transition-all duration-1000 delay-300 ${
            isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'
          }`}>
            These principles guide everything we do and shape the inclusive community we're building together.
          </p>
        </div>
        
        {/* Alternating Image and Text Sections */}
        <div className="space-y-24">
          {sections.map((section, index) => (
            <div 
              key={index}
              className={`flex flex-col ${section.imageLeft ? 'md:flex-row' : 'md:flex-row-reverse'} items-center gap-12 transition-all duration-1000 ${
                isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-12'
              }`}
              style={{ transitionDelay: `${section.delay}ms` }}
            >
              {/* Image Section */}
              <div className="w-full md:w-1/2">
                <div className="relative">
                  <div className="absolute inset-0 bg-gradient-to-br from-orange-200 to-amber-100 rounded-2xl transform rotate-3 scale-95 opacity-50"></div>
                  <div className="relative overflow-hidden rounded-2xl shadow-xl group">
                    <img 
                      src={section.image} 
                      alt={section.title} 
                      className="w-full h-auto object-cover transition-transform duration-700 group-hover:scale-105"
                    />
                    <div className="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                  </div>
                </div>
              </div>
              
              {/* Text Section */}
              <div className="w-full md:w-1/2">
                <h3 className="text-3xl font-light text-gray-900 mb-4 font-martian hover:text-orange-600 transition-colors duration-300">
                  {section.title}
                </h3>
                <p className="text-gray-600 mb-8 font-inter leading-relaxed">
                  {section.description}
                </p>
                <div className="flex items-center space-x-4">
                  <div className="text-3xl font-light text-orange-500 font-martian animate-pulse-orange">
                    {section.stats[0]}
                  </div>
                  <div className="text-sm text-gray-600 font-inter">
                    {section.stats[1]}
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>

        {/* Mission Statement */}
        <div className={`mt-24 bg-gradient-to-r from-orange-50 to-amber-50 rounded-2xl p-8 shadow-sm transition-all duration-1000 delay-900 ${
          isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'
        }`}>
          <div className="max-w-4xl mx-auto text-center">
            <h3 className="text-2xl font-medium text-gray-900 mb-4 font-martian">
              Our Mission
            </h3>
            <p className="text-gray-700 font-inter leading-relaxed text-lg">
              To empower women by providing a collaborative ecosystem that fosters upskilling, innovation and mentorship — enabling them to grow as confident creators, entrepreneurs, and changemakers.
            </p>
            <div className="mt-6 text-lg font-medium text-orange-600 font-martian">
              "Built by her. Backed by boldness."
            </div>
          </div>
        </div>
      </div>

      {/* Custom Styles */}
      <style dangerouslySetInnerHTML={{
        __html: `
        @keyframes float {
          0% { transform: translateY(0px); }
          50% { transform: translateY(-20px); }
          100% { transform: translateY(0px); }
        }
        
        .animate-float {
          animation: float 15s ease-in-out infinite;
        }
        
        @keyframes pulse-orange {
          0%, 100% { color: #f97316; }
          50% { color: #ea580c; }
        }
        
        .animate-pulse-orange {
          animation: pulse-orange 2s ease-in-out infinite;
        }
        `
      }} />
    </section>
  );
};

export default Values;
</file>

<file path="src/pages/CreateProject.tsx">
import React, { useState } from 'react';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Textarea } from '@/components/ui/textarea';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import { Badge } from '@/components/ui/badge';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Label } from '@/components/ui/label';
import { Switch } from '@/components/ui/switch';
import { ArrowLeft, Plus, X, Save, Calendar, MapPin, Users, Tag } from 'lucide-react';
import { api } from '@/lib/api';
import { useNavigate } from 'react-router-dom';
import { toast } from '@/hooks/use-toast';
import Navbar from '../components/Navbar';

interface CreateProjectForm {
  title: string;
  description: string;
  category: string;
  status: 'draft' | 'in-progress' | 'completed' | 'archived';
  visibility: 'public' | 'private';
  tags: string[];
  location: string;
  teamSize: number;
  startDate: string;
  endDate?: string;
  objectives: string;
  challenges: string;
  impact: string;
  technologies: string[];
  budget: number;
  website?: string;
  github?: string;
  linkedin?: string;
}

const CreateProject: React.FC = () => {
  const navigate = useNavigate();
  const isLoggedIn = Boolean(localStorage.getItem('token'));
  
  const [formData, setFormData] = useState<CreateProjectForm>({
    title: '',
    description: '',
    category: '',
    status: 'draft',
    visibility: 'public',
    tags: [],
    location: '',
    teamSize: 1,
    startDate: '',
    endDate: '',
    objectives: '',
    challenges: '',
    impact: '',
    technologies: [],
    budget: 0,
    website: '',
    github: '',
    linkedin: ''
  });

  const [newTag, setNewTag] = useState('');
  const [newTechnology, setNewTechnology] = useState('');
  const [loading, setLoading] = useState(false);

  const categories = [
    'technology',
    'healthcare',
    'education',
    'environment',
    'social-impact',
    'business',
    'other'
  ];

  const locations = [
    'New York, NY',
    'San Francisco, CA',
    'Los Angeles, CA',
    'Chicago, IL',
    'Austin, TX',
    'Seattle, WA',
    'Boston, MA',
    'Denver, CO',
    'Atlanta, GA',
    'Miami, FL',
    'Remote',
    'Other'
  ];

  const handleInputChange = (field: keyof CreateProjectForm, value: any) => {
    setFormData(prev => ({
      ...prev,
      [field]: value
    }));
  };

  const handleAddTag = () => {
    if (newTag.trim() && !formData.tags.includes(newTag.trim())) {
      handleInputChange('tags', [...formData.tags, newTag.trim()]);
      setNewTag('');
    }
  };

  const handleRemoveTag = (tagToRemove: string) => {
    handleInputChange('tags', formData.tags.filter(tag => tag !== tagToRemove));
  };

  const handleAddTechnology = () => {
    if (newTechnology.trim() && !formData.technologies.includes(newTechnology.trim())) {
      handleInputChange('technologies', [...formData.technologies, newTechnology.trim()]);
      setNewTechnology('');
    }
  };

  const handleRemoveTechnology = (techToRemove: string) => {
    handleInputChange('technologies', formData.technologies.filter(tech => tech !== techToRemove));
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    
    if (!formData.title || !formData.description || !formData.category) {
      toast({
        title: "Validation Error",
        description: "Please fill in all required fields.",
        variant: "destructive",
      });
      return;
    }

    try {
      setLoading(true);
      const response = await api.post('/projects', formData);
      
      toast({
        title: "Success",
        description: "Project created successfully!",
      });
      
      navigate(`/projects/${response.data.project._id}`);
    } catch (error: any) {
      console.error('Error creating project:', error);
      toast({
        title: "Error",
        description: error.response?.data?.message || "Failed to create project. Please try again.",
        variant: "destructive",
      });
    } finally {
      setLoading(false);
    }
  };

  const handleSaveDraft = async () => {
    try {
      setLoading(true);
      const draftData = { ...formData, status: 'draft' };
      const response = await api.post('/projects', draftData);
      
      toast({
        title: "Draft Saved",
        description: "Project draft saved successfully!",
      });
      
      navigate(`/projects/${response.data.project._id}`);
    } catch (error: any) {
      console.error('Error saving draft:', error);
      toast({
        title: "Error",
        description: error.response?.data?.message || "Failed to save draft. Please try again.",
        variant: "destructive",
      });
    } finally {
      setLoading(false);
    }
  };

  if (!isLoggedIn) {
    return (
      <div className="min-h-screen bg-white">
        <div className="px-6 py-16">
          <div className="max-w-2xl mx-auto text-center">
            <h1 className="text-4xl font-light text-gray-900 mb-4 font-martian">Sign in Required</h1>
            <p className="text-lg text-gray-600 mb-8 font-inter">You need to be signed in to create a project.</p>
            <Button 
              onClick={() => navigate('/login')}
              className="bg-amber-800 hover:bg-amber-900 text-white px-8 py-3 text-base font-medium rounded-full font-inter"
            >
              Sign In
            </Button>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-white">
      <Navbar />

      {/* Page Content */}
      <div className="px-6 py-16">
        <div className="max-w-4xl mx-auto">
          {/* Header */}
          <div className="mb-8">
            <Button
              variant="ghost"
              onClick={() => navigate('/projects')}
              className="mb-6 text-gray-600 hover:text-gray-900 font-inter"
            >
              <ArrowLeft className="w-4 h-4 mr-2" />
              Back to Projects
            </Button>
            <h1 className="text-6xl md:text-7xl font-light mb-8 text-gray-900 leading-tight font-martian">
              Create Project
            </h1>
            <p className="text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl font-inter font-light">
              Share your innovation with the SheBuilds community
            </p>
          </div>

          <form onSubmit={handleSubmit} className="space-y-8">
            {/* Basic Information */}
            <Card className="border border-gray-100">
              <CardHeader>
                <CardTitle className="text-2xl font-martian">Basic Information</CardTitle>
                <CardDescription className="font-inter">Tell us about your project</CardDescription>
              </CardHeader>
              <CardContent className="space-y-6">
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div className="space-y-2">
                    <Label htmlFor="title" className="font-inter">Project Title *</Label>
                    <Input
                      id="title"
                      value={formData.title}
                      onChange={(e) => handleInputChange('title', e.target.value)}
                      placeholder="Enter your project title"
                      className="font-inter"
                    />
                  </div>
                  
                  <div className="space-y-2">
                    <Label htmlFor="category" className="font-inter">Category *</Label>
                    <Select value={formData.category} onValueChange={(value) => handleInputChange('category', value)}>
                      <SelectTrigger>
                        <SelectValue placeholder="Select category" />
                      </SelectTrigger>
                      <SelectContent>
                        {categories.map((category) => (
                          <SelectItem key={category} value={category}>
                            {category.charAt(0).toUpperCase() + category.slice(1).replace('-', ' ')}
                          </SelectItem>
                        ))}
                      </SelectContent>
                    </Select>
                  </div>
                </div>

                <div className="space-y-2">
                  <Label htmlFor="description" className="font-inter">Description *</Label>
                  <Textarea
                    id="description"
                    value={formData.description}
                    onChange={(e) => handleInputChange('description', e.target.value)}
                    placeholder="Describe your project in detail..."
                    rows={4}
                    className="font-inter"
                  />
                </div>

                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                  <div className="space-y-2">
                    <Label htmlFor="location" className="font-inter">Location</Label>
                    <Select value={formData.location} onValueChange={(value) => handleInputChange('location', value)}>
                      <SelectTrigger>
                        <SelectValue placeholder="Select location" />
                      </SelectTrigger>
                      <SelectContent>
                        {locations.map((location) => (
                          <SelectItem key={location} value={location}>
                            {location}
                          </SelectItem>
                        ))}
                      </SelectContent>
                    </Select>
                  </div>
                  
                  <div className="space-y-2">
                    <Label htmlFor="teamSize" className="font-inter">Team Size</Label>
                    <Input
                      id="teamSize"
                      type="number"
                      min="1"
                      value={formData.teamSize}
                      onChange={(e) => handleInputChange('teamSize', parseInt(e.target.value))}
                      className="font-inter"
                    />
                  </div>
                  
                  <div className="space-y-2">
                    <Label htmlFor="budget" className="font-inter">Budget (USD)</Label>
                    <Input
                      id="budget"
                      type="number"
                      min="0"
                      value={formData.budget}
                      onChange={(e) => handleInputChange('budget', parseInt(e.target.value))}
                      placeholder="0"
                      className="font-inter"
                    />
                  </div>
                </div>

                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div className="space-y-2">
                    <Label htmlFor="startDate" className="font-inter">Start Date</Label>
                    <Input
                      id="startDate"
                      type="date"
                      value={formData.startDate}
                      onChange={(e) => handleInputChange('startDate', e.target.value)}
                      className="font-inter"
                    />
                  </div>
                  
                  <div className="space-y-2">
                    <Label htmlFor="endDate" className="font-inter">End Date (Optional)</Label>
                    <Input
                      id="endDate"
                      type="date"
                      value={formData.endDate}
                      onChange={(e) => handleInputChange('endDate', e.target.value)}
                      className="font-inter"
                    />
                  </div>
                </div>
              </CardContent>
            </Card>

            {/* Tags and Technologies */}
            <Card className="border border-gray-100">
              <CardHeader>
                <CardTitle className="text-2xl font-martian">Tags & Technologies</CardTitle>
                <CardDescription className="font-inter">Help others discover your project</CardDescription>
              </CardHeader>
              <CardContent className="space-y-6">
                <div className="space-y-2">
                  <Label className="font-inter">Tags</Label>
                  <div className="flex flex-wrap gap-2 mb-2">
                    {formData.tags.map((tag, index) => (
                      <Badge key={index} variant="secondary" className="font-inter">
                        {tag}
                        <button
                          type="button"
                          onClick={() => handleRemoveTag(tag)}
                          className="ml-1 hover:text-red-600"
                        >
                          <X className="w-3 h-3" />
                        </button>
                      </Badge>
                    ))}
                  </div>
                  <div className="flex gap-2">
                    <Input
                      value={newTag}
                      onChange={(e) => setNewTag(e.target.value)}
                      placeholder="Add a tag..."
                      className="font-inter"
                      onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), handleAddTag())}
                    />
                    <Button type="button" onClick={handleAddTag} variant="outline" className="font-inter">
                      <Plus className="w-4 h-4" />
                    </Button>
                  </div>
                </div>

                <div className="space-y-2">
                  <Label className="font-inter">Technologies Used</Label>
                  <div className="flex flex-wrap gap-2 mb-2">
                    {formData.technologies.map((tech, index) => (
                      <Badge key={index} variant="secondary" className="font-inter">
                        {tech}
                        <button
                          type="button"
                          onClick={() => handleRemoveTechnology(tech)}
                          className="ml-1 hover:text-red-600"
                        >
                          <X className="w-3 h-3" />
                        </button>
                      </Badge>
                    ))}
                  </div>
                  <div className="flex gap-2">
                    <Input
                      value={newTechnology}
                      onChange={(e) => setNewTechnology(e.target.value)}
                      placeholder="Add a technology..."
                      className="font-inter"
                      onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), handleAddTechnology())}
                    />
                    <Button type="button" onClick={handleAddTechnology} variant="outline" className="font-inter">
                      <Plus className="w-4 h-4" />
                    </Button>
                  </div>
                </div>
              </CardContent>
            </Card>

            {/* Project Details */}
            <Card className="border border-gray-100">
              <CardHeader>
                <CardTitle className="text-2xl font-martian">Project Details</CardTitle>
                <CardDescription className="font-inter">Share more about your project goals and impact</CardDescription>
              </CardHeader>
              <CardContent className="space-y-6">
                <div className="space-y-2">
                  <Label htmlFor="objectives" className="font-inter">Project Objectives</Label>
                  <Textarea
                    id="objectives"
                    value={formData.objectives}
                    onChange={(e) => handleInputChange('objectives', e.target.value)}
                    placeholder="What are the main goals of your project?"
                    rows={3}
                    className="font-inter"
                  />
                </div>

                <div className="space-y-2">
                  <Label htmlFor="challenges" className="font-inter">Challenges & Solutions</Label>
                  <Textarea
                    id="challenges"
                    value={formData.challenges}
                    onChange={(e) => handleInputChange('challenges', e.target.value)}
                    placeholder="What challenges did you face and how did you solve them?"
                    rows={3}
                    className="font-inter"
                  />
                </div>

                <div className="space-y-2">
                  <Label htmlFor="impact" className="font-inter">Expected Impact</Label>
                  <Textarea
                    id="impact"
                    value={formData.impact}
                    onChange={(e) => handleInputChange('impact', e.target.value)}
                    placeholder="What impact do you expect your project to have?"
                    rows={3}
                    className="font-inter"
                  />
                </div>
              </CardContent>
            </Card>

            {/* Links */}
            <Card className="border border-gray-100">
              <CardHeader>
                <CardTitle className="text-2xl font-martian">Links</CardTitle>
                <CardDescription className="font-inter">Share relevant links to your project</CardDescription>
              </CardHeader>
              <CardContent className="space-y-6">
                <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                  <div className="space-y-2">
                    <Label htmlFor="website" className="font-inter">Website</Label>
                    <Input
                      id="website"
                      type="url"
                      value={formData.website}
                      onChange={(e) => handleInputChange('website', e.target.value)}
                      placeholder="https://your-project.com"
                      className="font-inter"
                    />
                  </div>
                  
                  <div className="space-y-2">
                    <Label htmlFor="github" className="font-inter">GitHub</Label>
                    <Input
                      id="github"
                      type="url"
                      value={formData.github}
                      onChange={(e) => handleInputChange('github', e.target.value)}
                      placeholder="https://github.com/username/repo"
                      className="font-inter"
                    />
                  </div>
                  
                  <div className="space-y-2">
                    <Label htmlFor="linkedin" className="font-inter">LinkedIn</Label>
                    <Input
                      id="linkedin"
                      type="url"
                      value={formData.linkedin}
                      onChange={(e) => handleInputChange('linkedin', e.target.value)}
                      placeholder="https://linkedin.com/in/username"
                      className="font-inter"
                    />
                  </div>
                </div>
              </CardContent>
            </Card>

            {/* Settings */}
            <Card className="border border-gray-100">
              <CardHeader>
                <CardTitle className="text-2xl font-martian">Settings</CardTitle>
                <CardDescription className="font-inter">Configure your project visibility and status</CardDescription>
              </CardHeader>
              <CardContent className="space-y-6">
                <div className="flex items-center justify-between">
                  <div className="space-y-0.5">
                    <Label className="font-inter">Public Project</Label>
                    <p className="text-sm text-gray-600 font-inter">Make your project visible to the community</p>
                  </div>
                  <Switch
                    checked={formData.visibility === 'public'}
                    onCheckedChange={(checked) => handleInputChange('visibility', checked ? 'public' : 'private')}
                  />
                </div>
              </CardContent>
            </Card>

            {/* Submit Buttons */}
            <div className="flex flex-col sm:flex-row gap-4 justify-center">
              <Button
                type="button"
                variant="outline"
                onClick={handleSaveDraft}
                disabled={loading}
                className="font-inter"
              >
                <Save className="w-4 h-4 mr-2" />
                Save as Draft
              </Button>
              <Button
                type="submit"
                disabled={loading}
                className="bg-amber-800 hover:bg-amber-900 text-white px-8 py-3 text-base font-medium rounded-full font-inter"
              >
                {loading ? 'Creating...' : 'Create Project'}
              </Button>
            </div>
          </form>
        </div>
      </div>
    </div>
  );
};

export default CreateProject;
</file>

<file path="src/pages/GrantApply.tsx">
import React, { useEffect, useState } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Textarea } from '@/components/ui/textarea';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import { api } from '@/lib/api';
import { toast } from '@/hooks/use-toast';
import Navbar from '../components/Navbar';

interface Project {
  project_id: string;
  title: string;
}

const GrantApply: React.FC = () => {
  const { grantId } = useParams<{ grantId: string }>();
  const [projects, setProjects] = useState<Project[]>([]);
  const [selectedProject, setSelectedProject] = useState<string>('');
  const [proposal, setProposal] = useState('');
  const [budget, setBudget] = useState('');
  const [timeline, setTimeline] = useState('');
  const [impact, setImpact] = useState('');
  const [loading, setLoading] = useState(false);
  const [submitting, setSubmitting] = useState(false);
  const navigate = useNavigate();
  const isLoggedIn = Boolean(localStorage.getItem('token'));

  useEffect(() => {
    if (!isLoggedIn) {
      toast({ title: 'Login required', description: 'Please log in to apply for a grant.', variant: 'destructive' });
      navigate('/login');
      return;
    }
    fetchProjects();
    // eslint-disable-next-line
  }, []);

  const fetchProjects = async () => {
    try {
      setLoading(true);
      const response = await api.get('/projects');
      setProjects(response.data.data.projects || []);
    } catch (error) {
      toast({ title: 'Error', description: 'Failed to load your projects.', variant: 'destructive' });
    } finally {
      setLoading(false);
    }
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    if (!selectedProject || !proposal || !budget || !timeline || !impact) {
      toast({ title: 'Missing fields', description: 'Please fill in all fields.', variant: 'destructive' });
      return;
    }
    try {
      setSubmitting(true);
      await api.post('/grants', {
        grant_id: grantId,
        project_id: selectedProject,
        proposal,
        budget_breakdown: budget,
        timeline,
        expected_impact: impact,
      });
      toast({ title: 'Application submitted', description: 'Your grant application has been submitted successfully.' });
      setTimeout(() => navigate(`/grants/${grantId}`), 1500);
    } catch (error: any) {
      toast({ title: 'Submission failed', description: error?.response?.data?.message || 'Please try again.', variant: 'destructive' });
    } finally {
      setSubmitting(false);
    }
  };

  return (
    <div className="min-h-screen flex flex-col items-center bg-gradient-to-br from-orange-50 to-white px-2 py-8 md:px-6 md:py-16">
      <Navbar />
      <Card className="w-full max-w-2xl shadow-xl border-0 rounded-3xl bg-white/90 animate-fade-in-up overflow-hidden">
        <CardHeader className="pt-10 pb-4 flex flex-col items-center bg-white/80 border-b border-gray-100">
          <CardTitle className="text-3xl font-bold text-gray-900 font-martian mb-1">Apply for Grant</CardTitle>
        </CardHeader>
        <CardContent className="pt-8 pb-4 px-6 bg-white/70">
          <form className="space-y-6" onSubmit={handleSubmit}>
            <div>
              <label className="block text-gray-700 font-inter mb-2">Select Project</label>
              <Select value={selectedProject} onValueChange={setSelectedProject} disabled={loading || projects.length === 0}>
                <SelectTrigger>
                  <SelectValue placeholder={loading ? 'Loading projects...' : 'Select your project'} />
                </SelectTrigger>
                <SelectContent>
                  {projects.map((project) => (
                    <SelectItem key={project.project_id} value={project.project_id}>{project.title}</SelectItem>
                  ))}
                </SelectContent>
              </Select>
              {projects.length === 0 && !loading && (
                <p className="text-sm text-gray-500 mt-2">You have no projects. <span className="text-amber-700 cursor-pointer underline" onClick={() => navigate('/projects/create')}>Add a project</span> first.</p>
              )}
            </div>
            <div>
              <label className="block text-gray-700 font-inter mb-2">Proposal</label>
              <Textarea value={proposal} onChange={e => setProposal(e.target.value)} rows={4} required className="font-inter" placeholder="Describe your project and why it deserves this grant..." />
            </div>
            <div>
              <label className="block text-gray-700 font-inter mb-2">Budget Breakdown</label>
              <Textarea value={budget} onChange={e => setBudget(e.target.value)} rows={3} required className="font-inter" placeholder="E.g. Development tools: $1000, Hosting: $500, Marketing: $1000" />
            </div>
            <div>
              <label className="block text-gray-700 font-inter mb-2">Timeline</label>
              <Input value={timeline} onChange={e => setTimeline(e.target.value)} required className="font-inter" placeholder="E.g. 6 months" />
            </div>
            <div>
              <label className="block text-gray-700 font-inter mb-2">Expected Impact</label>
              <Textarea value={impact} onChange={e => setImpact(e.target.value)} rows={3} required className="font-inter" placeholder="Describe the impact you expect to make..." />
            </div>
            <div className="flex justify-center mt-8">
              <Button type="submit" className="bg-amber-800 hover:bg-amber-900 text-white px-8 py-3 text-base font-medium rounded-full font-inter" disabled={submitting || loading || projects.length === 0}>
                {submitting ? 'Submitting...' : 'Submit Application'}
              </Button>
            </div>
          </form>
        </CardContent>
      </Card>
    </div>
  );
};

export default GrantApply;
</file>

<file path="src/pages/GrantDetail.tsx">
import React, { useEffect, useState } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Calendar, DollarSign, ArrowLeft, Users } from 'lucide-react';
import { api } from '@/lib/api';
import { toast } from '@/hooks/use-toast';
import Navbar from '../components/Navbar';

interface GrantDetail {
  grant_id: string;
  title: string;
  description: string;
  amount: number;
  category: string;
  status: 'open' | 'closed' | 'upcoming' | 'awarded';
  deadline: string;
  requirements: string[];
  sponsor: string;
  application_count: number;
  created_at: string;
}

const GrantDetailPage: React.FC = () => {
  const { grantId } = useParams<{ grantId: string }>();
  const [grant, setGrant] = useState<GrantDetail | null>(null);
  const [loading, setLoading] = useState(true);
  const navigate = useNavigate();
  const isLoggedIn = Boolean(localStorage.getItem('token'));

  useEffect(() => {
    fetchGrant();
    // eslint-disable-next-line
  }, [grantId]);

  const fetchGrant = async () => {
    try {
      setLoading(true);
      const response = await api.get(`/grants/${grantId}`);
      setGrant(response.data.data);
    } catch (error) {
      toast({
        title: 'Error',
        description: 'Failed to load grant details. Please try again.',
        variant: 'destructive',
      });
      navigate('/grants');
    } finally {
      setLoading(false);
    }
  };

  const formatDate = (dateString: string) => {
    return new Date(dateString).toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric',
    });
  };

  if (loading) {
    return <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-white">Loading grant details...</div>;
  }
  if (!grant) {
    return <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-white">Grant not found.</div>;
  }

  return (
    <div className="min-h-screen flex flex-col items-center bg-gradient-to-br from-orange-50 to-white px-2 py-8 md:px-6 md:py-16">
      <Navbar />
      <button
        onClick={() => navigate('/grants')}
        className="flex items-center gap-2 self-start mb-4 ml-2 px-4 py-2 rounded-full bg-white/80 hover:bg-orange-50 text-amber-800 font-medium shadow border border-amber-100 transition-colors"
      >
        <ArrowLeft className="w-5 h-5" />
        Back to Grants
      </button>
      <Card className="relative w-full max-w-2xl shadow-xl border-0 rounded-3xl bg-white/90 animate-fade-in-up overflow-hidden">
        <CardHeader className="pt-10 pb-4 flex flex-col items-center bg-white/80 border-b border-gray-100">
          <CardTitle className="text-3xl font-bold text-gray-900 font-martian mb-1 flex items-center gap-2">
            {grant.title}
          </CardTitle>
          <div className="flex flex-wrap gap-3 items-center mt-2 mb-2">
            <span className="flex items-center gap-1 text-amber-700 font-inter text-base"><DollarSign className="w-5 h-5" />₹{grant.amount.toLocaleString()}</span>
            <span className="flex items-center gap-1 text-gray-600 font-inter text-base"><Calendar className="w-5 h-5" />Deadline: {formatDate(grant.deadline)}</span>
            <span className={`px-3 py-1 rounded-full font-inter font-medium text-sm ${grant.status === 'open' ? 'bg-green-100 text-green-800' : grant.status === 'closed' ? 'bg-gray-100 text-gray-800' : grant.status === 'upcoming' ? 'bg-blue-100 text-blue-800' : 'bg-orange-100 text-orange-800'}`}>{grant.status.charAt(0).toUpperCase() + grant.status.slice(1)}</span>
          </div>
          <div className="flex flex-wrap gap-3 items-center mt-1">
            <span className="flex items-center gap-1 text-gray-500 font-inter text-sm"><Users className="w-4 h-4" />{grant.application_count} applications</span>
            <span className="text-gray-500 font-inter text-sm">Sponsored by <span className="font-semibold text-amber-700">{grant.sponsor}</span></span>
          </div>
        </CardHeader>
        <CardContent className="space-y-8 pt-8 pb-4 px-6 bg-white/70">
          <div>
            <CardDescription className="text-lg text-gray-700 font-inter mb-4">{grant.description}</CardDescription>
          </div>
          <div>
            <h3 className="text-xl font-semibold text-gray-900 font-martian mb-2">Requirements</h3>
            <ul className="list-disc pl-6 text-gray-700 font-inter">
              {grant.requirements && grant.requirements.length > 0 ? grant.requirements.map((req, idx) => (
                <li key={idx}>{req}</li>
              )) : <li>No specific requirements listed.</li>}
            </ul>
          </div>
          <div>
            <h3 className="text-xl font-semibold text-gray-900 font-martian mb-2">Category</h3>
            <span className="inline-block bg-orange-100 text-orange-800 px-4 py-1 rounded-full font-inter text-sm">{grant.category}</span>
          </div>
          {isLoggedIn && grant.status === 'open' && (
            <div className="flex justify-center mt-8">
              <Button className="bg-amber-800 hover:bg-amber-900 text-white px-8 py-3 text-base font-medium rounded-full font-inter" onClick={() => navigate(`/grants/${grant.grant_id}/apply`)}>
                Apply for this Grant
              </Button>
            </div>
          )}
        </CardContent>
      </Card>
    </div>
  );
};

export default GrantDetailPage;
</file>

<file path="src/pages/Grants.tsx">
import React, { useState, useEffect } from 'react';
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import { Search, Filter, Calendar, DollarSign } from 'lucide-react';
import { api } from '@/lib/api';
import { useNavigate } from 'react-router-dom';
import { toast } from '@/hooks/use-toast';
import Navbar from '../components/Navbar';

interface Grant {
  _id: string;
  title: string;
  summary: string;
  amount: number;
  deadline: string;
  status: 'open' | 'closed' | 'upcoming';
  category: string;
  createdAt: string;
  updatedAt: string;
}

const Grants: React.FC = () => {
  const [grants, setGrants] = useState<Grant[]>([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState('');
  const [statusFilter, setStatusFilter] = useState<string>('all');
  const [categoryFilter, setCategoryFilter] = useState<string>('all');
  const [sortBy, setSortBy] = useState<string>('deadline');
  const [currentPage, setCurrentPage] = useState(1);
  const [totalPages, setTotalPages] = useState(1);
  const navigate = useNavigate();
  const isLoggedIn = Boolean(localStorage.getItem('token'));

  useEffect(() => {
    fetchGrants();
  }, [currentPage, searchTerm, statusFilter, categoryFilter, sortBy]);

  const fetchGrants = async () => {
    try {
      setLoading(true);
      const params = new URLSearchParams({
        page: currentPage.toString(),
        limit: '12',
        ...(searchTerm && { search: searchTerm }),
        ...(statusFilter !== 'all' && { status: statusFilter }),
        ...(categoryFilter !== 'all' && { category: categoryFilter }),
        sortBy,
        sortOrder: 'asc',
      });
      const response = await api.get(`/grants?${params}`);
      setGrants(response.data.grants);
      setTotalPages(response.data.totalPages);
    } catch (error) {
      console.error('Error fetching grants:', error);
      toast({
        title: 'Error',
        description: 'Failed to load grants. Please try again.',
        variant: 'destructive',
      });
    } finally {
      setLoading(false);
    }
  };

  const getStatusColor = (status: string) => {
    switch (status) {
      case 'open': return 'bg-green-100 text-green-800';
      case 'closed': return 'bg-gray-100 text-gray-800';
      case 'upcoming': return 'bg-blue-100 text-blue-800';
      default: return 'bg-gray-100 text-gray-800';
    }
  };

  const formatDate = (dateString: string) => {
    return new Date(dateString).toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric',
    });
  };

  const handleViewGrant = (grantId: string) => {
    navigate(`/grants/${grantId}`);
  };

  return (
    <div className="min-h-screen bg-white">
      <Navbar />

      {/* Page Content */}
      <div className="px-2 sm:px-4 md:px-6 py-8 md:py-16">
        <div className="max-w-7xl mx-auto">
          {/* Header */}
          <div className="text-center mb-8 md:mb-12">
            <h1 className="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-light mb-4 md:mb-8 text-gray-900 leading-tight font-martian">
              Grants
            </h1>
            <p className="text-base sm:text-lg md:text-2xl text-gray-600 mb-6 md:mb-8 max-w-3xl mx-auto font-inter font-light">
              Discover funding opportunities to support your innovation journey.
            </p>
          </div>

          {/* Filters */}
          <div className="bg-gray-50 rounded-lg p-4 sm:p-6 mb-6 md:mb-8">
            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4">
              <div className="relative">
                <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4" />
                <Input
                  placeholder="Search grants..."
                  value={searchTerm}
                  onChange={(e) => setSearchTerm(e.target.value)}
                  className="pl-10"
                />
              </div>
              <Select value={statusFilter} onValueChange={setStatusFilter}>
                <SelectTrigger>
                  <SelectValue placeholder="Status" />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="all">All Status</SelectItem>
                  <SelectItem value="open">Open</SelectItem>
                  <SelectItem value="closed">Closed</SelectItem>
                  <SelectItem value="upcoming">Upcoming</SelectItem>
                </SelectContent>
              </Select>
              <Select value={categoryFilter} onValueChange={setCategoryFilter}>
                <SelectTrigger>
                  <SelectValue placeholder="Category" />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="all">All Categories</SelectItem>
                  <SelectItem value="tech">Tech</SelectItem>
                  <SelectItem value="entrepreneurship">Entrepreneurship</SelectItem>
                  <SelectItem value="research">Research</SelectItem>
                </SelectContent>
              </Select>
              <Select value={sortBy} onValueChange={setSortBy}>
                <SelectTrigger>
                  <SelectValue placeholder="Sort By" />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="deadline">Deadline</SelectItem>
                  <SelectItem value="amount">Amount</SelectItem>
                  <SelectItem value="createdAt">Newest</SelectItem>
                </SelectContent>
              </Select>
            </div>
          </div>

          {/* Grants Grid */}
          <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8">
            {loading ? (
              [...Array(6)].map((_, i) => (
                <Card key={i} className="h-56 sm:h-64 animate-pulse bg-white rounded-lg shadow-sm" />
              ))
            ) : grants.length === 0 ? (
              <div className="col-span-full text-center text-gray-500 font-inter text-lg">No grants found.</div>
            ) : (
              grants.map((grant) => (
                <Card key={grant._id} className="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer border-0">
                  <CardHeader className="pb-2">
                    <CardTitle className="text-2xl font-martian text-gray-900 mb-1">{grant.title}</CardTitle>
                    <CardDescription className="text-gray-500 font-inter mb-2">{grant.summary}</CardDescription>
                    <div className="flex flex-wrap gap-2 items-center text-sm mb-1">
                      <span className={`px-3 py-1 rounded-full font-inter font-medium ${getStatusColor(grant.status)}`}>{grant.status.charAt(0).toUpperCase() + grant.status.slice(1)}</span>
                      <span className="flex items-center gap-1 text-amber-700 font-inter"><DollarSign className="w-4 h-4" />₹{grant.amount.toLocaleString()}</span>
                      <span className="flex items-center gap-1 text-gray-600 font-inter"><Calendar className="w-4 h-4" />Deadline: {formatDate(grant.deadline)}</span>
                    </div>
                  </CardHeader>
                  <CardContent>
                    <Button variant="outline" className="w-full mt-2 font-inter" onClick={(e) => { e.stopPropagation(); handleViewGrant(grant._id); }}>
                      View Details
                    </Button>
                  </CardContent>
                </Card>
              ))
            )}
          </div>

          {/* Pagination */}
          <div className="flex flex-col sm:flex-row justify-center items-center mt-8 md:mt-12 gap-4">
            <Button
              variant="ghost"
              disabled={currentPage === 1}
              onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}
            >
              Previous
            </Button>
            <span className="mx-2 md:mx-4 text-gray-700 font-inter">Page {currentPage} of {totalPages}</span>
            <Button
              variant="ghost"
              disabled={currentPage === totalPages}
              onClick={() => setCurrentPage((p) => Math.min(totalPages, p + 1))}
            >
              Next
            </Button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Grants;
</file>

<file path="src/pages/Register.tsx">
import { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { Input } from '@/components/ui/input';
import { Button } from '@/components/ui/button';
import { registerUser } from '@/lib/api';
import { useToast } from '@/hooks/use-toast';
import { Select } from '@/components/ui/select';

const initialState = {
  name: '',
  username: '',
  email: '',
  password: '',
  bio: '',
  location: '',
  timezone: '',
  skills: [],
  interests: [],
  github: '',
  linkedin: '',
  twitter: '',
  portfolio_slug: '',
};

const TIMEZONE_OPTIONS = [
  '',
  'America/Los_Angeles',
  'America/New_York',
  'Europe/London',
  'Asia/Kolkata',
  'Asia/Singapore',
  'Australia/Sydney',
];

const LOCATION_OPTIONS = [
  '',
  'San Francisco, CA',
  'New York, NY',
  'London, UK',
  'Bangalore, India',
  'Delhi, India',
  'Mumbai, India',
  'Chennai, India',
  'Hyderabad, India',
  'Pune, India',
  'Kolkata, India',
  'Jaipur, India',
  'Noida, India',
  'Gurgaon, India',
  'Ahmedabad, India',
  'Bengaluru, India',
  'Chandigarh, India',
  'Coimbatore, India',
  'Cochin, India',
  'Singapore',
  'Sydney, Australia',
];

function TagInput({ value, onChange, placeholder }: { value: string[]; onChange: (tags: string[]) => void; placeholder: string }) {
  const [input, setInput] = useState('');

  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {
    if ((e.key === 'Enter' || e.key === ',') && input.trim()) {
      e.preventDefault();
      if (!value.includes(input.trim())) {
        onChange([...value, input.trim()]);
      }
      setInput('');
    } else if (e.key === 'Backspace' && !input && value.length) {
      onChange(value.slice(0, -1));
    }
  };

  return (
    <div className="flex flex-wrap items-center gap-2 border border-input rounded-md px-2 py-1 bg-background focus-within:ring-2 focus-within:ring-ring">
      {value.map((tag, idx) => (
        <span key={tag + idx} className="bg-orange-100 text-orange-700 px-2 py-1 rounded-full text-xs font-inter flex items-center gap-1">
          {tag}
          <button type="button" aria-label="Remove tag" className="ml-1 text-orange-500 hover:text-orange-700" onClick={() => onChange(value.filter((_, i) => i !== idx))}>
            ×
          </button>
        </span>
      ))}
      <input
        className="flex-1 min-w-[120px] border-none outline-none bg-transparent py-1 font-inter text-sm"
        value={input}
        onChange={e => setInput(e.target.value)}
        onKeyDown={handleKeyDown}
        placeholder={placeholder}
      />
    </div>
  );
}

const Register = () => {
  const [form, setForm] = useState(initialState);
  const [loading, setLoading] = useState(false);
  const { toast } = useToast();
  const navigate = useNavigate();

  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {
    setForm({ ...form, [e.target.name]: e.target.value });
  };

  const handleTagChange = (field: 'skills' | 'interests', tags: string[]) => {
    setForm({ ...form, [field]: tags });
  };

  const handleSelectChange = (field: 'location' | 'timezone', value: string) => {
    setForm({ ...form, [field]: value });
  };

  const handleSubmit = async (e: React.FormEvent) => {
    e.preventDefault();
    setLoading(true);
    try {
      const payload = {
        ...form,
        skills: form.skills,
        interests: form.interests,
        social_links: {
          github: form.github,
          linkedin: form.linkedin,
          twitter: form.twitter,
        },
      };
      await registerUser(payload);
      toast({ title: 'Registration successful', description: 'You can now sign in to your account.' });
      setTimeout(() => navigate('/login'), 800);
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    } catch (err: any) {
      toast({ title: 'Registration failed', description: err?.response?.data?.message || 'Please check your details and try again.', variant: 'destructive' });
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-white px-2 py-8 md:px-6 md:py-16">
      <div className="relative w-full max-w-3xl">
        {/* Butterfly Accent */}
        <img
          src="/butterfly.png"
          alt="SheBuilds Butterfly"
          className="absolute -top-10 left-1/2 -translate-x-1/2 w-16 h-16 opacity-80 animate-fade-in-up"
          style={{ zIndex: 2 }}
        />
        <div className="bg-white rounded-2xl shadow-2xl border border-gray-100 p-6 md:p-12 pt-16 animate-fade-in-up transition-all duration-700">
          <h1 className="text-4xl font-light text-gray-900 mb-2 font-martian text-center">Create Your SheBuilds Account</h1>
          <p className="text-base text-gray-600 mb-10 font-inter text-center">Join a community of empowered women in tech. Start your journey today!</p>
          <form onSubmit={handleSubmit} className="space-y-8">
            <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
              {/* Left column */}
              <div className="space-y-6">
                <div>
                  <label htmlFor="name" className="block text-sm font-medium text-gray-700 font-inter mb-1">Full Name</label>
                  <Input id="name" name="name" value={form.name} onChange={handleChange} required className="font-inter" autoComplete="name" placeholder="e.g. Jane Doe" />
                </div>
                <div>
                  <label htmlFor="username" className="block text-sm font-medium text-gray-700 font-inter mb-1">Username</label>
                  <Input id="username" name="username" value={form.username} onChange={handleChange} required className="font-inter" autoComplete="username" placeholder="e.g. janedoe" />
                </div>
                <div>
                  <label htmlFor="email" className="block text-sm font-medium text-gray-700 font-inter mb-1">Email</label>
                  <Input id="email" name="email" type="email" value={form.email} onChange={handleChange} required className="font-inter" autoComplete="email" placeholder="e.g. jane@example.com" />
                </div>
                <div>
                  <label htmlFor="password" className="block text-sm font-medium text-gray-700 font-inter mb-1">Password</label>
                  <Input id="password" name="password" type="password" value={form.password} onChange={handleChange} required className="font-inter" autoComplete="new-password" placeholder="At least 6 characters" />
                </div>
                <div>
                  <label htmlFor="portfolio_slug" className="block text-sm font-medium text-gray-700 font-inter mb-1">Portfolio Slug</label>
                  <Input id="portfolio_slug" name="portfolio_slug" value={form.portfolio_slug} onChange={handleChange} required className="font-inter" placeholder="e.g. jane-doe-portfolio" />
                </div>
                <div>
                  <label htmlFor="bio" className="block text-sm font-medium text-gray-700 font-inter mb-1 mt-2">Short Bio</label>
                  <textarea id="bio" name="bio" value={form.bio} onChange={handleChange} rows={3} className="font-inter w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm" placeholder="Tell us about yourself, your passions, or your journey..." />
                </div>
              </div>
              {/* Right column */}
              <div className="space-y-6">
                <div>
                  <label htmlFor="location" className="block text-sm font-medium text-gray-700 font-inter mb-1">Location</label>
                  <select
                    id="location"
                    name="location"
                    value={form.location}
                    onChange={e => handleSelectChange('location', e.target.value)}
                    className="font-inter w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"
                    required
                  >
                    {LOCATION_OPTIONS.map(loc => <option key={loc} value={loc}>{loc || 'Select location'}</option>)}
                  </select>
                </div>
                <div>
                  <label htmlFor="timezone" className="block text-sm font-medium text-gray-700 font-inter mb-1">Timezone</label>
                  <select
                    id="timezone"
                    name="timezone"
                    value={form.timezone}
                    onChange={e => handleSelectChange('timezone', e.target.value)}
                    className="font-inter w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm"
                    required
                  >
                    {TIMEZONE_OPTIONS.map(tz => <option key={tz} value={tz}>{tz || 'Select timezone'}</option>)}
                  </select>
                </div>
                <div>
                  <label htmlFor="skills" className="block text-sm font-medium text-gray-700 font-inter mb-1">Skills <span className="text-xs text-gray-400">(press Enter or comma to add)</span></label>
                  <TagInput value={form.skills} onChange={tags => handleTagChange('skills', tags)} placeholder="e.g. JavaScript, React, Node.js" />
                </div>
                <div>
                  <label htmlFor="interests" className="block text-sm font-medium text-gray-700 font-inter mb-1">Interests <span className="text-xs text-gray-400">(press Enter or comma to add)</span></label>
                  <TagInput value={form.interests} onChange={tags => handleTagChange('interests', tags)} placeholder="e.g. Web Development, AI/ML" />
                </div>
                <div>
                  <label htmlFor="github" className="block text-sm font-medium text-gray-700 font-inter mb-1">GitHub</label>
                  <Input id="github" name="github" value={form.github} onChange={handleChange} className="font-inter" placeholder="e.g. https://github.com/janedoe" />
                </div>
                <div>
                  <label htmlFor="linkedin" className="block text-sm font-medium text-gray-700 font-inter mb-1">LinkedIn</label>
                  <Input id="linkedin" name="linkedin" value={form.linkedin} onChange={handleChange} className="font-inter" placeholder="e.g. https://linkedin.com/in/janedoe" />
                </div>
                <div>
                  <label htmlFor="twitter" className="block text-sm font-medium text-gray-700 font-inter mb-1">Twitter</label>
                  <Input id="twitter" name="twitter" value={form.twitter} onChange={handleChange} className="font-inter" placeholder="e.g. https://twitter.com/janedoe" />
                </div>
              </div>
            </div>
            <Button type="submit" className="w-full bg-amber-800 hover:bg-amber-900 text-white font-inter text-base rounded-full mt-4 transition-all duration-300" disabled={loading}>
              {loading ? 'Creating account...' : 'Create Account'}
            </Button>
          </form>
          <div className="mt-8 text-center text-sm text-gray-600 font-inter">
            Already have an account?{' '}
            <a href="/login" className="text-orange-600 hover:underline font-medium transition-all duration-300">Sign In</a>
          </div>
        </div>
      </div>
      {/* Fade-in animation */}
      <style>{`
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.8s cubic-bezier(0.4,0,0.2,1) both;
        }
      `}</style>
    </div>
  );
};

export default Register;
</file>

<file path="src/pages/Search.tsx">
import React, { useEffect, useState } from 'react';
import Navbar from '../components/Navbar';
import { Input } from '@/components/ui/input';
import { Tabs, TabsList, TabsTrigger, TabsContent } from '@/components/ui/tabs';
import { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';
import { useNavigate, useLocation } from 'react-router-dom';
import { api } from '@/lib/api';
import { toast } from '@/hooks/use-toast';
import { Search as SearchIcon, User, Layers, Gift, Target } from 'lucide-react';

function useQuery() {
  return new URLSearchParams(useLocation().search);
}

const SearchPage: React.FC = () => {
  const query = useQuery();
  const navigate = useNavigate();
  const [search, setSearch] = useState(query.get('q') || '');
  const [tab, setTab] = useState('users');
  const [loading, setLoading] = useState(false);
  const [users, setUsers] = useState<any[]>([]);
  const [projects, setProjects] = useState<any[]>([]);
  const [grants, setGrants] = useState<any[]>([]);
  const [challenges, setChallenges] = useState<any[]>([]);

  useEffect(() => {
    if (search) fetchAll();
    // eslint-disable-next-line
  }, [search]);

  const fetchAll = async () => {
    setLoading(true);
    try {
      const [userRes, projectRes, grantRes, challengeRes] = await Promise.all([
        api.get(`/search/users?q=${encodeURIComponent(search)}`),
        api.get(`/search/projects?q=${encodeURIComponent(search)}`),
        api.get(`/grants?search=${encodeURIComponent(search)}`),
        api.get(`/challenges?search=${encodeURIComponent(search)}`),
      ]);
      setUsers(userRes.data.users || []);
      setProjects(projectRes.data.projects || []);
      setGrants(grantRes.data.grants || []);
      setChallenges(challengeRes.data.challenges || []);
    } catch (error) {
      toast({ title: 'Error', description: 'Failed to fetch search results.', variant: 'destructive' });
    } finally {
      setLoading(false);
    }
  };

  const handleSearch = (e: React.FormEvent) => {
    e.preventDefault();
    navigate(`/search?q=${encodeURIComponent(search)}`);
  };

  return (
    <div className="min-h-screen bg-white">
      <Navbar />
      <div className="max-w-5xl mx-auto px-2 sm:px-4 md:px-6 py-8 md:py-16">
        <form onSubmit={handleSearch} className="flex items-center gap-2 mb-8">
          <Input
            value={search}
            onChange={e => setSearch(e.target.value)}
            placeholder="Search users, projects, grants, challenges..."
            className="w-full max-w-xl font-inter"
          />
          <button type="submit" className="bg-amber-800 hover:bg-amber-900 text-white rounded-full p-3 ml-2">
            <SearchIcon className="w-5 h-5" />
          </button>
        </form>
        <Tabs value={tab} onValueChange={setTab} className="w-full">
          <TabsList className="mb-6 flex flex-wrap gap-2">
            <TabsTrigger value="users"><User className="w-4 h-4 mr-1" />Users</TabsTrigger>
            <TabsTrigger value="projects"><Layers className="w-4 h-4 mr-1" />Projects</TabsTrigger>
            <TabsTrigger value="grants"><Gift className="w-4 h-4 mr-1" />Grants</TabsTrigger>
            <TabsTrigger value="challenges"><Target className="w-4 h-4 mr-1" />Challenges</TabsTrigger>
          </TabsList>
          <TabsContent value="users">
            {loading ? <div>Loading...</div> : users.length === 0 ? <div className="text-gray-500">No users found.</div> : (
              <div className="grid grid-cols-1 sm:grid-cols-2 gap-6">
                {users.map(user => (
                  <Card key={user.user_id} className="hover:shadow-lg cursor-pointer" onClick={() => navigate(`/users/${user.username}`)}>
                    <CardHeader>
                      <CardTitle className="text-lg font-martian">{user.name}</CardTitle>
                      <CardDescription>@{user.username}</CardDescription>
                    </CardHeader>
                    <CardContent>
                      <div className="text-gray-600 font-inter mb-2">{user.bio}</div>
                      <div className="text-xs text-gray-500 font-inter">Skills: {user.skills?.join(', ')}</div>
                      <div className="text-xs text-gray-500 font-inter">Location: {user.location}</div>
                    </CardContent>
                  </Card>
                ))}
              </div>
            )}
          </TabsContent>
          <TabsContent value="projects">
            {loading ? <div>Loading...</div> : projects.length === 0 ? <div className="text-gray-500">No projects found.</div> : (
              <div className="grid grid-cols-1 sm:grid-cols-2 gap-6">
                {projects.map(project => (
                  <Card key={project.project_id} className="hover:shadow-lg cursor-pointer" onClick={() => navigate(`/projects/${project.project_id}`)}>
                    <CardHeader>
                      <CardTitle className="text-lg font-martian">{project.title}</CardTitle>
                      <CardDescription>{project.category}</CardDescription>
                    </CardHeader>
                    <CardContent>
                      <div className="text-gray-600 font-inter mb-2">{project.description}</div>
                      <div className="text-xs text-gray-500 font-inter">Tech: {project.technologies?.join(', ')}</div>
                    </CardContent>
                  </Card>
                ))}
              </div>
            )}
          </TabsContent>
          <TabsContent value="grants">
            {loading ? <div>Loading...</div> : grants.length === 0 ? <div className="text-gray-500">No grants found.</div> : (
              <div className="grid grid-cols-1 sm:grid-cols-2 gap-6">
                {grants.map(grant => (
                  <Card key={grant.grant_id} className="hover:shadow-lg cursor-pointer" onClick={() => navigate(`/grants/${grant.grant_id}`)}>
                    <CardHeader>
                      <CardTitle className="text-lg font-martian">{grant.title}</CardTitle>
                      <CardDescription>{grant.category}</CardDescription>
                    </CardHeader>
                    <CardContent>
                      <div className="text-gray-600 font-inter mb-2">{grant.description}</div>
                      <div className="text-xs text-gray-500 font-inter">Amount: ₹{grant.amount?.toLocaleString()}</div>
                    </CardContent>
                  </Card>
                ))}
              </div>
            )}
          </TabsContent>
          <TabsContent value="challenges">
            {loading ? <div>Loading...</div> : challenges.length === 0 ? <div className="text-gray-500">No challenges found.</div> : (
              <div className="grid grid-cols-1 sm:grid-cols-2 gap-6">
                {challenges.map(challenge => (
                  <Card key={challenge.challenge_id} className="hover:shadow-lg cursor-pointer" onClick={() => navigate(`/challenges/${challenge.challenge_id}`)}>
                    <CardHeader>
                      <CardTitle className="text-lg font-martian">{challenge.title}</CardTitle>
                      <CardDescription>{challenge.category}</CardDescription>
                    </CardHeader>
                    <CardContent>
                      <div className="text-gray-600 font-inter mb-2">{challenge.description}</div>
                      <div className="text-xs text-gray-500 font-inter">Prize: ₹{challenge.prize_pool?.toLocaleString()}</div>
                    </CardContent>
                  </Card>
                ))}
              </div>
            )}
          </TabsContent>
        </Tabs>
      </div>
    </div>
  );
};

export default SearchPage;
</file>

<file path="vite.config.ts">
import { defineConfig } from "vite";
import react from "@vitejs/plugin-react-swc";
import path from "path";
import { componentTagger } from "lovable-tagger";

// https://vitejs.dev/config/
export default defineConfig(({ mode }) => ({
  server: {
    host: "::",
    port: 8080,
    proxy: {
      '/api': 'http://localhost:5000'
    }
  },
  plugins: [
    react(),
    mode === 'development' &&
    componentTagger(),
  ].filter(Boolean),
  resolve: {
    alias: {
      "@": path.resolve(__dirname, "./src"),
    },
  },
}));
</file>

<file path=".cursor/rules/project-structure.mdc">
# SheBuilds Builder's Arena Project Structure

This is a full-stack platform for the SheBuilds Builder's Arena, consisting of a React frontend and Node.js backend.

## Frontend (React + TypeScript + Vite)
- **Entry Point**: [src/main.tsx](mdc:src/main.tsx) - Main React application entry
- **App Component**: [src/App.tsx](mdc:src/App.tsx) - Root component with routing
- **Components**: [src/components/](mdc:src/components/) - Reusable UI components
  - [Hero.tsx](mdc:src/components/Hero.tsx) - Landing page hero section
  - [About.tsx](mdc:src/components/About.tsx) - About section
  - [Ecosystem.tsx](mdc:src/components/Ecosystem.tsx) - Platform ecosystem
  - [Events.tsx](mdc:src/components/Events.tsx) - Events and challenges
  - [Impact.tsx](mdc:src/components/Impact.tsx) - Impact metrics
  - [Partners.tsx](mdc:src/components/Partners.tsx) - Partner organizations
  - [Sponsors.tsx](mdc:src/components/Sponsors.tsx) - Sponsors section
  - [CallToAction.tsx](mdc:src/components/CallToAction.tsx) - CTA components
  - [Footer.tsx](mdc:src/components/Footer.tsx) - Site footer
  - [Values.tsx](mdc:src/components/Values.tsx) - Core values
- **UI Components**: [src/components/ui/](mdc:src/components/ui/) - shadcn/ui components
- **Pages**: [src/pages/](mdc:src/pages/) - Route components
- **Hooks**: [src/hooks/](mdc:src/hooks/) - Custom React hooks
- **Styling**: [tailwind.config.ts](mdc:tailwind.config.ts) - Tailwind CSS configuration

## Backend (Node.js + Express + TypeScript)
- **Entry Point**: [server/src/index.ts](mdc:server/src/index.ts) - Server startup
- **Models**: [server/src/models/](mdc:server/src/models/) - Mongoose schemas
  - [User.ts](mdc:server/src/models/User.ts) - User model with authentication
  - [Project.ts](mdc:server/src/models/Project.ts) - Project submissions
  - [Grant.ts](mdc:server/src/models/Grant.ts) - Grant applications
  - [Challenge.ts](mdc:server/src/models/Challenge.ts) - Challenge system
  - [ProgressLog.ts](mdc:server/src/models/ProgressLog.ts) - Progress tracking
- **Controllers**: [server/src/controllers/](mdc:server/src/controllers/) - Business logic
- **Routes**: [server/src/routes/](mdc:server/src/routes/) - API endpoints
- **Middleware**: [server/src/middleware/](mdc:server/src/middleware/) - Auth and validation
- **Services**: [server/src/services/](mdc:server/src/services/) - Email and file upload
- **Config**: [server/src/config/](mdc:server/src/config/) - Database and environment setup

## Key Features
- User authentication and profiles
- Project submission and management
- Grant application system
- Challenge participation
- Progress tracking and analytics
- File uploads (Cloudinary)
- Email notifications
- Search and filtering
</file>

<file path="API_DOCUMENTATION.md">
# SheBuilds Builder's Arena API Documentation

## Base URL
```
http://localhost:5000/api
```

## Authentication
All protected endpoints require a JWT token in the Authorization header:
```
Authorization: Bearer <jwt_token>
```

---

## Authentication & User Endpoints

### Register User
**POST** `/auth/register` *(public)*

### Login User
**POST** `/auth/login` *(public)*

### Get Current User Profile
**GET** `/auth/me` *(protected)*

### Update User Profile
**PUT** `/auth/profile` *(protected)*

### Delete User Profile
**DELETE** `/auth/profile` *(protected)*

### Get User by Portfolio Slug
**GET** `/auth/user/:slug` *(public)*

### Admin: List All Users
**GET** `/auth/admin/users` *(admin)*

### Admin: Update User
**PUT** `/auth/admin/users/:id` *(admin)*

### Admin: Delete User
**DELETE** `/auth/admin/users/:id` *(admin)*

---

## Profile Endpoints

### Get Full Public Profile
**GET** `/profile/:username` *(public)*

### Setup or Update Profile
**POST** `/profile/setup` *(protected)*

---

## Announcement Endpoints

### List Announcements
**GET** `/announcement/` *(public)*

### Create Announcement
**POST** `/announcement/` *(admin)*

### Delete Announcement
**DELETE** `/announcement/:id` *(admin)*

---

## Challenge Endpoints

### List Challenges
**GET** `/challenges` *(public)*

### Get Challenge Details
**GET** `/challenges/:id` *(public)*

### Get User's Challenges
**GET** `/challenges/user/my-challenges` *(protected)*

### Register for Challenge
**POST** `/challenges/:challengeId/register` *(protected)*

### Submit Project to Challenge
**POST** `/challenges/:challengeId/submit` *(protected)*

### Admin: Create Challenge
**POST** `/challenges` *(admin)*

### Admin: Update Challenge
**PUT** `/challenges/:id` *(admin)*

### Admin: Set Challenge Winners
**PUT** `/challenges/:id/winners` *(admin)*

### Admin: Delete Challenge
**DELETE** `/challenges/:id` *(admin)*

---

## Grant Endpoints

### Apply for Grant
**POST** `/grants/apply` *(protected)*

### Get User's Grants
**GET** `/grants/my-grants` *(protected)*

### Get Grant by ID
**GET** `/grants/:id` *(protected)*

### Admin: List All Grants
**GET** `/grants/` *(admin)*

### Admin: Update Grant Status
**PUT** `/grants/:id/status` *(admin)*

### Admin: Delete Grant
**DELETE** `/grants/:id` *(admin)*

---

## Project Endpoints

### List All Projects
**GET** `/projects` *(public)*

### Get Project by ID
**GET** `/projects/:id` *(public)*

### Get Projects by User
**GET** `/projects/user/:userId` *(public)*

### Create Project
**POST** `/projects` *(protected)*

### Update Project
**PUT** `/projects/:id` *(protected)*

### Delete Project
**DELETE** `/projects/:id` *(protected)*

---

## Progress Log Endpoints

### Get Recent Progress Logs
**GET** `/progress/recent` *(public)*

### Get Progress Logs for a Project
**GET** `/progress/project/:projectId` *(public)*

### Get Progress Log by ID
**GET** `/progress/:id` *(public)*

### Get User's Progress Logs
**GET** `/progress/user/my-logs` *(protected)*

### Create Progress Log
**POST** `/progress` *(protected)*

### Update Progress Log
**PUT** `/progress/:id` *(protected)*

### Delete Progress Log
**DELETE** `/progress/:id` *(protected)*

---

## Upload Endpoints

### Upload Profile Picture
**POST** `/upload/profile-picture` *(protected)*

### Upload Cover Image
**POST** `/upload/cover-image` *(protected)*

### Upload Project Media
**POST** `/upload/project-media` *(protected)*

### Upload Progress Media
**POST** `/upload/progress-media` *(protected)*

### Delete Uploaded File
**DELETE** `/upload/:publicId` *(protected)*

---

## Password Reset Endpoints

### Request Password Reset
**POST** `/password-reset/request` *(public)*

### Reset Password
**POST** `/password-reset/reset` *(public)*

### Verify Reset Token
**GET** `/password-reset/verify/:token` *(public)*

---

## Search & Analytics Endpoints

### Search Users
**GET** `/search/users` *(public)*

### Search Projects
**GET** `/search/projects` *(public)*

### Get Popular Skills
**GET** `/search/skills/popular` *(public)*

### Get Popular Tech Stack
**GET** `/search/tech-stack/popular` *(public)*

### Get Analytics
**GET** `/search/analytics` *(public)*

---

## Health Check

### API Health Check
**GET** `/health` *(public)*

---

## Notes
- *(protected)* endpoints require a valid JWT token in the Authorization header.
- *(admin)* endpoints require admin privileges.
- *(public)* endpoints are accessible without authentication.

---

## Error Responses

### Validation Error
```
</file>

<file path="package.json">
{
  "name": "vite_react_shadcn_ts",
  "private": true,
  "version": "0.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "build:dev": "vite build --mode development",
    "lint": "eslint .",
    "preview": "vite preview"
  },
  "dependencies": {
    "@hookform/resolvers": "^3.9.0",
    "@radix-ui/react-accordion": "^1.2.0",
    "@radix-ui/react-alert-dialog": "^1.1.1",
    "@radix-ui/react-aspect-ratio": "^1.1.0",
    "@radix-ui/react-avatar": "^1.1.0",
    "@radix-ui/react-checkbox": "^1.1.1",
    "@radix-ui/react-collapsible": "^1.1.0",
    "@radix-ui/react-context-menu": "^2.2.1",
    "@radix-ui/react-dialog": "^1.1.2",
    "@radix-ui/react-dropdown-menu": "^2.1.1",
    "@radix-ui/react-hover-card": "^1.1.1",
    "@radix-ui/react-label": "^2.1.0",
    "@radix-ui/react-menubar": "^1.1.1",
    "@radix-ui/react-navigation-menu": "^1.2.0",
    "@radix-ui/react-popover": "^1.1.1",
    "@radix-ui/react-progress": "^1.1.0",
    "@radix-ui/react-radio-group": "^1.2.0",
    "@radix-ui/react-scroll-area": "^1.1.0",
    "@radix-ui/react-select": "^2.1.1",
    "@radix-ui/react-separator": "^1.1.0",
    "@radix-ui/react-slider": "^1.2.0",
    "@radix-ui/react-slot": "^1.1.0",
    "@radix-ui/react-switch": "^1.1.0",
    "@radix-ui/react-tabs": "^1.1.0",
    "@radix-ui/react-toast": "^1.2.1",
    "@radix-ui/react-toggle": "^1.1.0",
    "@radix-ui/react-toggle-group": "^1.1.0",
    "@radix-ui/react-tooltip": "^1.1.4",
    "@tanstack/react-query": "^5.56.2",
    "axios": "^1.10.0",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "cmdk": "^1.0.0",
    "date-fns": "^3.6.0",
    "embla-carousel-react": "^8.3.0",
    "framer-motion": "^12.23.6",
    "input-otp": "^1.2.4",
    "lucide-react": "^0.462.0",
    "next-themes": "^0.3.0",
    "react": "^18.3.1",
    "react-day-picker": "^8.10.1",
    "react-dom": "^18.3.1",
    "react-hook-form": "^7.53.0",
    "react-resizable-panels": "^2.1.3",
    "react-router-dom": "^6.26.2",
    "recharts": "^2.12.7",
    "sonner": "^1.5.0",
    "tailwind-merge": "^2.5.2",
    "tailwindcss-animate": "^1.0.7",
    "vaul": "^0.9.3",
    "zod": "^3.23.8"
  },
  "devDependencies": {
    "@eslint/js": "^9.9.0",
    "@tailwindcss/typography": "^0.5.15",
    "@types/node": "^22.5.5",
    "@types/react": "^18.3.3",
    "@types/react-dom": "^18.3.0",
    "@vitejs/plugin-react-swc": "^3.5.0",
    "autoprefixer": "^10.4.20",
    "eslint": "^9.9.0",
    "eslint-plugin-react-hooks": "^5.1.0-rc.0",
    "eslint-plugin-react-refresh": "^0.4.9",
    "globals": "^15.9.0",
    "lovable-tagger": "^1.1.7",
    "postcss": "^8.4.47",
    "tailwindcss": "^3.4.11",
    "typescript": "^5.5.3",
    "typescript-eslint": "^8.0.1",
    "vite": "^5.4.1"
  }
}
</file>

<file path="server/src/routes/auth.ts">
import { Router } from 'express';
import { register, login, getCurrentUser, updateProfile, deleteProfile, getUserBySlug, adminListUsers, adminUpdateUser, adminDeleteUser } from '../controllers/authController';
import { auth, adminAuth } from '../middleware/auth';
import { validateUserRegistration } from '../middleware/validation';

const router = Router();

// Public routes
router.post('/register', validateUserRegistration, register);
router.post('/login', login);
router.get('/user/:slug', getUserBySlug);

// Protected routes
router.get('/me', auth, getCurrentUser);
router.put('/profile', auth, updateProfile);
router.delete('/profile', auth, deleteProfile);

// Admin routes
router.get('/admin/users', adminAuth, adminListUsers);
router.put('/admin/users/:id', adminAuth, adminUpdateUser);
router.delete('/admin/users/:id', adminAuth, adminDeleteUser);

export default router;
</file>

<file path="src/components/About.tsx">
import React, { useEffect, useRef, useState } from 'react';

const About = () => {
  const [isVisible, setIsVisible] = useState(false);
  const [activeCard, setActiveCard] = useState(0);
  const sectionRef = useRef(null);

  useEffect(() => {
    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          setIsVisible(true);
        }
      },
      { threshold: 0.1 }
    );

    if (sectionRef.current) {
      observer.observe(sectionRef.current);
    }

    return () => {
      if (sectionRef.current) {
        observer.unobserve(sectionRef.current);
      }
    };
  }, []);

  // Rotating testimonials
  useEffect(() => {
    const interval = setInterval(() => {
      setActiveCard(prev => (prev + 1) % 3);
    }, 3000);
    return () => clearInterval(interval);
  }, []);

  const floatingElements = Array.from({ length: 6 }, (_, i) => ({
    id: i,
    size: Math.random() * 4 + 2,
    left: Math.random() * 100,
    duration: Math.random() * 10 + 15,
    delay: Math.random() * 5
  }));

  return (
    <section ref={sectionRef} className="py-20 px-6 bg-gray-50 relative overflow-hidden">
      {/* Floating Background Elements */}
      {floatingElements.map((element) => (
        <div
          key={element.id}
          className="absolute bg-orange-200 rounded-full opacity-20 animate-float"
          style={{
            width: `${element.size}px`,
            height: `${element.size}px`,
            left: `${element.left}%`,
            animationDuration: `${element.duration}s`,
            animationDelay: `${element.delay}s`,
          }}
        />
      ))}

      <div className="max-w-6xl mx-auto relative z-10">
        {/* Header */}
        <div className="text-center mb-20">
          <p className={`text-sm text-gray-500 mb-4 font-inter transition-all duration-1000 ${
            isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'
          }`}>
            Why SheBuilds
          </p>
          <h2 className={`text-3xl md:text-4xl font-light text-gray-900 mb-2 font-martian transition-all duration-1000 delay-200 ${
            isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'
          }`}>
            Turn representation into <span className="animate-pulse-glow">leadership</span>.
          </h2>
          <p className={`text-3xl md:text-4xl font-light text-gray-500 font-martian transition-all duration-1000 delay-300 ${
            isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'
          }`}>
            Build an action-oriented <span className="animate-pulse-glow">sisterhood</span>.
          </p>
        </div>

        {/* Two Column Features */}
        <div className="grid md:grid-cols-2 gap-16 mb-20">
          {/* Left Column - Upskilling & Innovation */}
          <div className={`transition-all duration-1000 delay-400 ${
            isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'
          }`}>
            <h3 className="text-2xl font-medium text-gray-900 mb-4 font-martian hover:text-orange-600 transition-colors duration-300">
              Upskilling & Innovation
            </h3>
            <p className="text-gray-600 mb-8 font-inter leading-relaxed">
              Hands-on learning programs focused on emerging tech like AI, Blockchain, XR, and entrepreneurial skills. 
              Our Code & Challenge hackathon series has empowered <span className="text-orange-500 animate-pulse-orange">7,000+</span> participants to build real-world solutions.
            </p>

            {/* User testimonials with rotation */}
            <div className="space-y-6">
              <div className={`flex items-start space-x-3 transition-all duration-500 transform ${
                activeCard === 0 ? 'opacity-100 translate-x-0' : 'opacity-70 translate-x-2'
              }`}>
                <div className="w-10 h-10 bg-gradient-to-br from-gray-300 to-gray-400 rounded-full flex-shrink-0 animate-bounce-subtle"></div>
                <div className="flex-1">
                  <p className="text-sm text-gray-600 font-inter mb-1 hover:text-gray-800 transition-colors duration-200">
                    "SheBuilds' community helped me gain clarity and grow with support. The mentorship is invaluable."
                  </p>
                  <p className="text-xs text-gray-400 font-inter">Bhavya Sachdeva, Signoz</p>
                </div>
              </div>

              <div className={`flex items-start space-x-3 transition-all duration-500 transform ${
                activeCard === 1 ? 'opacity-100 translate-x-0' : 'opacity-70 translate-x-2'
              }`}>
                <div className="w-10 h-10 bg-gradient-to-br from-red-400 to-red-500 rounded-full flex-shrink-0 animate-bounce-subtle" style={{ animationDelay: '0.5s' }}></div>
                <div className="flex-1">
                  <p className="text-sm text-gray-600 font-inter mb-1 hover:text-gray-800 transition-colors duration-200">
                    "The Code & Connect sessions brought me closer to industry professionals and real-world applications."
                  </p>
                  <p className="text-xs text-gray-400 font-inter">Akshita Gupta, Intel</p>
                </div>
              </div>

              <div className={`flex items-start space-x-3 transition-all duration-500 transform ${
                activeCard === 2 ? 'opacity-100 translate-x-0' : 'opacity-70 translate-x-2'
              }`}>
                <div className="w-10 h-10 bg-gradient-to-br from-orange-400 to-orange-500 rounded-full flex-shrink-0 animate-bounce-subtle" style={{ animationDelay: '1s' }}></div>
                <div className="flex-1">
                  <p className="text-sm text-gray-600 font-inter mb-1 hover:text-gray-800 transition-colors duration-200">
                    "SheBuilds gave me the confidence to pursue my startup dreams with a supportive community."
                  </p>
                  <p className="text-xs text-gray-400 font-inter">Pooja Gera, Palo Alto Networks</p>
                </div>
              </div>
            </div>
          </div>

          {/* Right Column - Funding & Support */}
          <div className={`transition-all duration-1000 delay-500 ${
            isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'
          }`}>
            <h3 className="text-2xl font-medium text-gray-900 mb-4 font-martian hover:text-orange-600 transition-colors duration-300">
              Funding & Support
            </h3>
            <p className="text-gray-600 mb-8 font-inter leading-relaxed">
              We fund and showcase innovative products built by women, providing micro-grants, pitch opportunities, and fundraising support to help turn ideas into ventures.
            </p>

            {/* Impact stats with animations */}
            <div className="bg-white rounded-lg p-6 shadow-sm hover:shadow-lg transition-all duration-300 border border-gray-100 hover:border-orange-200">
              <div className="space-y-4">
                <div className="flex items-center justify-between group">
                  <span className="text-sm text-gray-600 font-inter group-hover:text-gray-800 transition-colors duration-200">Projects Built</span>
                  <span className="text-xs text-orange-500 font-inter animate-pulse-orange">300+</span>
                </div>
                
                <div className="border-t pt-4">
                  <div className="flex items-center justify-between">
                    <span className="text-sm text-gray-600 font-inter">Community Size</span>
                    <span className="text-xs text-orange-500 font-inter animate-pulse-orange">10,000+</span>
                  </div>
                  <div className="flex items-center justify-between mt-2">
                    <span className="text-xs text-gray-400 font-inter">First-Time Builders</span>
                    <span className="text-xs text-orange-500 font-inter">65%</span>
                  </div>
                </div>
                
                <div className="border-t pt-4">
                  <div className="flex items-center justify-between">
                    <span className="text-sm text-gray-600 font-inter">Grants Disbursed</span>
                    <span className="text-xs text-orange-500 font-inter animate-pulse-orange">₹5L+</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        {/* What Makes Us Unique Section */}
        <div className={`text-center mb-20 transition-all duration-1000 delay-600 ${
          isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'
        }`}>
          <h3 className="text-2xl font-medium text-gray-900 mb-4 font-martian hover:text-orange-600 transition-colors duration-300">
            What Makes SheBuilds Unique?
          </h3>
          <p className="text-gray-600 max-w-2xl mx-auto font-inter leading-relaxed">
            We raise voices and break silence with bold, unfiltered discussions around women-specific challenges in tech. 
            We actively support women-led businesses and fund innovative products built by women.
          </p>
        </div>

        {/* Bottom Features Grid */}
        <div className="grid md:grid-cols-2 gap-16">
          {/* Mentorship Access */}
          <div className={`transition-all duration-1000 delay-700 ${
            isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'
          }`}>
            <div className="text-center mb-8">
              <div className="w-32 h-32 bg-gradient-to-br from-red-500 to-red-700 rounded-full mx-auto mb-6 flex items-center justify-center hover:scale-105 transition-transform duration-300 animate-pulse-ring">
                <div className="w-20 h-20 bg-white rounded-full animate-bounce-subtle"></div>
              </div>
            </div>
            
            <h4 className="text-xl font-medium text-gray-900 mb-3 font-martian text-center hover:text-orange-600 transition-colors duration-300">
              Mentorship Access
            </h4>
            <p className="text-gray-600 text-center mb-6 font-inter">
              One-on-one guidance and structured fellowships led by industry leaders and experienced women in tech, 
              including speakers from Intel, Amazon, Uber, and more.
            </p>
            
            <div className="flex justify-center mb-6">
              <div className="flex -space-x-2">
                <div className="w-8 h-8 bg-gradient-to-br from-gray-300 to-gray-400 rounded-full border-2 border-white hover:scale-110 transition-transform duration-200 animate-bounce-subtle"></div>
                <div className="w-8 h-8 bg-gradient-to-br from-red-400 to-red-500 rounded-full border-2 border-white hover:scale-110 transition-transform duration-200 animate-bounce-subtle" style={{ animationDelay: '0.5s' }}></div>
                <div className="w-8 h-8 bg-gradient-to-br from-orange-400 to-orange-500 rounded-full border-2 border-white hover:scale-110 transition-transform duration-200 animate-bounce-subtle" style={{ animationDelay: '1s' }}></div>
              </div>
            </div>
          </div>

          {/* Community & Networking */}
          <div className={`transition-all duration-1000 delay-800 ${
            isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'
          }`}>
            <div className="text-center mb-8">
              <div className="w-32 h-32 bg-gradient-to-br from-orange-500 to-orange-700 rounded-full mx-auto mb-6 flex items-center justify-center hover:scale-105 transition-transform duration-300 animate-pulse-ring">
                <div className="w-20 h-20 bg-white rounded-full animate-bounce-subtle"></div>
              </div>
            </div>
            
            <h4 className="text-xl font-medium text-gray-900 mb-3 font-martian text-center hover:text-orange-600 transition-colors duration-300">
              Community & Networking
            </h4>
            <p className="text-gray-600 text-center mb-6 font-inter">
              A vibrant, inclusive network that fosters collaboration, peer learning, and long-term sisterhood. 
              Join our 10,000+ strong community across India and APAC.
            </p>
            
            <div className="text-center">
              <div className="inline-flex items-center space-x-2 bg-orange-100 px-4 py-2 rounded-full">
                <span className="text-xs text-orange-600 font-inter">63% Female</span>
                <span className="text-xs text-gray-400 font-inter">•</span>
                <span className="text-xs text-orange-600 font-inter">34% Male</span>
                <span className="text-xs text-gray-400 font-inter">•</span>
                <span className="text-xs text-orange-600 font-inter">3% Others</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* Custom Styles */}
      <style dangerouslySetInnerHTML={{
        __html: `
          @import url('https://fonts.googleapis.com/css2?family=Martian+Mono:wght@100;200;300;400;500;600;700;800&family=Inter:wght@100;200;300;400;500;600;700;800&display=swap');
          
          .font-martian {
            font-family: 'Martian Mono', monospace;
          }
          
          .font-inter {
            font-family: 'Inter', sans-serif;
          }

          @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-10px) rotate(90deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
            75% { transform: translateY(-10px) rotate(270deg); }
          }

          @keyframes bounce-subtle {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-2px); }
          }

          @keyframes pulse-glow {
            0%, 100% { 
              color: rgb(17 24 39);
              text-shadow: none;
            }
            50% { 
              color: rgb(234 88 12);
              text-shadow: 0 0 10px rgba(234, 88, 12, 0.3);
            }
          }

          @keyframes pulse-orange {
            0%, 100% { 
              color: rgb(249 115 22);
              opacity: 1;
            }
            50% { 
              color: rgb(234 88 12);
              opacity: 0.8;
            }
          }

          @keyframes pulse-ring {
            0% { box-shadow: 0 0 0 0 rgba(239 68 68 / 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(239 68 68 / 0); }
            100% { box-shadow: 0 0 0 0 rgba(239 68 68 / 0); }
          }

          @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
          }

          @keyframes count-up {
            0% { color: rgb(249 115 22); }
            50% { color: rgb(34 197 94); }
            100% { color: rgb(249 115 22); }
          }

          .animate-float {
            animation: float 15s ease-in-out infinite;
          }

          .animate-bounce-subtle {
            animation: bounce-subtle 2s ease-in-out infinite;
          }

          .animate-pulse-glow {
            animation: pulse-glow 3s ease-in-out infinite;
          }

          .animate-pulse-orange {
            animation: pulse-orange 2s ease-in-out infinite;
          }

          .animate-pulse-ring {
            animation: pulse-ring 2s infinite;
          }

          .animate-fade-in {
            animation: fade-in 0.8s ease-out forwards;
            opacity: 0;
          }

          .animate-count-up {
            animation: count-up 3s ease-in-out infinite;
            font-weight: 600;
          }

          /* Hover Effects */
          .group:hover .group-hover\\:scale-105 {
            transform: scale(1.05);
          }

          .group:hover .group-hover\\:text-gray-800 {
            color: rgb(31 41 55);
          }

          /* Smooth transitions for all interactive elements */
          * {
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 150ms;
          }
        `
      }} />
    </section>
  );
};

export default About;
</file>

<file path="src/components/Events.tsx">
import React, { useEffect, useRef, useState } from 'react';

const Events = () => {
  const [isVisible, setIsVisible] = useState(false);
  const sectionRef = useRef(null);

  useEffect(() => {
    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          setIsVisible(true);
          observer.disconnect();
        }
      },
      { threshold: 0.1 }
    );

    if (sectionRef.current) {
      observer.observe(sectionRef.current);
    }

    return () => {
      if (sectionRef.current) {
        observer.unobserve(sectionRef.current);
      }
    };
  }, []);

  const events = [
    {
      title: "Code N Challenge",
      description: "Our flagship hackathon with over 7,000+ participants. A launchpad for aspiring women in tech to build and innovate.",
      image: "/2.png",
      stats: ["7,000+", "Participants"],
    },
    {
      title: "Code N Connect",
      description: "A series of meetups bringing students closer to industry, with 25+ virtual sessions and 8+ in-person gatherings.",
      image: "/1.png",
      stats: ["25+", "Virtual Sessions"],
    },
    {
      title: "Code N Candid",
      description: "Our podcast featuring candid conversations with women leaders, changemakers, and trailblazers in tech.",
      image: "/3.png",
      stats: ["50+", "Episodes"],
    },
    {
      title: "Mentorship Circles",
      description: "Structured fellowships and one-on-one guidance led by industry leaders and experienced women in tech.",
      image: "/4.png",
      stats: ["50+", "Speakers & Mentors"],
    }
  ];

  return (
    <section ref={sectionRef} className="py-20 px-6 bg-gray-50 overflow-hidden">
      <div className="max-w-7xl mx-auto">
        {/* Header */}
        <div className="text-center mb-16">
          <h2 className={`text-4xl md:text-5xl font-light text-gray-900 mb-6 font-martian transition-all duration-1000 ${
            isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'
          }`}>
            Our Flagship Events
          </h2>
          <p className={`text-xl text-gray-600 max-w-3xl mx-auto font-inter transition-all duration-1000 delay-200 ${
            isVisible ? 'opacity-100 translate-y-0' : 'opacity-0 translate-y-8'
          }`}>
            These core initiatives are the heart of our community, creating opportunities for connection, innovation, and inspiration.
          </p>
        </div>
        
        {/* 2x2 Grid Layout */}
        <div className="grid md:grid-cols-2 lg:grid-cols-2 gap-8">
          {events.map((event, index) => (
            <div 
              key={index}
              className={`group bg-white rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-500 transform hover:-translate-y-2 ${isVisible ? 'opacity-100' : 'opacity-0'}`}
              style={{ transitionDelay: `${200 + index * 100}ms`, transitionProperty: 'opacity, transform' }}
            >
              <div className="relative h-64">
                <img src={event.image} alt={event.title} className="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105" />
              </div>
              <div className="p-6">
                <h3 className="text-xl font-medium text-gray-900 mb-3 font-martian">{event.title}</h3>
                <p className="text-sm text-gray-600 font-inter mb-4 h-20">{event.description}</p>
                <div className="flex items-center space-x-2 text-sm pt-4 border-t border-gray-100">
                  <div className="font-bold text-orange-500 font-martian">{event.stats[0]}</div>
                  <div className="text-gray-500 font-inter">{event.stats[1]}</div>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>
  );
};

export default Events;
</file>

<file path="src/components/Navbar.tsx">
import React from 'react';
import { useNavigate } from 'react-router-dom';
import { Button } from '@/components/ui/button';
import { Search, Menu } from 'lucide-react';
import { Sheet, SheetContent, SheetTrigger } from '@/components/ui/sheet';
import { useIsMobile } from '@/hooks/use-mobile';

const Navbar: React.FC = () => {
  const navigate = useNavigate();
  const isLoggedIn = Boolean(localStorage.getItem('token'));
  const isAdmin = localStorage.getItem('is_admin') === 'true';
  const isMobile = useIsMobile();

  if (isMobile) {
    return (
      <nav className="w-full flex items-center justify-between px-4 py-4 border-b border-gray-100 bg-white/90 backdrop-blur z-50 sticky top-0">
        {/* Hamburger menu on the left */}
        <Sheet>
          <SheetTrigger asChild>
            <button
              className="p-2 rounded focus:outline-none focus:ring-2 focus:ring-amber-400"
              aria-label="Open menu"
            >
              <Menu className="w-7 h-7 text-gray-700" />
            </button>
          </SheetTrigger>
          <SheetContent side="left" className="w-64 p-0">
            <div className="flex flex-col h-full divide-y divide-gray-100">
              <div className="flex flex-col space-y-2 p-6">
                <span className="text-2xl font-bold text-gray-900 font-martian mb-2 cursor-pointer" onClick={() => navigate('/')}>SheBuilds</span>
                <button className="text-gray-700 text-left py-2 font-inter" onClick={() => navigate('/community')}>Community</button>
                <button className="text-gray-700 text-left py-2 font-inter" onClick={() => navigate('/events')}>Events</button>
                <button className="text-gray-700 text-left py-2 font-inter" onClick={() => navigate('/projects')}>Projects</button>
                <button className="text-gray-700 text-left py-2 font-inter" onClick={() => navigate('/grants')}>Grants</button>
                <button className="text-gray-700 text-left py-2 font-inter" onClick={() => navigate('/projects/create')}>Create Project</button>
              </div>
              <div className="flex flex-col space-y-2 p-6">
                <button
                  className="text-gray-600 hover:text-amber-700 p-2 rounded-full self-start focus:outline-none focus:ring-2 focus:ring-amber-400"
                  aria-label="Search"
                  onClick={() => navigate('/search')}
                >
                  <Search className="w-6 h-6" />
                </button>
                {isAdmin && (
                  <Button className="bg-amber-700 hover:bg-amber-800 text-white px-4 py-2 font-inter w-full text-left" onClick={() => navigate('/admin')}>
                    Admin
                  </Button>
                )}
                {!isLoggedIn ? (
                  <>
                    <button className="text-gray-700 text-left py-2 font-inter" onClick={() => navigate('/login')}>Sign in</button>
                    <Button className="bg-gray-900 hover:bg-gray-800 text-white px-4 py-2 font-inter w-full text-left" onClick={() => navigate('/register')}>
                      Get Started
                    </Button>
                  </>
                ) : (
                  <>
                    <Button className="bg-amber-800 hover:bg-amber-900 text-white px-4 py-2 font-inter w-full text-left" onClick={() => navigate('/profile')}>
                      Profile
                    </Button>
                    <Button className="bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 py-2 font-inter w-full text-left" onClick={() => {
                      localStorage.removeItem('token');
                      localStorage.removeItem('is_admin');
                      navigate('/');
                    }}>
                      Logout
                    </Button>
                  </>
                )}
              </div>
            </div>
          </SheetContent>
        </Sheet>
        {/* Centered logo */}
        <span className="text-2xl font-bold text-gray-900 font-martian cursor-pointer absolute left-1/2 -translate-x-1/2" onClick={() => navigate('/')}>SheBuilds</span>
        {/* Search icon on the right */}
        <button
          className="p-2 rounded focus:outline-none focus:ring-2 focus:ring-amber-400"
          aria-label="Search"
          onClick={() => navigate('/search')}
        >
          <Search className="w-7 h-7 text-gray-700" />
        </button>
      </nav>
    );
  }

  return (
    <nav className="w-full flex items-center justify-between px-4 md:px-6 py-4 border-b border-gray-100 bg-white/90 backdrop-blur z-50 sticky top-0">
      <div className="flex items-center space-x-4 md:space-x-8">
        <span className="text-2xl font-bold text-gray-900 font-martian cursor-pointer" onClick={() => navigate('/')}>SheBuilds</span>
        {/* Desktop Nav Links */}
        <div className="hidden md:flex items-center space-x-4 lg:space-x-6">
          <button className="text-gray-600 hover:text-gray-900 font-inter" onClick={() => navigate('/community')}>Community</button>
          <button className="text-gray-600 hover:text-gray-900 font-inter" onClick={() => navigate('/events')}>Events</button>
          <button className="text-gray-600 hover:text-gray-900 font-inter" onClick={() => navigate('/projects')}>Projects</button>
          <button className="text-gray-600 hover:text-gray-900 font-inter" onClick={() => navigate('/grants')}>Grants</button>
          <button className="text-gray-600 hover:text-gray-900 font-inter" onClick={() => navigate('/projects/create')}>Create Project</button>
        </div>
      </div>
      {/* Desktop Actions */}
      <div className="hidden md:flex items-center space-x-2 md:space-x-4">
        <button
          className="text-gray-600 hover:text-amber-700 p-2 rounded-full focus:outline-none focus:ring-2 focus:ring-amber-400"
          aria-label="Search"
          onClick={() => navigate('/search')}
        >
          <Search className="w-6 h-6" />
        </button>
        {isAdmin && (
          <Button className="bg-amber-700 hover:bg-amber-800 text-white px-4 md:px-6 py-2 font-inter" onClick={() => navigate('/admin')}>
            Admin
          </Button>
        )}
        {!isLoggedIn ? (
          <>
            <button className="text-gray-600 hover:text-gray-900 font-inter" onClick={() => navigate('/login')}>Sign in</button>
            <Button className="bg-gray-900 hover:bg-gray-800 text-white px-4 md:px-6 py-2 font-inter" onClick={() => navigate('/register')}>
              Get Started
            </Button>
          </>
        ) : (
          <>
            <Button className="bg-amber-800 hover:bg-amber-900 text-white px-4 md:px-6 py-2 font-inter" onClick={() => navigate('/profile')}>
              Profile
            </Button>
            <Button className="bg-gray-200 hover:bg-gray-300 text-gray-800 px-4 md:px-6 py-2 font-inter" onClick={() => {
              localStorage.removeItem('token');
              localStorage.removeItem('is_admin');
              navigate('/');
            }}>
              Logout
            </Button>
          </>
        )}
      </div>
    </nav>
  );
};

export default Navbar;
</file>

<file path="src/index.css">
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;

    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;

    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;

    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;

    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;

    --radius: 0.5rem;

    --sidebar-background: 0 0% 98%;

    --sidebar-foreground: 240 5.3% 26.1%;

    --sidebar-primary: 240 5.9% 10%;

    --sidebar-primary-foreground: 0 0% 98%;

    --sidebar-accent: 240 4.8% 95.9%;

    --sidebar-accent-foreground: 240 5.9% 10%;

    --sidebar-border: 220 13% 91%;

    --sidebar-ring: 217.2 91.2% 59.8%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --sidebar-background: 240 5.9% 10%;
    --sidebar-foreground: 240 4.8% 95.9%;
    --sidebar-primary: 224.3 76.3% 48%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 240 3.7% 15.9%;
    --sidebar-accent-foreground: 240 4.8% 95.9%;
    --sidebar-border: 240 3.7% 15.9%;
    --sidebar-ring: 217.2 91.2% 59.8%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}

/* Slider animations */
@keyframes slide-rtl {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-50%);
  }
}

@keyframes slide-ltr {
  0% {
    transform: translateX(-50%);
  }
  100% {
    transform: translateX(0);
  }
}

@keyframes slideRTL {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-33.3333%);
  }
}

.animate-slide-rtl {
  animation: slide-rtl 25s linear infinite;
  min-width: 100%;
}

.animate-slide-ltr {
  animation: slide-ltr 30s linear infinite;
  min-width: 100%;
}

.members-slide {
  animation: slideRTL 20s linear infinite;
}
</file>

<file path="src/pages/Login.tsx">
import { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { Input } from '@/components/ui/input';
import { Button } from '@/components/ui/button';
import { loginUser, setToken, getUserProfile } from '@/lib/api';
import { useToast } from '@/hooks/use-toast';

const Login = () => {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [loading, setLoading] = useState(false);
  const { toast } = useToast();
  const navigate = useNavigate();

  const handleLogin = async (e: React.FormEvent) => {
    e.preventDefault();
    setLoading(true);
    try {
      const res: any = await loginUser({ email, password });
      setToken(res.data.token);
      // Fetch user profile to get is_admin
      try {
        const profileRes = await getUserProfile();
        const isAdmin = profileRes.data?.is_admin;
        if (typeof isAdmin !== 'undefined') {
          localStorage.setItem('is_admin', isAdmin ? 'true' : 'false');
        } else {
          localStorage.removeItem('is_admin');
        }
      } catch {
        localStorage.removeItem('is_admin');
      }
      toast({ title: 'Login successful', description: `Welcome, ${res.data.user.name}!` });
      navigate('/'); // Redirect to home or dashboard
    } catch (err: any) {
      toast({ title: 'Login failed', description: err?.response?.data?.message || 'Invalid credentials', variant: 'destructive' });
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-white px-4 py-12">
      <div className="relative w-full max-w-md">
        {/* Butterfly Accent */}
        <img
          src="/butterfly.png"
          alt="SheBuilds Butterfly"
          className="absolute -top-10 left-1/2 -translate-x-1/2 w-16 h-16 opacity-80 animate-fade-in-up"
          style={{ zIndex: 2 }}
        />
        <div className="bg-white rounded-2xl shadow-xl border border-gray-100 p-8 pt-16 animate-fade-in-up transition-all duration-700">
          <h1 className="text-4xl font-light text-gray-900 mb-2 font-martian text-center">Sign In to SheBuilds</h1>
          <p className="text-base text-gray-600 mb-8 font-inter text-center">Empowering women in tech. Welcome back to your community!</p>
          <form onSubmit={handleLogin} className="space-y-5">
            <label htmlFor="email" className="block text-sm font-medium text-gray-700 font-inter mb-1">Email</label>
            <Input
              id="email"
              type="email"
              placeholder="you@example.com"
              value={email}
              onChange={e => setEmail(e.target.value)}
              required
              className="font-inter"
              autoComplete="email"
            />
            <label htmlFor="password" className="block text-sm font-medium text-gray-700 font-inter mb-1 mt-4">Password</label>
            <Input
              id="password"
              type="password"
              placeholder="••••••••"
              value={password}
              onChange={e => setPassword(e.target.value)}
              required
              className="font-inter"
              autoComplete="current-password"
            />
            <div className="flex justify-end mt-1">
              <a href="/forgot-password" className="text-sm text-orange-600 hover:underline font-inter font-medium transition-all duration-300">Forgot password?</a>
            </div>
            <Button type="submit" className="w-full bg-amber-800 hover:bg-amber-900 text-white font-inter text-base rounded-full mt-6 transition-all duration-300" disabled={loading}>
              {loading ? 'Signing in...' : 'Sign In'}
            </Button>
          </form>
          <div className="mt-8 text-center text-sm text-gray-600 font-inter">
            Don&apos;t have an account?{' '}
            <a href="/register" className="text-orange-600 hover:underline font-medium transition-all duration-300">Get Started</a>
          </div>
        </div>
      </div>
      {/* Fade-in animation */}
      <style>{`
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.8s cubic-bezier(0.4,0,0.2,1) both;
        }
      `}</style>
    </div>
  );
};

export default Login;
</file>

<file path="src/pages/ProjectDetail.tsx">
import React, { useState, useEffect } from 'react';
import { useParams, useNavigate } from 'react-router-dom';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';
import { ArrowLeft, Edit, Trash2, Calendar, MapPin, Users, Tag, ExternalLink, Github, Linkedin, Globe, Target, Zap, Award } from 'lucide-react';
import { api } from '@/lib/api';
import { toast } from '@/hooks/use-toast';
import Navbar from '../components/Navbar';

interface Project {
  _id: string;
  title: string;
  description: string;
  category: string;
  status: 'draft' | 'in-progress' | 'completed' | 'archived';
  visibility: 'public' | 'private';
  tags: string[];
  location: string;
  teamSize: number;
  startDate: string;
  endDate?: string;
  objectives: string;
  challenges: string;
  impact: string;
  technologies: string[];
  budget: number;
  website?: string;
  github?: string;
  linkedin?: string;
  createdAt: string;
  updatedAt: string;
  user: {
    _id: string;
    name: string;
    username: string;
    avatar?: string;
  };
}

const ProjectDetail: React.FC = () => {
  const { projectId } = useParams<{ projectId: string }>();
  const navigate = useNavigate();
  const [project, setProject] = useState<Project | null>(null);
  const [loading, setLoading] = useState(true);
  const [isOwner, setIsOwner] = useState(false);
  const [showDeleteDialog, setShowDeleteDialog] = useState(false);
  const [deleting, setDeleting] = useState(false);

  const isLoggedIn = Boolean(localStorage.getItem('token'));

  useEffect(() => {
    if (projectId) {
      fetchProject();
    }
  }, [projectId]);

  const fetchProject = async () => {
    try {
      setLoading(true);
      const response = await api.get(`/projects/${projectId}`);
      // Map builder_id to user for compatibility
      const projectData = response.data.project || response.data;
      const user = projectData.builder_id;
      setProject({ ...projectData, user });
      // Check if current user is the owner
      const currentUser = JSON.parse(localStorage.getItem('user') || '{}');
      setIsOwner(currentUser._id === user?._id);
    } catch (error) {
      console.error('Error fetching project:', error);
      toast({
        title: "Error",
        description: "Failed to load project. Please try again.",
        variant: "destructive",
      });
      navigate('/projects');
    } finally {
      setLoading(false);
    }
  };

  const handleDeleteProject = async () => {
    if (!project) return;

    try {
      setDeleting(true);
      await api.delete(`/projects/${project._id}`);
      
      toast({
        title: "Success",
        description: "Project deleted successfully!",
      });
      
      navigate('/projects');
    } catch (error: any) {
      console.error('Error deleting project:', error);
      toast({
        title: "Error",
        description: error.response?.data?.message || "Failed to delete project. Please try again.",
        variant: "destructive",
      });
    } finally {
      setDeleting(false);
      setShowDeleteDialog(false);
    }
  };

  const getStatusColor = (status: string) => {
    switch (status) {
      case 'draft': return 'bg-gray-100 text-gray-800';
      case 'in-progress': return 'bg-blue-100 text-blue-800';
      case 'completed': return 'bg-green-100 text-green-800';
      case 'archived': return 'bg-orange-100 text-orange-800';
      default: return 'bg-gray-100 text-gray-800';
    }
  };

  const formatDate = (dateString: string) => {
    return new Date(dateString).toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'long',
      day: 'numeric'
    });
  };

  const formatCurrency = (amount: number) => {
    return new Intl.NumberFormat('en-US', {
      style: 'currency',
      currency: 'USD',
      minimumFractionDigits: 0,
      maximumFractionDigits: 0,
    }).format(amount);
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-white">
        <div className="px-6 py-16">
          <div className="max-w-4xl mx-auto">
            <div className="animate-pulse">
              <div className="h-8 bg-gray-200 rounded w-1/4 mb-6"></div>
              <div className="h-12 bg-gray-200 rounded w-3/4 mb-4"></div>
              <div className="h-4 bg-gray-200 rounded w-1/2 mb-8"></div>
              <div className="space-y-4">
                {[...Array(3)].map((_, i) => (
                  <div key={i} className="h-32 bg-gray-200 rounded"></div>
                ))}
              </div>
            </div>
          </div>
        </div>
      </div>
    );
  }

  if (!project) {
    return (
      <div className="min-h-screen bg-white">
        <div className="px-6 py-16">
          <div className="max-w-2xl mx-auto text-center">
            <h1 className="text-4xl font-light text-gray-900 mb-4 font-martian">Project Not Found</h1>
            <p className="text-lg text-gray-600 mb-8 font-inter">The project you're looking for doesn't exist.</p>
            <Button 
              onClick={() => navigate('/projects')}
              className="bg-amber-800 hover:bg-amber-900 text-white px-8 py-3 text-base font-medium rounded-full font-inter"
            >
              Back to Projects
            </Button>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-white">
      <Navbar />

      {/* Page Content */}
      <div className="px-6 py-16">
        <div className="max-w-4xl mx-auto">
          {/* Header */}
          <div className="mb-8">
            <Button
              variant="ghost"
              onClick={() => navigate('/projects')}
              className="mb-6 text-gray-600 hover:text-gray-900 font-inter"
            >
              <ArrowLeft className="w-4 h-4 mr-2" />
              Back to Projects
            </Button>
            
            <div className="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6">
              <div>
                <h1 className="text-6xl md:text-7xl font-light mb-4 text-gray-900 leading-tight font-martian">
                  {project.title}
                </h1>
                <div className="flex items-center gap-4 mb-4">
                  <Badge className={getStatusColor(project.status)}>
                    {project.status.replace('-', ' ')}
                  </Badge>
                  <Badge variant="outline">
                    {project.category
                      ? project.category.charAt(0).toUpperCase() + project.category.slice(1).replace('-', ' ')
                      : "Uncategorized"}
                  </Badge>
                  {project.visibility === 'private' && (
                    <Badge variant="outline">Private</Badge>
                  )}
                </div>
              </div>
              
              {isOwner && (
                <div className="flex gap-2 mt-4 sm:mt-0">
                  <Button
                    variant="outline"
                    onClick={() => navigate(`/projects/${project._id}/edit`)}
                    className="font-inter"
                  >
                    <Edit className="w-4 h-4 mr-2" />
                    Edit
                  </Button>
                  <Dialog open={showDeleteDialog} onOpenChange={setShowDeleteDialog}>
                    <DialogTrigger asChild>
                      <Button variant="outline" className="text-red-600 hover:text-red-700 font-inter">
                        <Trash2 className="w-4 h-4 mr-2" />
                        Delete
                      </Button>
                    </DialogTrigger>
                    <DialogContent>
                      <DialogHeader>
                        <DialogTitle>Delete Project</DialogTitle>
                        <DialogDescription>
                          Are you sure you want to delete "{project.title}"? This action cannot be undone.
                        </DialogDescription>
                      </DialogHeader>
                      <div className="flex justify-end gap-2">
                        <Button variant="outline" onClick={() => setShowDeleteDialog(false)}>
                          Cancel
                        </Button>
                        <Button 
                          variant="destructive" 
                          onClick={handleDeleteProject}
                          disabled={deleting}
                        >
                          {deleting ? 'Deleting...' : 'Delete Project'}
                        </Button>
                      </div>
                    </DialogContent>
                  </Dialog>
                </div>
              )}
            </div>
          </div>

          {/* Project Info Grid */}
          <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
            {/* Main Content */}
            <div className="lg:col-span-2 space-y-8">
              {/* Description */}
              <Card className="border border-gray-100">
                <CardHeader>
                  <CardTitle className="text-2xl font-martian">About This Project</CardTitle>
                </CardHeader>
                <CardContent>
                  <p className="text-gray-700 font-inter leading-relaxed">
                    {project.description}
                  </p>
                </CardContent>
              </Card>

              {/* Objectives */}
              {project.objectives && (
                <Card className="border border-gray-100">
                  <CardHeader>
                    <CardTitle className="text-2xl font-martian flex items-center">
                      <Target className="w-6 h-6 mr-2" />
                      Project Objectives
                    </CardTitle>
                  </CardHeader>
                  <CardContent>
                    <p className="text-gray-700 font-inter leading-relaxed">
                      {project.objectives}
                    </p>
                  </CardContent>
                </Card>
              )}

              {/* Challenges */}
              {project.challenges && (
                <Card className="border border-gray-100">
                  <CardHeader>
                    <CardTitle className="text-2xl font-martian flex items-center">
                      <Zap className="w-6 h-6 mr-2" />
                      Challenges & Solutions
                    </CardTitle>
                  </CardHeader>
                  <CardContent>
                    <p className="text-gray-700 font-inter leading-relaxed">
                      {project.challenges}
                    </p>
                  </CardContent>
                </Card>
              )}

              {/* Impact */}
              {project.impact && (
                <Card className="border border-gray-100">
                  <CardHeader>
                    <CardTitle className="text-2xl font-martian flex items-center">
                      <Award className="w-6 h-6 mr-2" />
                      Expected Impact
                    </CardTitle>
                  </CardHeader>
                  <CardContent>
                    <p className="text-gray-700 font-inter leading-relaxed">
                      {project.impact}
                    </p>
                  </CardContent>
                </Card>
              )}
            </div>

            {/* Sidebar */}
            <div className="space-y-6">
              {/* Project Details */}
              <Card className="border border-gray-100">
                <CardHeader>
                  <CardTitle className="text-xl font-martian">Project Details</CardTitle>
                </CardHeader>
                <CardContent className="space-y-4">
                  <div className="flex items-center text-sm text-gray-600 font-inter">
                    <MapPin className="w-4 h-4 mr-2" />
                    {project.location || 'No location specified'}
                  </div>
                  
                  <div className="flex items-center text-sm text-gray-600 font-inter">
                    <Users className="w-4 h-4 mr-2" />
                    {project.teamSize} team member{project.teamSize !== 1 ? 's' : ''}
                  </div>
                  
                  <div className="flex items-center text-sm text-gray-600 font-inter">
                    <Calendar className="w-4 h-4 mr-2" />
                    Started {formatDate(project.startDate)}
                  </div>
                  
                  {project.endDate && (
                    <div className="flex items-center text-sm text-gray-600 font-inter">
                      <Calendar className="w-4 h-4 mr-2" />
                      Ended {formatDate(project.endDate)}
                    </div>
                  )}
                  
                  {project.budget > 0 && (
                    <div className="flex items-center text-sm text-gray-600 font-inter">
                      <span className="font-semibold">Budget:</span>
                      <span className="ml-2">{formatCurrency(project.budget)}</span>
                    </div>
                  )}
                </CardContent>
              </Card>

              {/* Technologies */}
              {(project.technologies?.length ?? 0) > 0 && (
                <Card className="border border-gray-100">
                  <CardHeader>
                    <CardTitle className="text-xl font-martian">Technologies Used</CardTitle>
                  </CardHeader>
                  <CardContent>
                    <div className="flex flex-wrap gap-2">
                      {project.technologies.map((tech, index) => (
                        <Badge key={index} variant="secondary" className="font-inter">
                          {tech}
                        </Badge>
                      ))}
                    </div>
                  </CardContent>
                </Card>
              )}

              {/* Tags */}
              {(project.tags?.length ?? 0) > 0 && (
                <Card className="border border-gray-100">
                  <CardHeader>
                    <CardTitle className="text-xl font-martian">Tags</CardTitle>
                  </CardHeader>
                  <CardContent>
                    <div className="flex flex-wrap gap-2">
                      {project.tags.map((tag, index) => (
                        <Badge key={index} variant="outline" className="font-inter">
                          {tag}
                        </Badge>
                      ))}
                    </div>
                  </CardContent>
                </Card>
              )}

              {/* Links */}
              {(project.website || project.github || project.linkedin) && (
                <Card className="border border-gray-100">
                  <CardHeader>
                    <CardTitle className="text-xl font-martian">Links</CardTitle>
                  </CardHeader>
                  <CardContent className="space-y-3">
                    {project.website && (
                      <a 
                        href={project.website} 
                        target="_blank" 
                        rel="noopener noreferrer"
                        className="flex items-center text-sm text-blue-600 hover:text-blue-800 font-inter"
                      >
                        <Globe className="w-4 h-4 mr-2" />
                        Website
                      </a>
                    )}
                    {project.github && (
                      <a 
                        href={project.github} 
                        target="_blank" 
                        rel="noopener noreferrer"
                        className="flex items-center text-sm text-blue-600 hover:text-blue-800 font-inter"
                      >
                        <Github className="w-4 h-4 mr-2" />
                        GitHub
                      </a>
                    )}
                    {project.linkedin && (
                      <a 
                        href={project.linkedin} 
                        target="_blank" 
                        rel="noopener noreferrer"
                        className="flex items-center text-sm text-blue-600 hover:text-blue-800 font-inter"
                      >
                        <Linkedin className="w-4 h-4 mr-2" />
                        LinkedIn
                      </a>
                    )}
                  </CardContent>
                </Card>
              )}

              {/* Creator Info */}
              <Card className="border border-gray-100">
                <CardHeader>
                  <CardTitle className="text-xl font-martian">Created by</CardTitle>
                </CardHeader>
                <CardContent>
                  <div className="flex items-center space-x-3">
                    <div className="w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center">
                      {project.user.avatar ? (
                        <img 
                          src={project.user.avatar} 
                          alt={project.user.name}
                          className="w-10 h-10 rounded-full object-cover"
                        />
                      ) : (
                        <span className="text-gray-600 font-semibold">
                          {project.user.name.charAt(0).toUpperCase()}
                        </span>
                      )}
                    </div>
                    <div>
                      <p className="font-semibold text-gray-900 font-inter">{project.user.name}</p>
                      <p className="text-sm text-gray-600 font-inter">@{project.user.username}</p>
                    </div>
                  </div>
                </CardContent>
              </Card>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default ProjectDetail;
</file>

<file path="src/pages/Projects.tsx">
import React, { useState, useEffect } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Badge } from '@/components/ui/badge';
import { Input } from '@/components/ui/input';
import { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';
import { Plus, Search, Filter, Calendar, MapPin, Users, Target } from 'lucide-react';
import { api } from '@/lib/api';
import { useNavigate } from 'react-router-dom';
import { toast } from '@/hooks/use-toast';
import Navbar from '../components/Navbar';

interface Project {
  _id: string;
  title: string;
  description: string;
  category: string;
  status: 'draft' | 'in-progress' | 'completed' | 'archived';
  visibility: 'public' | 'private';
  tags: string[];
  location: string;
  teamSize: number;
  startDate: string;
  endDate?: string;
  createdAt: string;
  updatedAt: string;
  user: {
    _id: string;
    name: string;
    username: string;
    avatar?: string;
  };
}

const Projects: React.FC = () => {
  const [projects, setProjects] = useState<Project[]>([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState('');
  const [statusFilter, setStatusFilter] = useState<string>('all');
  const [categoryFilter, setCategoryFilter] = useState<string>('all');
  const [sortBy, setSortBy] = useState<string>('updatedAt');
  const [currentPage, setCurrentPage] = useState(1);
  const [totalPages, setTotalPages] = useState(1);
  const navigate = useNavigate();
  const isLoggedIn = Boolean(localStorage.getItem('token'));
  const currentUser = isLoggedIn ? JSON.parse(localStorage.getItem('user') || '{}') : null;

  useEffect(() => {
    fetchProjects();
  }, [currentPage, searchTerm, statusFilter, categoryFilter, sortBy]);

  const fetchProjects = async () => {
    try {
      setLoading(true);
      const params = new URLSearchParams({
        page: currentPage.toString(),
        limit: '12',
        ...(searchTerm && { search: searchTerm }),
        ...(statusFilter !== 'all' && { status: statusFilter }),
        ...(categoryFilter !== 'all' && { category: categoryFilter }),
        sortBy,
        sortOrder: 'desc'
      });

      const response = await api.get(`/projects?${params}`);
      // Map builder_id to user for compatibility
      const projects = response.data.projects.map((p: any) => ({
        ...p,
        user: p.builder_id
      }));
      setProjects(projects);
      setTotalPages(response.data.totalPages);
    } catch (error) {
      console.error('Error fetching projects:', error);
      toast({
        title: "Error",
        description: "Failed to load projects. Please try again.",
        variant: "destructive",
      });
    } finally {
      setLoading(false);
    }
  };

  const getStatusColor = (status: string) => {
    switch (status) {
      case 'draft': return 'bg-gray-100 text-gray-800';
      case 'in-progress': return 'bg-blue-100 text-blue-800';
      case 'completed': return 'bg-green-100 text-green-800';
      case 'archived': return 'bg-orange-100 text-orange-800';
      default: return 'bg-gray-100 text-gray-800';
    }
  };

  const formatDate = (dateString: string) => {
    return new Date(dateString).toLocaleDateString('en-US', {
      year: 'numeric',
      month: 'short',
      day: 'numeric'
    });
  };

  const handleCreateProject = () => {
    navigate('/projects/create');
  };

  const handleViewProject = (projectId: string) => {
    navigate(`/projects/${projectId}`);
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-white">
        <div className="px-6 py-16">
          <div className="max-w-7xl mx-auto">
            <div className="animate-pulse">
              <div className="h-8 bg-gray-200 rounded w-1/4 mb-6"></div>
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                {[...Array(6)].map((_, i) => (
                  <div key={i} className="bg-white rounded-lg shadow-sm h-64"></div>
                ))}
              </div>
            </div>
          </div>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-white">
      <Navbar />

      {/* Page Content */}
      <div className="px-6 py-16">
        <div className="max-w-7xl mx-auto">
          {/* Project Actions Section */}
          <div className="flex flex-col sm:flex-row gap-4 justify-center items-center mb-10">
            {isLoggedIn && (
              <Button className="bg-amber-800 hover:bg-amber-900 text-white px-8 py-3 text-base font-medium rounded-full font-inter" onClick={handleCreateProject}>
                <Plus className="w-4 h-4 mr-2" />
                Start a Project
              </Button>
            )}
            <Button variant="ghost" className="text-gray-700 hover:text-gray-900 px-8 py-3 text-base font-medium font-inter" onClick={() => navigate('/community')}>
              Explore Community
            </Button>
          </div>

          {/* Header */}
          <div className="text-center mb-12">
            <h1 className="text-6xl md:text-7xl font-light mb-8 text-gray-900 leading-tight font-martian">
              My Projects
            </h1>
            <p className="text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto font-inter font-light">
              Manage and showcase your innovation projects
            </p>
            {!isLoggedIn && (
              <Button 
                onClick={handleCreateProject}
                className="bg-amber-800 hover:bg-amber-900 text-white px-8 py-3 text-base font-medium rounded-full font-inter"
              >
                <Plus className="w-4 h-4 mr-2" />
                Create Project
              </Button>
            )}
          </div>

          {/* Filters */}
          <div className="bg-gray-50 rounded-lg p-6 mb-8">
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
              <div className="relative">
                <Search className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4" />
                <Input
                  placeholder="Search projects..."
                  value={searchTerm}
                  onChange={(e) => setSearchTerm(e.target.value)}
                  className="pl-10"
                />
              </div>
              
              <Select value={statusFilter} onValueChange={setStatusFilter}>
                <SelectTrigger>
                  <SelectValue placeholder="Status" />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="all">All Status</SelectItem>
                  <SelectItem value="draft">Draft</SelectItem>
                  <SelectItem value="in-progress">In Progress</SelectItem>
                  <SelectItem value="completed">Completed</SelectItem>
                  <SelectItem value="archived">Archived</SelectItem>
                </SelectContent>
              </Select>

              <Select value={categoryFilter} onValueChange={setCategoryFilter}>
                <SelectTrigger>
                  <SelectValue placeholder="Category" />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="all">All Categories</SelectItem>
                  <SelectItem value="technology">Technology</SelectItem>
                  <SelectItem value="healthcare">Healthcare</SelectItem>
                  <SelectItem value="education">Education</SelectItem>
                  <SelectItem value="environment">Environment</SelectItem>
                  <SelectItem value="social-impact">Social Impact</SelectItem>
                  <SelectItem value="business">Business</SelectItem>
                  <SelectItem value="other">Other</SelectItem>
                </SelectContent>
              </Select>

              <Select value={sortBy} onValueChange={setSortBy}>
                <SelectTrigger>
                  <SelectValue placeholder="Sort by" />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="updatedAt">Last Updated</SelectItem>
                  <SelectItem value="createdAt">Date Created</SelectItem>
                  <SelectItem value="title">Title</SelectItem>
                  <SelectItem value="status">Status</SelectItem>
                </SelectContent>
              </Select>

              <Button
                variant="outline"
                onClick={() => {
                  setSearchTerm('');
                  setStatusFilter('all');
                  setCategoryFilter('all');
                  setSortBy('updatedAt');
                }}
                className="flex items-center"
              >
                <Filter className="w-4 h-4 mr-2" />
                Clear Filters
              </Button>
            </div>
          </div>

          {/* Projects Grid */}
          {projects.length === 0 ? (
            <div className="text-center py-12">
              <div className="w-24 h-24 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center">
                <Target className="w-12 h-12 text-gray-400" />
              </div>
              <h3 className="text-xl font-semibold text-gray-900 mb-2">No projects found</h3>
              <p className="text-gray-600 mb-6">
                {searchTerm || statusFilter !== 'all' || categoryFilter !== 'all' 
                  ? 'Try adjusting your filters or search terms.'
                  : 'Start by creating your first project to showcase your innovation.'
                }
              </p>
              {!searchTerm && statusFilter === 'all' && categoryFilter === 'all' && (
                <Button 
                  onClick={handleCreateProject}
                  className="bg-amber-800 hover:bg-amber-900 text-white px-8 py-3 text-base font-medium rounded-full font-inter"
                >
                  <Plus className="w-4 h-4 mr-2" />
                  Create Your First Project
                </Button>
              )}
            </div>
          ) : (
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
              {projects.map((project) => (
                <Card 
                  key={project._id} 
                  className="hover:shadow-lg transition-shadow cursor-pointer bg-white border border-gray-100 relative"
                  onClick={() => handleViewProject(project._id)}
                >
                  {/* Edit button for owner */}
                  {currentUser && project.user && currentUser._id === project.user._id && (
                    <Button
                      variant="outline"
                      size="sm"
                      className="absolute top-3 right-3 z-10 font-inter"
                      onClick={e => {
                        e.stopPropagation();
                        navigate(`/projects/${project._id}/edit`);
                      }}
                    >
                      Edit
                    </Button>
                  )}
                  <CardHeader className="pb-3">
                    <div className="flex justify-between items-start">
                      <CardTitle className="text-lg line-clamp-2 font-inter">{project.title}</CardTitle>
                      <Badge className={getStatusColor(project.status)}>
                        {project.status.replace('-', ' ')}
                      </Badge>
                    </div>
                    <CardDescription className="line-clamp-2 font-inter">
                      {project.description}
                    </CardDescription>
                  </CardHeader>
                  
                  <CardContent className="pt-0">
                    <div className="space-y-3">
                      <div className="flex items-center text-sm text-gray-600 font-inter">
                        <MapPin className="w-4 h-4 mr-2" />
                        {project.location || 'No location specified'}
                      </div>
                      
                      <div className="flex items-center text-sm text-gray-600 font-inter">
                        <Users className="w-4 h-4 mr-2" />
                        {project.teamSize} team member{project.teamSize !== 1 ? 's' : ''}
                      </div>
                      
                      <div className="flex items-center text-sm text-gray-600 font-inter">
                        <Calendar className="w-4 h-4 mr-2" />
                        Started {formatDate(project.startDate)}
                      </div>

                      {project.tags.length > 0 && (
                        <div className="flex flex-wrap gap-1">
                          {project.tags.slice(0, 3).map((tag, index) => (
                            <Badge key={index} variant="secondary" className="text-xs">
                              {tag}
                            </Badge>
                          ))}
                          {project.tags.length > 3 && (
                            <Badge variant="secondary" className="text-xs">
                              +{project.tags.length - 3} more
                            </Badge>
                          )}
                        </div>
                      )}
                    </div>
                  </CardContent>
                </Card>
              ))}
            </div>
          )}

          {/* Pagination */}
          {totalPages > 1 && (
            <div className="flex justify-center mt-8">
              <div className="flex space-x-2">
                <Button
                  variant="outline"
                  onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}
                  disabled={currentPage === 1}
                  className="font-inter"
                >
                  Previous
                </Button>
                
                <div className="flex items-center px-4">
                  <span className="text-sm text-gray-600 font-inter">
                    Page {currentPage} of {totalPages}
                  </span>
                </div>
                
                <Button
                  variant="outline"
                  onClick={() => setCurrentPage(prev => Math.min(totalPages, prev + 1))}
                  disabled={currentPage === totalPages}
                  className="font-inter"
                >
                  Next
                </Button>
              </div>
            </div>
          )}
        </div>
      </div>
    </div>
  );
};

export default Projects;
</file>

<file path="server/src/app.ts">
import express from 'express';
import cors from 'cors';
import helmet from 'helmet';
import morgan from 'morgan';
import rateLimit from 'express-rate-limit';
import dotenv from 'dotenv';

// Import routes
import authRoutes from './routes/auth';
import projectRoutes from './routes/projects';
import grantRoutes from './routes/grants';
import challengeRoutes from './routes/challenges';
import progressRoutes from './routes/progress';
import uploadRoutes from './routes/upload';
import searchRoutes from './routes/search';
import passwordResetRoutes from './routes/passwordReset';
import announcementRoutes from './routes/announcement';
import profileRoutes from './routes/profile';

// Load environment variables
dotenv.config();

const app = express();

// Security middleware
app.use(helmet());

// CORS configuration
app.use(cors({
  origin: process.env.CORS_ORIGIN || 'http://localhost:3000',
  credentials: true
}));

// Rate limiting
const limiter = rateLimit({
  windowMs: Number(process.env.RATE_LIMIT_WINDOW_MS) || 15 * 60 * 1000, // 15 minutes
  max: Number(process.env.RATE_LIMIT_MAX_REQUESTS) || 100, // limit each IP to 100 requests per windowMs
  message: 'Too many requests from this IP, please try again later.'
});
app.use(limiter);

// Logging middleware
app.use(morgan('combined'));

// Body parsing middleware
app.use(express.json({ limit: '10mb' }));
app.use(express.urlencoded({ extended: true, limit: '10mb' }));

// Health check endpoint
app.get('/health', (req, res) => {
  res.json({ 
    status: 'OK', 
    timestamp: new Date().toISOString(),
    service: 'SheBuilds API'
  });
});

// API routes
app.use('/api/auth', authRoutes);
app.use('/api/projects', projectRoutes);
app.use('/api/grants', grantRoutes);
app.use('/api/challenges', challengeRoutes);
app.use('/api/progress', progressRoutes);
app.use('/api/upload', uploadRoutes);
app.use('/api/search', searchRoutes);
app.use('/api/password-reset', passwordResetRoutes);
app.use('/api/announcements', announcementRoutes);
app.use('/api/profile', profileRoutes);

// 404 handler
app.use('*', (req, res) => {
  res.status(404).json({ message: 'Route not found' });
});

// Error handling middleware
app.use((err: any, req: express.Request, res: express.Response, next: express.NextFunction) => {
  console.error('Error:', err);
  
  if (err.name === 'ValidationError') {
    return res.status(400).json({ message: 'Validation error', errors: err.errors });
  }
  
  if (err.name === 'CastError') {
    return res.status(400).json({ message: 'Invalid ID format' });
  }
  
  return res.status(500).json({ message: 'Internal server error' });
});

export default app;
</file>

<file path="src/components/Footer.tsx">
import { Github, Linkedin, Twitter } from 'lucide-react';
import React from 'react';

const Footer = () => {
  return (
    <footer className="bg-gray-50 border-t border-gray-200">
      <div className="max-w-6xl mx-auto px-6 py-12">
        <div className="grid md:grid-cols-12 gap-8">
          {/* Logo and Tagline */}
          <div className="md:col-span-4">
            <div className="mb-4">
              <a href="/" className="flex items-center space-x-2">
                <span className="text-2xl font-bold text-gray-900 font-martian">SheBuilds</span>
              </a>
            </div>
            <p className="text-gray-600 font-inter mb-4">
              Bridging Gaps, Building Futures. An inclusive community and fellowship program dedicated to empowering women in technology and entrepreneurship.
            </p>
            <div className="flex space-x-4">
              <a href="#" className="text-gray-500 hover:text-gray-900 transition-colors duration-300">
                <Twitter size={20} />
              </a>
              <a href="#" className="text-gray-500 hover:text-gray-900 transition-colors duration-300">
                <Github size={20} />
              </a>
              <a href="#" className="text-gray-500 hover:text-gray-900 transition-colors duration-300">
                <Linkedin size={20} />
              </a>
            </div>
          </div>

          {/* Footer Links */}
          <div className="md:col-span-8 grid grid-cols-2 sm:grid-cols-4 gap-8">
            <div>
              <h4 className="text-sm font-semibold text-gray-900 mb-4 font-martian">Company</h4>
              <ul>
                <li className="mb-2"><a href="#" className="text-gray-600 hover:text-gray-900 font-inter">About</a></li>
                <li className="mb-2"><a href="#" className="text-gray-600 hover:text-gray-900 font-inter">Events</a></li>
                <li className="mb-2"><a href="#" className="text-gray-600 hover:text-gray-900 font-inter">Community</a></li>
                <li className="mb-2"><a href="#" className="text-gray-600 hover:text-gray-900 font-inter">Resources</a></li>
              </ul>
            </div>
            <div>
              <h4 className="text-sm font-semibold text-gray-900 mb-4 font-martian">Initiatives</h4>
              <ul>
                <li className="mb-2"><a href="#" className="text-gray-600 hover:text-gray-900 font-inter">Code N Connect</a></li>
                <li className="mb-2"><a href="#" className="text-gray-600 hover:text-gray-900 font-inter">Code N Challenge</a></li>
                <li className="mb-2"><a href="#" className="text-gray-600 hover:text-gray-900 font-inter">Code N Candid</a></li>
              </ul>
            </div>
            <div>
              <h4 className="text-sm font-semibold text-gray-900 mb-4 font-martian">Build</h4>
              <ul>
                <li className="mb-2"><a href="/projects" className="text-gray-600 hover:text-gray-900 font-inter">Projects</a></li>
                <li className="mb-2"><a href="/projects/create" className="text-gray-600 hover:text-gray-900 font-inter">Create Project</a></li>
                <li className="mb-2"><a href="/grants" className="text-gray-600 hover:text-gray-900 font-inter">Grants</a></li>
              </ul>
            </div>
            <div>
              <h4 className="text-sm font-semibold text-gray-900 mb-4 font-martian">Support</h4>
              <ul>
                <li className="mb-2"><a href="/contact" className="text-gray-600 hover:text-gray-900 font-inter">Contact Us</a></li>
                <li className="mb-2"><a href="#" className="text-gray-600 hover:text-gray-900 font-inter">FAQ</a></li>
              </ul>
            </div>
            <div>
              <h4 className="text-sm font-semibold text-gray-900 mb-4 font-martian">Legal</h4>
              <ul>
                <li className="mb-2"><a href="/privacy" className="text-gray-600 hover:text-gray-900 font-inter">Privacy Policy</a></li>
                <li className="mb-2"><a href="/terms" className="text-gray-600 hover:text-gray-900 font-inter">Terms of Service</a></li>
              </ul>
            </div>
          </div>
        </div>

        {/* Bottom Bar */}
        <div className="mt-12 border-t border-gray-200 pt-8 flex flex-col sm:flex-row justify-between items-center">
          <p className="text-sm text-gray-600 font-inter">
            &copy; {new Date().getFullYear()} SheBuilds. All rights reserved.
          </p>
          <p className="text-sm text-orange-600 font-medium font-martian mt-4 sm:mt-0">
            "Built by her. Backed by boldness."
          </p>
        </div>
      </div>
    </footer>
  );
};

export default Footer;
</file>

<file path="server/src/controllers/authController.ts">
import { Request, Response } from 'express';
import jwt from 'jsonwebtoken';
import { User } from '../models/User';
import { emailService } from '../utils/emailService';

interface AuthRequest extends Request {
  user?: any;
}

// Generate JWT Token
const generateToken = (userId: string): string => {
  const secret = process.env.JWT_SECRET || 'fallback-secret';
  const expiresIn = process.env.JWT_EXPIRES_IN || '7d';
  return jwt.sign({ userId }, secret, { expiresIn } as jwt.SignOptions);
};

// Register User
export const register = async (req: Request, res: Response): Promise<void> => {
  try {
    const { name, username, email, password, portfolio_slug, bio, location, timezone, skills, interests, social_links } = req.body;

    // Check if user already exists
    const existingUser = await User.findOne({
      $or: [{ email }, { username }, { portfolio_slug }]
    });

    if (existingUser) {
      res.status(400).json({ message: 'User with this email, username, or portfolio slug already exists' });
      return;
    }

    // Create new user
    const user = new User({
      name,
      username,
      email,
      password,
      portfolio_slug,
      bio,
      location,
      timezone,
      skills: skills || [],
      interests: interests || [],
      social_links: social_links || {}
    });

    await user.save();

    // Send welcome email
    emailService.sendWelcomeEmail(user.email, user.name).catch(error => {
      console.error('Failed to send welcome email:', error);
    });

    // Generate token
    const token = generateToken((user._id as any).toString());

    res.status(201).json({
      message: 'User registered successfully',
      token,
      user: {
        user_id: user.user_id,
        name: user.name,
        username: user.username,
        email: user.email,
        portfolio_slug: user.portfolio_slug,
        is_verified: user.is_verified,
        is_admin: user.is_admin
      }
    });
  } catch (error) {
    console.error('Registration error:', error);
    res.status(500).json({ message: 'Server error during registration' });
  }
};

// Login User
export const login = async (req: Request, res: Response): Promise<void> => {
  try {
    const { email, password } = req.body;

    if (!email || !password) {
      res.status(400).json({ message: 'Email and password are required' });
      return;
    }

    // Find user by email
    const user = await User.findOne({ email });

    if (!user) {
      res.status(401).json({ message: 'Invalid credentials' });
      return;
    }

    // Check password
    const isMatch = await user.comparePassword(password);

    if (!isMatch) {
      res.status(401).json({ message: 'Invalid credentials' });
      return;
    }

    // Generate token
    const token = generateToken(user._id as string);

    res.json({
      message: 'Login successful',
      token,
      user: {
        user_id: user.user_id,
        name: user.name,
        username: user.username,
        email: user.email,
        portfolio_slug: user.portfolio_slug,
        is_verified: user.is_verified,
        is_admin: user.is_admin
      }
    });
  } catch (error) {
    console.error('Login error:', error);
    res.status(500).json({ message: 'Server error during login' });
  }
};

// Get Current User
export const getCurrentUser = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const user = await User.findById(req.user?._id).select('-password');
    res.json(user);
  } catch (error) {
    console.error('Get current user error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// Update User Profile
export const updateProfile = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const { 
      name, bio, location, timezone, 
      skills, interests, social_links, 
      profile_picture, cover_image, photos, 
      journey, musicLinks, story, themeColor 
    } = req.body;

    const user = await User.findById(req.user?._id);

    if (!user) {
      res.status(404).json({ message: 'User not found' });
      return;
    }

    // --- THE FIX: Robustly update all fields ---
    // Use `!== undefined` to allow clearing fields with empty arrays/strings
    if (name !== undefined) user.name = name;
    if (bio !== undefined) user.bio = bio;
    if (location !== undefined) user.location = location;
    if (timezone !== undefined) user.timezone = timezone;
    if (skills !== undefined) user.skills = skills;
    if (interests !== undefined) user.interests = interests;
    if (social_links !== undefined) user.social_links = { ...user.social_links, ...social_links };
    if (profile_picture !== undefined) user.profile_picture = profile_picture;
    if (cover_image !== undefined) user.cover_image = cover_image;
    if (photos !== undefined) user.photos = photos;
    if (journey !== undefined) user.journey = journey;
    if (musicLinks !== undefined) user.musicLinks = musicLinks;
    if (themeColor !== undefined) user.themeColor = themeColor;

    // THE FIX: Add timestamp logic for the 24h story feature
    if (story !== undefined) {
      if (story.text || story.url) {
        user.story = {
          ...story,
          created_at: new Date(),
          expires_at: new Date(Date.now() + 24 * 60 * 60 * 1000), // Expires in 24 hours
        };
      } else {
        // Clear the story if empty content is sent
        user.story = null;
      }
    }

    await user.save();

    // THE FIX: Return a consistent, clean user object
    const updatedUser = user.toObject();
    delete (updatedUser as any).password;
    delete (updatedUser as any).resetToken;
    delete (updatedUser as any).resetTokenExpiry;

    res.json({
      message: 'Profile updated successfully',
      user: updatedUser
    });
  } catch (error) {
    console.error('Update profile error:', error);
    res.status(500).json({ message: 'Server error during profile update' });
  }
};

// Delete User Profile
export const deleteProfile = async (req: AuthRequest, res: Response): Promise<void> => {
  try {
    const user = await User.findById(req.user?._id);
    if (!user) {
      res.status(404).json({ message: 'User not found' });
      return;
    }
    await user.deleteOne();
    res.json({ message: 'User profile deleted successfully' });
  } catch (error) {
    console.error('Delete profile error:', error);
    res.status(500).json({ message: 'Server error during profile deletion' });
  }
};

// Get User by Portfolio Slug
export const getUserBySlug = async (req: Request, res: Response): Promise<void> => {
  try {
    const { slug } = req.params;

    const user = await User.findOne({ portfolio_slug: slug }).select('-password');

    if (!user) {
      res.status(404).json({ message: 'User not found' });
      return;
    }

    res.json(user);
  } catch (error) {
    console.error('Get user by slug error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// ADMIN: List all users
export const adminListUsers = async (req: Request, res: Response): Promise<void> => {
  try {
    const { page = 1, limit = 20, q } = req.query;
    const skip = (Number(page) - 1) * Number(limit);
    const filter: any = {};
    if (q) {
      filter.$or = [
        { name: { $regex: q, $options: 'i' } },
        { username: { $regex: q, $options: 'i' } },
        { email: { $regex: q, $options: 'i' } }
      ];
    }
    const users = await User.find(filter)
      .select('-password')
      .sort({ joined_date: -1 })
      .skip(skip)
      .limit(Number(limit));
    const total = await User.countDocuments(filter);
    res.json({
      users,
      pagination: {
        page: Number(page),
        limit: Number(limit),
        total,
        pages: Math.ceil(total / Number(limit))
      }
    });
  } catch (error) {
    console.error('Admin list users error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// ADMIN: Update user role (is_admin, is_verified)
export const adminUpdateUser = async (req: Request, res: Response): Promise<void> => {
  try {
    const { id } = req.params;
    const { is_admin, is_verified } = req.body;
    const user = await User.findById(id);
    if (!user) {
      res.status(404).json({ message: 'User not found' });
      return;
    }
    if (typeof is_admin === 'boolean') user.is_admin = is_admin;
    if (typeof is_verified === 'boolean') user.is_verified = is_verified;
    await user.save();
    res.json({
      message: 'User updated successfully',
      user: {
        user_id: user.user_id,
        name: user.name,
        username: user.username,
        email: user.email,
        is_verified: user.is_verified,
        is_admin: user.is_admin
      }
    });
  } catch (error) {
    console.error('Admin update user error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};

// ADMIN: Delete any user
export const adminDeleteUser = async (req: Request, res: Response): Promise<void> => {
  try {
    const { id } = req.params;
    const user = await User.findById(id);
    if (!user) {
      res.status(404).json({ message: 'User not found' });
      return;
    }
    await user.deleteOne();
    res.json({ message: 'User deleted successfully' });
  } catch (error) {
    console.error('Admin delete user error:', error);
    res.status(500).json({ message: 'Server error' });
  }
};
</file>

<file path="src/pages/Admin.tsx">
import { useEffect, useState } from 'react';
import { getUserProfile, getGrants, updateGrantStatus, getChallenges, createChallenge, updateChallenge, getAllUsers, updateUserRole, deleteUser as apiDeleteUser, getAdminAnalytics, adminDeleteGrant, adminDeleteChallenge, getAnnouncements, createAnnouncement, deleteAnnouncement } from '@/lib/api';
import { getChallengeDetails } from '@/lib/api';
import { Button } from '@/components/ui/button';
import { useNavigate } from 'react-router-dom';
import { ArrowLeft } from 'lucide-react';
import { useToast } from '@/hooks/use-toast';
import { useForm } from 'react-hook-form';
import { ChartContainer } from '@/components/ui/chart';
import { BarChart, Bar, XAxis, YAxis, PieChart, Pie, Cell, ResponsiveContainer, Tooltip, Legend } from 'recharts';
import { User, Users, Award, Briefcase, Activity, PieChart as PieIcon } from 'lucide-react';

// Simple tag input for array fields
function TagInput({ value, onChange, placeholder }: { value: string[]; onChange: (v: string[]) => void; placeholder?: string }) {
  const [input, setInput] = useState('');
  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {
    if ((e.key === 'Enter' || e.key === ',') && input.trim()) {
      e.preventDefault();
      if (!value.includes(input.trim())) {
        onChange([...value, input.trim()]);
      }
      setInput('');
    } else if (e.key === 'Backspace' && !input && value.length > 0) {
      onChange(value.slice(0, -1));
    }
  };
  return (
    <div className="flex flex-wrap items-center gap-2 border rounded px-2 py-1 bg-white">
      {value.map((tag, idx) => (
        <span key={tag + idx} className="bg-amber-100 text-amber-800 rounded-full px-3 py-1 text-xs flex items-center gap-1">
          {tag}
          <button type="button" className="ml-1 text-amber-700 hover:text-red-600" onClick={() => onChange(value.filter((_, i) => i !== idx))}>&times;</button>
        </span>
      ))}
      <input
        className="flex-1 min-w-[80px] border-none outline-none py-1 px-2 text-sm bg-transparent"
        value={input}
        onChange={e => setInput(e.target.value)}
        onKeyDown={handleKeyDown}
        placeholder={placeholder}
      />
    </div>
  );
}

const Admin = () => {
  const navigate = useNavigate();
  const [activeTab, setActiveTab] = useState<'grants' | 'challenges' | 'users' | 'announcements'>('grants');
  const [isAdmin, setIsAdmin] = useState(false);
  const [loading, setLoading] = useState(true);
  const [grants, setGrants] = useState<any[]>([]);
  const [grantsLoading, setGrantsLoading] = useState(false);
  const [grantsError, setGrantsError] = useState<string | null>(null);
  const [challenges, setChallenges] = useState<any[]>([]);
  const [challengesLoading, setChallengesLoading] = useState(false);
  const [challengesError, setChallengesError] = useState<string | null>(null);
  const [showCreateChallenge, setShowCreateChallenge] = useState(false);
  const { toast } = useToast();

  // Challenge creation form state
  const createForm = useForm({
    defaultValues: {
      title: '',
      theme: '',
      start_date: '',
      end_date: '',
      prizes: '',
      sponsors: '',
      rules: '',
      submission_requirements: '',
      max_participants: '',
    },
  });
  const [creating, setCreating] = useState(false);
  const [createError, setCreateError] = useState<string | null>(null);

  // Tag input state for create form
  const [prizesTags, setPrizesTags] = useState<string[]>([]);
  const [sponsorsTags, setSponsorsTags] = useState<string[]>([]);
  const [rulesTags, setRulesTags] = useState<string[]>([]);
  const [requirementsTags, setRequirementsTags] = useState<string[]>([]);

  // Set Winners state
  const [winnersModal, setWinnersModal] = useState<{ challenge: any, loading: boolean, error: string | null, participants: any[], selected: string[] } | null>(null);
  const [settingWinners, setSettingWinners] = useState(false);
  const [setWinnersError, setSetWinnersError] = useState<string | null>(null);

  // Users state
  const [users, setUsers] = useState<any[]>([]);
  const [usersLoading, setUsersLoading] = useState(false);
  const [usersError, setUsersError] = useState<string | null>(null);

  // Analytics state
  const [analytics, setAnalytics] = useState<any>(null);
  const [analyticsLoading, setAnalyticsLoading] = useState(false);
  const [analyticsError, setAnalyticsError] = useState<string | null>(null);

  // Announcements state
  const [announcements, setAnnouncements] = useState<any[]>([]);
  const [announcementsLoading, setAnnouncementsLoading] = useState(false);
  const [announcementsError, setAnnouncementsError] = useState<string | null>(null);
  const [showCreateAnnouncement, setShowCreateAnnouncement] = useState(false);
  const [creatingAnnouncement, setCreatingAnnouncement] = useState(false);
  const [createAnnouncementError, setCreateAnnouncementError] = useState<string | null>(null);

  useEffect(() => {
    // Fetch user profile and check admin status
    const fetchProfile = async () => {
      setLoading(true);
      try {
        const res = await getUserProfile();
        // Assume is_admin flag in user profile (customize as needed)
        setIsAdmin(res.data?.is_admin || false);
      } catch {
        setIsAdmin(false);
      } finally {
        setLoading(false);
      }
    };
    fetchProfile();
  }, []);

  useEffect(() => {
    setAnalyticsLoading(true);
    setAnalyticsError(null);
    getAdminAnalytics()
      .then(res => setAnalytics(res.data))
      .catch(() => setAnalyticsError('Failed to load analytics'))
      .finally(() => setAnalyticsLoading(false));
  }, []);

  // Reset tag inputs when modal opens/closes
  useEffect(() => {
    if (showCreateChallenge) {
      setPrizesTags([]);
      setSponsorsTags([]);
      setRulesTags([]);
      setRequirementsTags([]);
    }
  }, [showCreateChallenge]);

  // Fetch all grants (admin)
  useEffect(() => {
    if (activeTab === 'grants' && isAdmin) {
      setGrantsLoading(true);
      setGrantsError(null);
      getGrants()
        .then(res => setGrants(res.data?.grants || []))
        .catch(() => setGrantsError('Failed to load grants'))
        .finally(() => setGrantsLoading(false));
    }
  }, [activeTab, isAdmin]);

  // Fetch all challenges (admin)
  useEffect(() => {
    if (activeTab === 'challenges' && isAdmin) {
      setChallengesLoading(true);
      setChallengesError(null);
      getChallenges()
        .then(res => setChallenges(res.data?.challenges || []))
        .catch(() => setChallengesError('Failed to load challenges'))
        .finally(() => setChallengesLoading(false));
    }
  }, [activeTab, isAdmin]);

  // Fetch all users (admin)
  useEffect(() => {
    if (activeTab === 'users' && isAdmin) {
      setUsersLoading(true);
      setUsersError(null);
      getAllUsers()
        .then(res => setUsers(res.data?.users || []))
        .catch(() => setUsersError('Failed to load users'))
        .finally(() => setUsersLoading(false));
    }
  }, [activeTab, isAdmin]);

  // Fetch all announcements
  useEffect(() => {
    if (activeTab === 'announcements' && isAdmin) {
      setAnnouncementsLoading(true);
      setAnnouncementsError(null);
      getAnnouncements()
        .then(res => setAnnouncements(res.data?.announcements || []))
        .catch(() => setAnnouncementsError('Failed to load announcements'))
        .finally(() => setAnnouncementsLoading(false));
    }
  }, [activeTab, isAdmin]);

  const handleGrantStatusChange = async (grantId: string, newStatus: string) => {
    try {
      await updateGrantStatus(grantId, { status: newStatus });
      toast({ title: 'Grant status updated', description: `Status set to ${newStatus}` });
      // Refresh grants
      setGrantsLoading(true);
      getGrants()
        .then(res => setGrants(res.data?.grants || []))
        .catch(() => setGrantsError('Failed to load grants'))
        .finally(() => setGrantsLoading(false));
    } catch (err: any) {
      toast({ title: 'Update failed', description: err?.response?.data?.message || 'Please try again.', variant: 'destructive' });
    }
  };

  const handleCreateChallenge = async (data: any) => {
    setCreating(true);
    setCreateError(null);
    try {
      // Prepare payload (convert comma-separated fields to arrays)
      const payload = {
        ...data,
        prizes: prizesTags,
        sponsors: sponsorsTags,
        rules: rulesTags,
        submission_requirements: requirementsTags,
        max_participants: data.max_participants ? Number(data.max_participants) : undefined,
      };
      await createChallenge(payload);
      toast({ title: 'Challenge created', description: 'The challenge has been created.' });
      setShowCreateChallenge(false);
      createForm.reset();
      // Refresh challenges
      setChallengesLoading(true);
      getChallenges()
        .then(res => setChallenges(res.data?.challenges || []))
        .catch(() => setChallengesError('Failed to load challenges'))
        .finally(() => setChallengesLoading(false));
    } catch (err: any) {
      setCreateError(err?.response?.data?.message || 'Failed to create challenge');
    } finally {
      setCreating(false);
    }
  };

  // Open Set Winners modal and fetch participants
  const openWinnersModal = async (challenge: any) => {
    setWinnersModal({ challenge, loading: true, error: null, participants: [], selected: [] });
    try {
      const details = await getChallengeDetails(challenge._id);
      const participants = details.data?.participants || [];
      setWinnersModal({ challenge, loading: false, error: null, participants, selected: [] });
    } catch (err: any) {
      setWinnersModal({ challenge, loading: false, error: 'Failed to load participants', participants: [], selected: [] });
    }
  };

  // Submit winners
  const handleSetWinners = async () => {
    if (!winnersModal) return;
    setSettingWinners(true);
    setSetWinnersError(null);
    try {
      await updateChallenge(winnersModal.challenge._id + '/winners', { winners: winnersModal.selected });
      toast({ title: 'Winners set', description: 'Challenge winners have been updated.' });
      setWinnersModal(null);
      // Refresh challenges
      setChallengesLoading(true);
      getChallenges()
        .then(res => setChallenges(res.data?.challenges || []))
        .catch(() => setChallengesError('Failed to load challenges'))
        .finally(() => setChallengesLoading(false));
    } catch (err: any) {
      setSetWinnersError(err?.response?.data?.message || 'Failed to set winners');
    } finally {
      setSettingWinners(false);
    }
  };

  if (loading) return <div className="min-h-screen flex items-center justify-center">Loading...</div>;
  if (!isAdmin) return <div className="min-h-screen flex items-center justify-center text-red-600 font-bold">Access denied: Admins only</div>;

  return (
    <div className="min-h-screen bg-gradient-to-br from-orange-50 to-white flex flex-col items-center py-8 px-2 md:px-8">
      <button
        onClick={() => navigate('/')}
        className="flex items-center gap-2 self-start mb-4 ml-2 px-4 py-2 rounded-full bg-white/80 hover:bg-orange-50 text-amber-800 font-medium shadow border border-amber-100 transition-colors"
      >
        <ArrowLeft className="w-5 h-5" />
        Back to Home
      </button>
      <div className="w-full max-w-4xl bg-white rounded-2xl shadow-xl p-6">
        <h1 className="text-3xl font-bold mb-6 text-amber-800">Admin Dashboard</h1>
        {/* Analytics Section */}
        <div className="mb-8">
          {analyticsLoading ? (
            <div>Loading analytics...</div>
          ) : analyticsError ? (
            <div className="text-red-600">{analyticsError}</div>
          ) : analytics ? (
            <div className="w-full flex flex-col lg:flex-row gap-8 fade-in">
              {/* Bar Chart for Stats */}
              <div className="flex-1 bg-amber-50 rounded-2xl shadow p-4 flex flex-col items-center justify-center min-w-[260px] min-h-[300px]">
                <div className="flex items-center gap-2 mb-2">
                  <PieIcon className="text-amber-500" />
                  <span className="font-martian text-lg text-amber-800">Platform Stats</span>
                </div>
                {analytics.stats.totalUsers + analytics.stats.totalProjects + analytics.stats.totalChallenges + analytics.stats.totalGrants + analytics.stats.activeChallenges + analytics.stats.grantEligibleProjects === 0 ? (
                  <div className="flex flex-col items-center justify-center h-full py-8 text-amber-700 opacity-70">
                    <PieIcon className="w-10 h-10 mb-2" />
                    <span className="font-inter">No stats available yet.</span>
                  </div>
                ) : (
                  <ResponsiveContainer width="100%" height={220}>
                    <BarChart
                      data={[
                        { name: 'Users', value: analytics.stats.totalUsers },
                        { name: 'Projects', value: analytics.stats.totalProjects },
                        { name: 'Challenges', value: analytics.stats.totalChallenges },
                        { name: 'Grants', value: analytics.stats.totalGrants },
                        { name: 'Active Challenges', value: analytics.stats.activeChallenges },
                        { name: 'Grant-Eligible', value: analytics.stats.grantEligibleProjects },
                      ]}
                      margin={{ top: 10, right: 20, left: 0, bottom: 10 }}
                    >
                      <XAxis dataKey="name" tick={{ fontFamily: 'var(--font-inter)', fill: '#b45309', fontSize: 12 }} />
                      <YAxis tick={{ fontFamily: 'var(--font-inter)', fill: '#b45309', fontSize: 12 }} allowDecimals={false} />
                      <Tooltip cursor={{ fill: '#fde68a' }} />
                      <Bar dataKey="value" radius={[8, 8, 0, 0]} fill="#f59e42" />
                    </BarChart>
                  </ResponsiveContainer>
                )}
              </div>
              {/* Pie Charts for Breakdown */}
              <div className="flex-1 flex flex-col gap-6 min-w-[260px] min-h-[300px]">
                <div className="bg-white rounded-2xl shadow p-4 flex flex-col items-center justify-center h-full">
                  <div className="flex items-center gap-2 mb-2">
                    <Award className="text-amber-500" />
                    <span className="font-martian text-lg text-amber-800">Project Breakdown</span>
                  </div>
                  {(analytics.stats.totalProjects === 0 && analytics.stats.grantEligibleProjects === 0) ? (
                    <div className="flex flex-col items-center justify-center h-full py-8 text-amber-700 opacity-70">
                      <Award className="w-10 h-10 mb-2" />
                      <span className="font-inter">No project data yet.</span>
                    </div>
                  ) : (
                    <ResponsiveContainer width="100%" height={180}>
                      <PieChart>
                        <Pie
                          data={[
                            { name: 'Projects', value: analytics.stats.totalProjects },
                            { name: 'Grant-Eligible', value: analytics.stats.grantEligibleProjects },
                          ]}
                          dataKey="value"
                          nameKey="name"
                          cx="50%"
                          cy="50%"
                          outerRadius={60}
                          innerRadius={30}
                          fill="#f59e42"
                          label={({ name, percent }) => `${name} (${(percent * 100).toFixed(0)}%)`}
                        >
                          <Cell key="projects" fill="#fbbf24" />
                          <Cell key="grant-eligible" fill="#f59e42" />
                        </Pie>
                        <Legend verticalAlign="bottom" height={36} iconType="circle" />
                      </PieChart>
                    </ResponsiveContainer>
                  )}
              </div>
                <div className="bg-white rounded-2xl shadow p-4 flex flex-col items-center justify-center h-full">
                  <div className="flex items-center gap-2 mb-2">
                    <Activity className="text-amber-500" />
                    <span className="font-martian text-lg text-amber-800">Challenge Breakdown</span>
              </div>
                  {(analytics.stats.totalChallenges === 0 && analytics.stats.activeChallenges === 0) ? (
                    <div className="flex flex-col items-center justify-center h-full py-8 text-amber-700 opacity-70">
                      <Activity className="w-10 h-10 mb-2" />
                      <span className="font-inter">No challenge data yet.</span>
              </div>
                  ) : (
                    <ResponsiveContainer width="100%" height={180}>
                      <PieChart>
                        <Pie
                          data={[
                            { name: 'Challenges', value: analytics.stats.totalChallenges },
                            { name: 'Active', value: analytics.stats.activeChallenges },
                          ]}
                          dataKey="value"
                          nameKey="name"
                          cx="50%"
                          cy="50%"
                          outerRadius={60}
                          innerRadius={30}
                          fill="#f59e42"
                          label={({ name, percent }) => `${name} (${(percent * 100).toFixed(0)}%)`}
                        >
                          <Cell key="challenges" fill="#fbbf24" />
                          <Cell key="active" fill="#f59e42" />
                        </Pie>
                        <Legend verticalAlign="bottom" height={36} iconType="circle" />
                      </PieChart>
                    </ResponsiveContainer>
                  )}
              </div>
              </div>
            </div>
          ) : null}
          {/* Recent Activity */}
          {analytics && (
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mt-8 fade-in">
              <div className="bg-white border border-amber-100 rounded-lg p-4 min-h-[180px] flex flex-col">
                <div className="font-semibold mb-2 text-amber-800 flex items-center gap-2"><User className="w-4 h-4 text-amber-500" />Recent Users</div>
                {analytics.recentActivity.users.length === 0 ? (
                  <div className="flex flex-col items-center justify-center h-full py-6 text-amber-700 opacity-70">
                    <User className="w-8 h-8 mb-2" />
                    <span className="font-inter">No recent users yet.</span>
                  </div>
                ) : (
                <ul className="text-sm">
                  {analytics.recentActivity.users.map((user: any) => (
                      <li key={user._id} className="mb-2 flex items-center gap-2">
                        <span className="inline-block w-7 h-7 rounded-full bg-amber-100 flex items-center justify-center font-bold text-amber-700 font-martian">{user.name[0]}</span>
                        <span>{user.name} <span className="text-gray-500">(@{user.username})</span></span>
                        <span className="ml-auto text-xs text-gray-400">{new Date(user.joined_date).toLocaleDateString()}</span>
                      </li>
                  ))}
                </ul>
                )}
              </div>
              <div className="bg-white border border-amber-100 rounded-lg p-4 min-h-[180px] flex flex-col">
                <div className="font-semibold mb-2 text-amber-800 flex items-center gap-2"><Briefcase className="w-4 h-4 text-amber-500" />Recent Projects</div>
                {analytics.recentActivity.projects.length === 0 ? (
                  <div className="flex flex-col items-center justify-center h-full py-6 text-amber-700 opacity-70">
                    <Briefcase className="w-8 h-8 mb-2" />
                    <span className="font-inter">No recent projects yet.</span>
                  </div>
                ) : (
                <ul className="text-sm">
                  {analytics.recentActivity.projects.map((project: any) => (
                      <li key={project._id} className="mb-2 flex items-center gap-2">
                        <span className="inline-block w-7 h-7 rounded-full bg-orange-100 flex items-center justify-center font-bold text-orange-700 font-martian">{project.title[0]}</span>
                        <span>{project.title} <span className="text-gray-500">by {project.builder_id?.name || '-'}</span></span>
                      </li>
                  ))}
                </ul>
                )}
              </div>
            </div>
          )}
        </div>
        <div className="flex gap-4 mb-6">
          <Button variant={activeTab === 'grants' ? 'default' : 'outline'} onClick={() => setActiveTab('grants')}>Grants</Button>
          <Button variant={activeTab === 'challenges' ? 'default' : 'outline'} onClick={() => setActiveTab('challenges')}>Challenges</Button>
          <Button variant={activeTab === 'users' ? 'default' : 'outline'} onClick={() => setActiveTab('users')}>Users</Button>
          <Button variant={activeTab === 'announcements' ? 'default' : 'outline'} onClick={() => setActiveTab('announcements')}>Announcements</Button>
        </div>
        <div>
          {activeTab === 'grants' && (
            <div>
              <h2 className="text-xl font-semibold mb-4">Grants Management</h2>
              <div className="bg-amber-50 border border-amber-100 rounded-lg p-4 text-gray-600">
                {grantsLoading ? (
                  <div>Loading grants...</div>
                ) : grantsError ? (
                  <div className="text-red-600">{grantsError}</div>
                ) : grants.length === 0 ? (
                  <div>No grants found.</div>
                ) : (
                  <table className="w-full text-sm">
                    <thead>
                      <tr className="text-left border-b">
                        <th className="py-2 pr-2">Title</th>
                        <th className="py-2 pr-2">Applicant</th>
                        <th className="py-2 pr-2">Amount</th>
                        <th className="py-2 pr-2">Status</th>
                        <th className="py-2 pr-2">Actions</th>
                      </tr>
                    </thead>
                    <tbody>
                      {grants.map(grant => (
                        <tr key={grant._id} className="border-b hover:bg-amber-100/40">
                          <td className="py-2 pr-2">{grant.project_id?.title || '-'}</td>
                          <td className="py-2 pr-2">{grant.builder_id?.name || '-'}</td>
                          <td className="py-2 pr-2">{grant.amount ? `₹${grant.amount}` : '-'}</td>
                          <td className="py-2 pr-2 font-semibold">{grant.status}</td>
                          <td className="py-2 pr-2">
                            <select
                              value={grant.status}
                              onChange={e => handleGrantStatusChange(grant._id, e.target.value)}
                              className="border rounded px-2 py-1 mr-2"
                            >
                              <option value="applied">Applied</option>
                              <option value="approved">Approved</option>
                              <option value="rejected">Rejected</option>
                              <option value="pending">Pending</option>
                            </select>
                            <Button size="sm" variant="destructive" onClick={async () => {
                              if (window.confirm('Are you sure you want to delete this grant?')) {
                                try {
                                  await adminDeleteGrant(grant._id);
                                  setGrants(grants => grants.filter(g => g._id !== grant._id));
                                  toast({ title: 'Grant deleted', description: 'Grant has been deleted.' });
                                } catch {
                                  toast({ title: 'Delete failed', description: 'Could not delete grant.', variant: 'destructive' });
                                }
                              }
                            }}>Delete</Button>
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                )}
              </div>
            </div>
          )}
          {activeTab === 'challenges' && (
            <div>
              <h2 className="text-xl font-semibold mb-4">Challenges Management</h2>
              <div className="flex justify-end mb-4">
                <Button className="bg-amber-700 hover:bg-amber-800 text-white" onClick={() => setShowCreateChallenge(true)}>
                  + Create Challenge
                </Button>
              </div>
              <div className="bg-amber-50 border border-amber-100 rounded-lg p-4 text-gray-600">
                {challengesLoading ? (
                  <div>Loading challenges...</div>
                ) : challengesError ? (
                  <div className="text-red-600">{challengesError}</div>
                ) : challenges.length === 0 ? (
                  <div>No challenges found.</div>
                ) : (
                  <table className="w-full text-sm">
                    <thead>
                      <tr className="text-left border-b">
                        <th className="py-2 pr-2">Title</th>
                        <th className="py-2 pr-2">Theme</th>
                        <th className="py-2 pr-2">Start</th>
                        <th className="py-2 pr-2">End</th>
                        <th className="py-2 pr-2">Actions</th>
                      </tr>
                    </thead>
                    <tbody>
                      {challenges.map(challenge => (
                        <tr key={challenge._id} className="border-b hover:bg-amber-100/40">
                          <td className="py-2 pr-2">{challenge.title}</td>
                          <td className="py-2 pr-2">{challenge.theme || '-'}</td>
                          <td className="py-2 pr-2">{challenge.start_date ? new Date(challenge.start_date).toLocaleDateString() : '-'}</td>
                          <td className="py-2 pr-2">{challenge.end_date ? new Date(challenge.end_date).toLocaleDateString() : '-'}</td>
                          <td className="py-2 pr-2">
                            <Button size="sm" variant="outline" className="mr-2">Edit</Button>
                            <Button size="sm" variant="outline" onClick={() => openWinnersModal(challenge)}>Set Winners</Button>
                            <Button size="sm" variant="destructive" className="ml-2" onClick={async () => {
                              if (window.confirm('Are you sure you want to delete this challenge?')) {
                                try {
                                  await adminDeleteChallenge(challenge._id);
                                  setChallenges(challenges => challenges.filter(c => c._id !== challenge._id));
                                  toast({ title: 'Challenge deleted', description: 'Challenge has been deleted.' });
                                } catch {
                                  toast({ title: 'Delete failed', description: 'Could not delete challenge.', variant: 'destructive' });
                                }
                              }
                            }}>Delete</Button>
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                )}
              </div>
              {/* Placeholder for Create Challenge Modal */}
              {showCreateChallenge && (
                <div className="fixed inset-0 bg-black/30 flex items-center justify-center z-50">
                  <div className="bg-white rounded-xl shadow-lg p-0 min-w-[320px] max-w-lg w-full">
                    <div className="px-8 pt-8 pb-0 border-b border-amber-100">
                      <h3 className="text-lg font-bold mb-4">Create Challenge</h3>
                    </div>
                    <div className="px-8 py-4 max-h-[80vh] overflow-y-auto">
                      <form onSubmit={createForm.handleSubmit(handleCreateChallenge)} className="space-y-4">
                        <div>
                          <label className="block text-sm font-medium mb-1">Title *</label>
                          <input {...createForm.register('title', { required: true })} placeholder="Title" className="w-full border rounded px-3 py-2" />
                        </div>
                        <div>
                          <label className="block text-sm font-medium mb-1">Theme</label>
                          <input {...createForm.register('theme')} placeholder="Theme" className="w-full border rounded px-3 py-2" />
                        </div>
                        <div className="flex gap-2">
                          <div className="flex-1">
                            <label className="block text-sm font-medium mb-1">Start Date *</label>
                            <input {...createForm.register('start_date', { required: true })} type="date" placeholder="Start Date" className="w-full border rounded px-3 py-2" />
                          </div>
                          <div className="flex-1">
                            <label className="block text-sm font-medium mb-1">End Date *</label>
                            <input {...createForm.register('end_date', { required: true })} type="date" placeholder="End Date" className="w-full border rounded px-3 py-2" />
                          </div>
                        </div>
                        <div>
                          <label className="block text-sm font-medium mb-1">Prizes</label>
                          <TagInput value={prizesTags} onChange={setPrizesTags} placeholder="Add a prize and press Enter" />
                        </div>
                        <div>
                          <label className="block text-sm font-medium mb-1">Sponsors</label>
                          <TagInput value={sponsorsTags} onChange={setSponsorsTags} placeholder="Add a sponsor and press Enter" />
                        </div>
                        <div>
                          <label className="block text-sm font-medium mb-1">Rules</label>
                          <TagInput value={rulesTags} onChange={setRulesTags} placeholder="Add a rule and press Enter" />
                        </div>
                        <div>
                          <label className="block text-sm font-medium mb-1">Submission Requirements</label>
                          <TagInput value={requirementsTags} onChange={setRequirementsTags} placeholder="Add a requirement and press Enter" />
                        </div>
                        <div>
                          <label className="block text-sm font-medium mb-1">Max Participants</label>
                          <input {...createForm.register('max_participants')} type="number" min="1" placeholder="Max Participants" className="w-full border rounded px-3 py-2" />
                        </div>
                        {createError && <div className="text-red-600 text-sm">{createError}</div>}
                      </form>
                    </div>
                    <div className="px-8 pb-6 pt-2 flex gap-2 justify-end border-t border-amber-100">
                      <Button type="button" variant="outline" onClick={() => setShowCreateChallenge(false)} disabled={creating}>Cancel</Button>
                      <Button type="submit" className="bg-amber-700 hover:bg-amber-800 text-white" disabled={creating}>{creating ? 'Creating...' : 'Create'}</Button>
                    </div>
                  </div>
                </div>
              )}
            </div>
          )}
          {activeTab === 'users' && (
            <div>
              <h2 className="text-xl font-semibold mb-4">User Management</h2>
              <div className="bg-amber-50 border border-amber-100 rounded-lg p-4 text-gray-600">
                {usersLoading ? (
                  <div>Loading users...</div>
                ) : usersError ? (
                  <div className="text-red-600">{usersError}</div>
                ) : users.length === 0 ? (
                  <div>No users found.</div>
                ) : (
                  <table className="w-full text-sm">
                    <thead>
                      <tr className="text-left border-b">
                        <th className="py-2 pr-2">Name</th>
                        <th className="py-2 pr-2">Username</th>
                        <th className="py-2 pr-2">Email</th>
                        <th className="py-2 pr-2">Admin</th>
                        <th className="py-2 pr-2">Verified</th>
                        <th className="py-2 pr-2">Actions</th>
                      </tr>
                    </thead>
                    <tbody>
                      {users.map(user => (
                        <tr key={user._id} className="border-b hover:bg-amber-100/40">
                          <td className="py-2 pr-2">{user.name}</td>
                          <td className="py-2 pr-2">{user.username}</td>
                          <td className="py-2 pr-2">{user.email}</td>
                          <td className="py-2 pr-2">
                            <input type="checkbox" checked={user.is_admin} onChange={async e => {
                              try {
                                await updateUserRole(user._id, { is_admin: e.target.checked });
                                setUsers(users => users.map(u => u._id === user._id ? { ...u, is_admin: e.target.checked } : u));
                                toast({ title: 'User updated', description: 'Admin status updated.' });
                              } catch {
                                toast({ title: 'Update failed', description: 'Could not update admin status.', variant: 'destructive' });
                              }
                            }} />
                          </td>
                          <td className="py-2 pr-2">
                            <input type="checkbox" checked={user.is_verified} onChange={async e => {
                              try {
                                await updateUserRole(user._id, { is_verified: e.target.checked });
                                setUsers(users => users.map(u => u._id === user._id ? { ...u, is_verified: e.target.checked } : u));
                                toast({ title: 'User updated', description: 'Verification status updated.' });
                              } catch {
                                toast({ title: 'Update failed', description: 'Could not update verification status.', variant: 'destructive' });
                              }
                            }} />
                          </td>
                          <td className="py-2 pr-2">
                            <Button size="sm" variant="destructive" onClick={async () => {
                              if (window.confirm('Are you sure you want to delete this user?')) {
                                try {
                                  await apiDeleteUser(user._id);
                                  setUsers(users => users.filter(u => u._id !== user._id));
                                  toast({ title: 'User deleted', description: 'User has been deleted.' });
                                } catch {
                                  toast({ title: 'Delete failed', description: 'Could not delete user.', variant: 'destructive' });
                                }
                              }
                            }}>Delete</Button>
                          </td>
                        </tr>
                      ))}
                    </tbody>
                  </table>
                )}
              </div>
            </div>
          )}
          {activeTab === 'announcements' && (
            <div>
              <h2 className="text-xl font-semibold mb-4">Announcements</h2>
              <div className="flex justify-end mb-4">
                <Button className="bg-amber-700 hover:bg-amber-800 text-white" onClick={() => setShowCreateAnnouncement(true)}>
                  + New Announcement
                </Button>
              </div>
              <div className="bg-amber-50 border border-amber-100 rounded-lg p-4 text-gray-600">
                {announcementsLoading ? (
                  <div>Loading announcements...</div>
                ) : announcementsError ? (
                  <div className="text-red-600">{announcementsError}</div>
                ) : announcements.length === 0 ? (
                  <div>No announcements found.</div>
                ) : (
                  <ul className="space-y-4">
                    {announcements.map(a => (
                      <li key={a._id} className="bg-white rounded-lg shadow p-4 flex flex-col md:flex-row md:items-center md:justify-between">
                        <div>
                          <div className="font-bold text-amber-800 text-lg">{a.title}</div>
                          <div className="text-gray-700 mt-1 whitespace-pre-line">{a.message}</div>
                          <div className="text-xs text-gray-500 mt-2">Posted by {a.created_by?.name || 'Admin'} on {new Date(a.created_at).toLocaleString()}</div>
                        </div>
                        <Button size="sm" variant="destructive" className="mt-2 md:mt-0" onClick={async () => {
                          if (window.confirm('Delete this announcement?')) {
                            try {
                              await deleteAnnouncement(a._id);
                              setAnnouncements(announcements => announcements.filter(x => x._id !== a._id));
                              toast({ title: 'Announcement deleted' });
                            } catch {
                              toast({ title: 'Delete failed', description: 'Could not delete announcement.', variant: 'destructive' });
                            }
                          }
                        }}>Delete</Button>
                      </li>
                    ))}
                  </ul>
                )}
              </div>
              {/* Create Announcement Modal */}
              {showCreateAnnouncement && (
                <div className="fixed inset-0 bg-black/30 flex items-center justify-center z-50">
                  <div className="bg-white rounded-xl shadow-lg p-0 min-w-[320px] max-w-lg w-full">
                    <div className="px-8 pt-8 pb-0 border-b border-amber-100">
                      <h3 className="text-lg font-bold mb-4">New Announcement</h3>
                    </div>
                    <div className="px-8 py-4 max-h-[80vh] overflow-y-auto">
                      <form onSubmit={async e => {
                        e.preventDefault();
                        const form = e.target as HTMLFormElement;
                        const title = (form.elements.namedItem('title') as HTMLInputElement).value;
                        const message = (form.elements.namedItem('message') as HTMLTextAreaElement).value;
                        setCreatingAnnouncement(true);
                        setCreateAnnouncementError(null);
                        try {
                          const res = await createAnnouncement({ title, message });
                          setAnnouncements(announcements => [res.data.announcement, ...announcements]);
                          setShowCreateAnnouncement(false);
                          toast({ title: 'Announcement posted' });
                        } catch (err: any) {
                          setCreateAnnouncementError(err?.response?.data?.message || 'Failed to post announcement');
                        } finally {
                          setCreatingAnnouncement(false);
                        }
                      }} className="space-y-4">
                        <div>
                          <label className="block text-sm font-medium mb-1">Title *</label>
                          <input name="title" required maxLength={200} className="w-full border rounded px-3 py-2" />
                        </div>
                        <div>
                          <label className="block text-sm font-medium mb-1">Message *</label>
                          <textarea name="message" required maxLength={2000} rows={5} className="w-full border rounded px-3 py-2" />
                        </div>
                        {createAnnouncementError && <div className="text-red-600 text-sm">{createAnnouncementError}</div>}
                      </form>
                    </div>
                    <div className="px-8 pb-6 pt-2 flex gap-2 justify-end border-t border-amber-100">
                      <Button type="button" variant="outline" onClick={() => setShowCreateAnnouncement(false)} disabled={creatingAnnouncement}>Cancel</Button>
                      <Button type="submit" className="bg-amber-700 hover:bg-amber-800 text-white" disabled={creatingAnnouncement}>{creatingAnnouncement ? 'Posting...' : 'Post'}</Button>
                    </div>
                  </div>
                </div>
              )}
            </div>
          )}
        </div>
      </div>
      {/* Set Winners Modal */}
      {winnersModal && (
        <div className="fixed inset-0 bg-black/30 flex items-center justify-center z-50">
          <div className="bg-white rounded-xl shadow-lg p-0 min-w-[320px] max-w-lg w-full">
            <div className="px-8 pt-8 pb-0 border-b border-amber-100">
              <h3 className="text-lg font-bold mb-4">Set Winners</h3>
            </div>
            <div className="px-8 py-4 max-h-[80vh] overflow-y-auto">
              {winnersModal.loading ? (
                <div>Loading participants...</div>
              ) : winnersModal.error ? (
                <div className="text-red-600">{winnersModal.error}</div>
              ) : winnersModal.participants.length === 0 ? (
                <div>No participants found.</div>
              ) : (
                <form onSubmit={e => { e.preventDefault(); handleSetWinners(); }} className="space-y-4">
                  <div>
                    <label className="block text-sm font-medium mb-2">Select Winner(s):</label>
                    <div className="flex flex-col gap-2">
                      {winnersModal.participants.map((p: any) => (
                        <label key={p.user_id} className="flex items-center gap-2 cursor-pointer">
                          <input
                            type="checkbox"
                            checked={winnersModal.selected.includes(p.user_id)}
                            onChange={e => {
                              setWinnersModal(wm => wm && {
                                ...wm,
                                selected: e.target.checked
                                  ? [...wm.selected, p.user_id]
                                  : wm.selected.filter(id => id !== p.user_id)
                              });
                            }}
                          />
                          <span>{p.name} (@{p.username})</span>
                        </label>
                      ))}
                    </div>
                  </div>
                  {setWinnersError && <div className="text-red-600 text-sm">{setWinnersError}</div>}
                  <div className="flex gap-2 justify-end mt-4">
                    <Button type="button" variant="outline" onClick={() => setWinnersModal(null)} disabled={settingWinners}>Cancel</Button>
                    <Button type="submit" className="bg-amber-700 hover:bg-amber-800 text-white" disabled={settingWinners || winnersModal.selected.length === 0}>{settingWinners ? 'Saving...' : 'Set Winners'}</Button>
                  </div>
                </form>
              )}
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default Admin;
</file>

<file path="src/pages/Profile.tsx">
import { useEffect, useState } from 'react';
import { getUserProfile, updateUserProfile, uploadFile, deleteUserProfile } from '@/lib/api';
import { useToast } from '@/hooks/use-toast';
import { Card, CardHeader, CardTitle, CardContent, CardFooter } from '@/components/ui/card';
import { Button } from '@/components/ui/button';
import { Dialog, DialogTrigger, DialogContent, DialogHeader as DialogHeaderUI, DialogTitle, DialogFooter as DialogFooterUI } from '@/components/ui/dialog';
import { Form, FormField, FormItem, FormLabel, FormControl, FormMessage } from '@/components/ui/form';
import { Input } from '@/components/ui/input';
import { Textarea } from '@/components/ui/textarea';
import { Avatar, AvatarImage, AvatarFallback } from '@/components/ui/avatar';
import { useForm } from 'react-hook-form';
import { Github, Linkedin, Twitter, MapPin, Globe, User2, Star, Heart, Mail, CheckCircle2, ArrowLeft } from 'lucide-react';
import { useNavigate } from 'react-router-dom';
import Navbar from '../components/Navbar';

const SectionHeader = ({ icon: Icon, children }: { icon: any; children: React.ReactNode }) => (
  <div className="flex items-center gap-2 mb-2">
    <Icon className="w-5 h-5 text-amber-600" />
    <h2 className="text-lg font-semibold text-gray-800 font-inter">{children}</h2>
  </div>
);

const Profile = () => {
  const navigate = useNavigate();
  const [profile, setProfile] = useState<any>(null);
  const [loading, setLoading] = useState(true);
  const [editOpen, setEditOpen] = useState(false);
  const [deleteOpen, setDeleteOpen] = useState(false);
  const [deleting, setDeleting] = useState(false);
  const { toast } = useToast();
  const [uploading, setUploading] = useState(false);
  const [uploadError, setUploadError] = useState<string | null>(null);
  const [previewUrl, setPreviewUrl] = useState<string | null>(null);
  const [coverUploading, setCoverUploading] = useState(false);
  const [coverUploadError, setCoverUploadError] = useState<string | null>(null);
  const [coverPreviewUrl, setCoverPreviewUrl] = useState<string | null>(null);

  useEffect(() => {
    const fetchProfile = async () => {
      setLoading(true);
      try {
        const res = await getUserProfile();
        setProfile(res.data);
      } catch (err: any) {
        toast({ title: 'Failed to load profile', description: err?.response?.data?.message || 'Please try again.', variant: 'destructive' });
      } finally {
        setLoading(false);
      }
    };
    fetchProfile();
  }, [toast]);

  // Form setup
  const form = useForm({
    defaultValues: {
      name: profile?.name || '',
      bio: profile?.bio || '',
      location: profile?.location || '',
      timezone: profile?.timezone || '',
      skills: profile?.skills?.join(', ') || '',
      interests: profile?.interests?.join(', ') || '',
      github: profile?.social_links?.github || '',
      linkedin: profile?.social_links?.linkedin || '',
      twitter: profile?.social_links?.twitter || '',
      profile_picture: profile?.profile_picture || '',
      cover_image: profile?.cover_image || '',
    },
    values: profile ? undefined : {},
  });

  useEffect(() => {
    if (profile) {
      form.reset({
        name: profile.name || '',
        bio: profile.bio || '',
        location: profile.location || '',
        timezone: profile.timezone || '',
        skills: profile.skills?.join(', ') || '',
        interests: profile.interests?.join(', ') || '',
        github: profile.social_links?.github || '',
        linkedin: profile.social_links?.linkedin || '',
        twitter: profile.social_links?.twitter || '',
        profile_picture: profile.profile_picture || '',
        cover_image: profile.cover_image || '',
      });
      setPreviewUrl(profile.profile_picture || null);
      setCoverPreviewUrl(profile.cover_image || null);
    }
  }, [profile]);

  const onSubmit = async (data: any) => {
    try {
      const updateData = {
        ...data,
        skills: data.skills.split(',').map((s: string) => s.trim()).filter(Boolean),
        interests: data.interests.split(',').map((s: string) => s.trim()).filter(Boolean),
        social_links: {
          github: data.github,
          linkedin: data.linkedin,
          twitter: data.twitter,
        },
      };
      await updateUserProfile(updateData);
      toast({ title: 'Profile updated', description: 'Your profile has been updated.' });
      setEditOpen(false);
      // Refresh profile
      const res = await getUserProfile();
      setProfile(res.data);
    } catch (err: any) {
      toast({ title: 'Update failed', description: err?.response?.data?.message || 'Please try again.', variant: 'destructive' });
    }
  };

  const handleDelete = async () => {
    setDeleting(true);
    try {
      await deleteUserProfile();
      toast({ title: 'Profile deleted', description: 'Your profile has been deleted.' });
      // Log out and redirect
      localStorage.removeItem('token');
      window.location.href = '/';
    } catch (err: any) {
      toast({ title: 'Delete failed', description: err?.response?.data?.message || 'Please try again.', variant: 'destructive' });
    } finally {
      setDeleting(false);
      setDeleteOpen(false);
    }
  };

  const handleFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0];
    if (!file) return;
    setUploading(true);
    setUploadError(null);
    try {
      // Show local preview
      setPreviewUrl(URL.createObjectURL(file));
      const res = await uploadFile(file, 'profile-picture');
      const url = res.data?.image?.url;
      if (url) {
        form.setValue('profile_picture', url);
        setPreviewUrl(url);
      } else {
        setUploadError('Failed to upload image.');
      }
    } catch (err: any) {
      setUploadError('Failed to upload image.');
    } finally {
      setUploading(false);
    }
  };

  const handleCoverFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {
    const file = e.target.files?.[0];
    if (!file) return;
    setCoverUploading(true);
    setCoverUploadError(null);
    try {
      setCoverPreviewUrl(URL.createObjectURL(file));
      const res = await uploadFile(file, 'cover-image');
      const url = res.data?.image?.url;
      if (url) {
        form.setValue('cover_image', url);
        setCoverPreviewUrl(url);
      } else {
        setCoverUploadError('Failed to upload image.');
      }
    } catch (err: any) {
      setCoverUploadError('Failed to upload image.');
    } finally {
      setCoverUploading(false);
    }
  };

  if (loading) {
    return <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-white">Loading profile...</div>;
  }
  if (!profile) {
    return <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-orange-50 to-white">No profile data found.</div>;
  }

  return (
    <div className="min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-orange-50 to-white px-2 py-8 md:px-6 md:py-16">
      <button
        onClick={() => navigate('/')}
        className="flex items-center gap-2 self-start mb-4 ml-2 px-4 py-2 rounded-full bg-white/80 hover:bg-orange-50 text-amber-800 font-medium shadow border border-amber-100 transition-colors"
      >
        <ArrowLeft className="w-5 h-5" />
        Back to Home
      </button>
      <Card className="relative w-full max-w-2xl shadow-xl border-0 rounded-3xl bg-white/90 animate-fade-in-up overflow-hidden">
        {/* Banner/Cover */}
        <div className="h-32 md:h-40 w-full bg-gradient-to-r from-amber-200 to-orange-100 relative flex items-end justify-center">
          {/* Cover image overlay */}
          {profile.cover_image && (
            <img
              src={profile.cover_image}
              alt="Cover"
              className="absolute inset-0 w-full h-full object-cover rounded-t-3xl z-0"
              style={{ opacity: 0.85 }}
            />
          )}
          <div className="absolute left-1/2 -bottom-16 -translate-x-1/2 z-10">
            <Avatar className="w-32 h-32 border-4 border-white shadow-lg bg-white">
              {profile.profile_picture ? (
                <AvatarImage src={profile.profile_picture} alt={profile.name} />
              ) : (
                <AvatarFallback className="text-3xl">{profile.name ? profile.name[0] : '?'}</AvatarFallback>
              )}
            </Avatar>
          </div>
        </div>
        <CardHeader className="pt-20 pb-4 flex flex-col items-center bg-white/80 border-b border-gray-100">
          <CardTitle className="text-3xl font-bold text-gray-900 font-martian mb-1 flex items-center gap-2">
            {profile.name}
            {profile.is_verified && (
              <span className="ml-2 flex items-center gap-1 px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded-full font-inter"><CheckCircle2 className="w-4 h-4" />Verified</span>
            )}
          </CardTitle>
          <p className="text-base text-gray-500 font-inter flex items-center gap-1"><User2 className="w-4 h-4" />@{profile.username}</p>
          <p className="text-sm text-gray-400 font-inter mt-1 flex items-center gap-1"><Mail className="w-4 h-4" />{profile.email}</p>
          <p className="text-sm text-gray-400 font-inter mt-1">Joined {profile.joined_date ? new Date(profile.joined_date).toLocaleDateString() : ''}</p>
          {profile.portfolio_slug && (
            <a
              href={`/${profile.portfolio_slug}`}
              className="text-amber-700 hover:underline font-inter text-sm mt-1"
              target="_blank"
              rel="noopener noreferrer"
            >
              Portfolio
            </a>
          )}
          {/* Project Actions */}
          <div className="flex flex-col sm:flex-row gap-4 justify-center items-center mt-6">
            <Button className="bg-amber-800 hover:bg-amber-900 text-white px-8 py-3 text-base font-medium rounded-full font-inter" onClick={() => navigate('/projects/create')}>
              Add a Project
            </Button>
            <Button variant="ghost" className="text-gray-700 hover:text-gray-900 px-8 py-3 text-base font-medium font-inter" onClick={() => navigate('/projects')}>
              Go to Projects
            </Button>
            <Button variant="ghost" className="text-gray-700 hover:text-gray-900 px-8 py-3 text-base font-medium font-inter" onClick={() => navigate('/grants')}>
              Go to Grants
            </Button>
          </div>
        </CardHeader>
        <CardContent className="space-y-8 pt-8 pb-4 px-6 bg-white/70">
          {/* Bio */}
          <div className="mb-2">
            <SectionHeader icon={Star}>Bio</SectionHeader>
            <div className="rounded-xl bg-orange-50/60 px-4 py-3 text-gray-700 font-inter min-h-[48px]">
              {profile.bio ? profile.bio : <span className="text-gray-400">No bio provided.</span>}
            </div>
          </div>
          {/* Details */}
          <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <SectionHeader icon={MapPin}>Location</SectionHeader>
              <div className="rounded-lg bg-gray-50 px-3 py-2 text-gray-800 font-inter min-h-[32px]">
                {profile.location || <span className="text-gray-400">Not specified</span>}
              </div>
            </div>
            <div>
              <SectionHeader icon={Globe}>Timezone</SectionHeader>
              <div className="rounded-lg bg-gray-50 px-3 py-2 text-gray-800 font-inter min-h-[32px]">
                {profile.timezone || <span className="text-gray-400">Not specified</span>}
              </div>
            </div>
          </div>
          {/* Skills & Interests */}
          <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <SectionHeader icon={Star}>Skills</SectionHeader>
              <div className="rounded-xl bg-amber-50/60 border border-amber-100 px-3 py-3 min-h-[48px] flex flex-wrap gap-2 items-start">
                {profile.skills && profile.skills.length > 0 ? (
                  profile.skills.map((skill: string, idx: number) => (
                    <span key={skill + idx} className="bg-amber-100 text-amber-800 px-3 py-1 rounded-full text-xs font-inter shadow-sm border border-amber-200 whitespace-nowrap">{skill}</span>
                  ))
                ) : (
                  <span className="text-gray-400">No skills listed</span>
                )}
              </div>
            </div>
            <div>
              <SectionHeader icon={Heart}>Interests</SectionHeader>
              <div className="rounded-xl bg-amber-50/60 border border-amber-100 px-3 py-3 min-h-[48px] flex flex-wrap gap-2 items-start">
                {profile.interests && profile.interests.length > 0 ? (
                  profile.interests.map((interest: string, idx: number) => (
                    <span key={interest + idx} className="bg-amber-100 text-amber-800 px-3 py-1 rounded-full text-xs font-inter shadow-sm border border-amber-200 whitespace-nowrap">{interest}</span>
                  ))
                ) : (
                  <span className="text-gray-400">No interests listed</span>
                )}
              </div>
            </div>
          </div>
          {/* Social Links */}
          <div>
            <SectionHeader icon={User2}>Social Links</SectionHeader>
            <div className="flex flex-wrap gap-4 items-center min-h-[32px]">
              {profile.social_links?.github && (
                <a
                  href={profile.social_links.github}
                  target="_blank"
                  rel="noopener noreferrer"
                  className="group flex items-center gap-1 text-gray-700 hover:text-black transition-colors"
                  aria-label="GitHub"
                  title="GitHub"
                >
                  <Github className="w-5 h-5 group-hover:text-[#333] group-hover:scale-110 transition-transform" />
                  <span className="sr-only">GitHub</span>
                </a>
              )}
              {profile.social_links?.linkedin && (
                <a
                  href={profile.social_links.linkedin}
                  target="_blank"
                  rel="noopener noreferrer"
                  className="group flex items-center gap-1 text-gray-700 hover:text-[#0A66C2] transition-colors"
                  aria-label="LinkedIn"
                  title="LinkedIn"
                >
                  <Linkedin className="w-5 h-5 group-hover:text-[#0A66C2] group-hover:scale-110 transition-transform" />
                  <span className="sr-only">LinkedIn</span>
                </a>
              )}
              {profile.social_links?.twitter && (
                <a
                  href={profile.social_links.twitter}
                  target="_blank"
                  rel="noopener noreferrer"
                  className="group flex items-center gap-1 text-gray-700 hover:text-[#1DA1F2] transition-colors"
                  aria-label="Twitter"
                  title="Twitter"
                >
                  <Twitter className="w-5 h-5 group-hover:text-[#1DA1F2] group-hover:scale-110 transition-transform" />
                  <span className="sr-only">Twitter</span>
                </a>
              )}
              {!(profile.social_links?.github || profile.social_links?.linkedin || profile.social_links?.twitter) && (
                <span className="text-gray-400 text-sm">No social links</span>
              )}
            </div>
          </div>
        </CardContent>
        <CardFooter className="flex flex-col md:flex-row gap-3 justify-end bg-white/80 border-t border-gray-100 px-6 py-4">
          <Dialog open={editOpen} onOpenChange={setEditOpen}>
            <DialogTrigger asChild>
              <Button variant="default" className="bg-amber-700 hover:bg-amber-800 text-white font-inter rounded-full shadow-md px-6 py-2">Edit Profile</Button>
            </DialogTrigger>
            <DialogContent className="max-w-lg rounded-2xl p-0 overflow-hidden">
              <DialogHeaderUI className="bg-amber-50 px-6 py-4 border-b border-amber-100">
                <DialogTitle className="text-xl font-bold text-amber-900">Edit Profile</DialogTitle>
              </DialogHeaderUI>
              <div className="bg-white max-h-[80vh] overflow-y-auto px-6 py-6">
                <Form {...form}>
                  <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-4">
                    <FormField name="name" control={form.control} render={({ field }) => (
                      <FormItem>
                        <FormLabel>Name</FormLabel>
                        <FormControl><Input {...field} /></FormControl>
                        <FormMessage />
                      </FormItem>
                    )} />
                    <FormField name="bio" control={form.control} render={({ field }) => (
                      <FormItem>
                        <FormLabel>Bio</FormLabel>
                        <FormControl><Textarea {...field} /></FormControl>
                        <FormMessage />
                      </FormItem>
                    )} />
                    <FormField name="location" control={form.control} render={({ field }) => (
                      <FormItem>
                        <FormLabel>Location</FormLabel>
                        <FormControl><Input {...field} /></FormControl>
                        <FormMessage />
                      </FormItem>
                    )} />
                    <FormField name="timezone" control={form.control} render={({ field }) => (
                      <FormItem>
                        <FormLabel>Timezone</FormLabel>
                        <FormControl><Input {...field} /></FormControl>
                        <FormMessage />
                      </FormItem>
                    )} />
                    <FormField name="skills" control={form.control} render={({ field }) => (
                      <FormItem>
                        <FormLabel>Skills (comma separated)</FormLabel>
                        <FormControl><Input {...field} /></FormControl>
                        <FormMessage />
                      </FormItem>
                    )} />
                    <FormField name="interests" control={form.control} render={({ field }) => (
                      <FormItem>
                        <FormLabel>Interests (comma separated)</FormLabel>
                        <FormControl><Input {...field} /></FormControl>
                        <FormMessage />
                      </FormItem>
                    )} />
                    <FormField name="github" control={form.control} render={({ field }) => (
                      <FormItem>
                        <FormLabel>GitHub</FormLabel>
                        <FormControl><Input {...field} /></FormControl>
                        <FormMessage />
                      </FormItem>
                    )} />
                    <FormField name="linkedin" control={form.control} render={({ field }) => (
                      <FormItem>
                        <FormLabel>LinkedIn</FormLabel>
                        <FormControl><Input {...field} /></FormControl>
                        <FormMessage />
                      </FormItem>
                    )} />
                    <FormField name="twitter" control={form.control} render={({ field }) => (
                      <FormItem>
                        <FormLabel>Twitter</FormLabel>
                        <FormControl><Input {...field} /></FormControl>
                        <FormMessage />
                      </FormItem>
                    )} />
                    {/* Profile picture upload */}
                    <div className="flex flex-col gap-2">
                      <label className="font-medium text-sm">Profile Picture</label>
                      <div className="flex items-center gap-4">
                        <Avatar className="w-16 h-16 border-2 border-amber-200 bg-white">
                          {previewUrl ? (
                            <AvatarImage src={previewUrl} alt="Profile preview" />
                          ) : (
                            <AvatarFallback className="text-xl">{form.watch('name')?.[0] || '?'}</AvatarFallback>
                          )}
                        </Avatar>
                        <input
                          type="file"
                          accept="image/*"
                          onChange={handleFileChange}
                          className="block text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100"
                          disabled={uploading}
                        />
                      </div>
                      {uploading && <span className="text-xs text-amber-600">Uploading...</span>}
                      {uploadError && <span className="text-xs text-red-600">{uploadError}</span>}
                    </div>
                    {/* Cover image upload */}
                    <div className="flex flex-col gap-2 mt-4">
                      <label className="font-medium text-sm">Cover Image</label>
                      <div className="flex items-center gap-4">
                        <div className="w-32 h-16 rounded-xl overflow-hidden border-2 border-amber-200 bg-white flex items-center justify-center">
                          {coverPreviewUrl ? (
                            <img src={coverPreviewUrl} alt="Cover preview" className="object-cover w-full h-full" />
                          ) : (
                            <span className="text-xs text-gray-400">No cover</span>
                          )}
                        </div>
                        <input
                          type="file"
                          accept="image/*"
                          onChange={handleCoverFileChange}
                          className="block text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-700 hover:file:bg-amber-100"
                          disabled={coverUploading}
                        />
                      </div>
                      {coverUploading && <span className="text-xs text-amber-600">Uploading...</span>}
                      {coverUploadError && <span className="text-xs text-red-600">{coverUploadError}</span>}
                    </div>
                    <DialogFooterUI className="gap-2 mt-4 flex justify-end">
                      <Button type="submit" variant="default" className="bg-amber-700 hover:bg-amber-800 text-white font-inter rounded-full px-6 py-2">Save</Button>
                      <Button type="button" variant="ghost" onClick={() => setEditOpen(false)} className="rounded-full">Cancel</Button>
                    </DialogFooterUI>
                  </form>
                </Form>
              </div>
            </DialogContent>
          </Dialog>
          <Dialog open={deleteOpen} onOpenChange={setDeleteOpen}>
            <DialogTrigger asChild>
              <Button variant="destructive" className="rounded-full shadow-md px-6 py-2">Delete Profile</Button>
            </DialogTrigger>
            <DialogContent className="max-w-md rounded-2xl p-0 overflow-hidden">
              <DialogHeaderUI className="bg-red-50 px-6 py-4 border-b border-red-100">
                <DialogTitle className="text-xl font-bold text-red-900">Delete Profile</DialogTitle>
              </DialogHeaderUI>
              <div className="px-6 py-6 bg-white">
                <p className="text-sm text-gray-600 mb-4">Are you sure you want to delete your profile? This action cannot be undone.</p>
                <DialogFooterUI className="gap-2 flex justify-end">
                  <Button variant="destructive" onClick={handleDelete} className="rounded-full px-6 py-2" disabled={deleting}>{deleting ? 'Deleting...' : 'Delete'}</Button>
                  <Button variant="ghost" onClick={() => setDeleteOpen(false)} className="rounded-full">Cancel</Button>
                </DialogFooterUI>
              </div>
            </DialogContent>
          </Dialog>
        </CardFooter>
      </Card>
      <style>{`
        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in-up {
          animation: fade-in-up 0.8s cubic-bezier(0.4,0,0.2,1) both;
        }
      `}</style>
    </div>
  );
};

export default Profile;
</file>

<file path="src/pages/ProfileSetup.tsx">
import React, { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import { useQuery, useQueryClient } from '@tanstack/react-query';
import { useForm, useFieldArray, Controller } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import * as z from 'zod';

import { getUserProfile, updateUserProfile, uploadFile } from '../lib/api';
import { useToast } from '@/hooks/use-toast';
import Navbar from '@/components/Navbar';
import { Button } from '@/components/ui/button';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Input } from '@/components/ui/input';
import { Textarea } from '@/components/ui/textarea';
import { Label } from '@/components/ui/label';
import { Form, FormControl, FormDescription, FormField, FormItem, FormLabel, FormMessage } from '@/components/ui/form';
import { Skeleton } from '@/components/ui/skeleton';
import { Eye, Plus, Trash2, UploadCloud, X, Loader2 } from 'lucide-react';
import { Badge } from '@/components/ui/badge';

const MAX_PHOTOS = 6;

// --- Reusable TagInput Component ---
interface TagInputProps { value?: string[]; onChange: (tags: string[]) => void; placeholder: string; }
const TagInput: React.FC<TagInputProps> = ({ value = [], onChange, placeholder }) => {
    const [inputValue, setInputValue] = useState('');
    const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {
        if ((e.key === 'Enter' || e.key === ',') && inputValue.trim()) {
            e.preventDefault();
            const newTag = inputValue.trim();
            if (!value.includes(newTag)) {
                onChange([...value, newTag]);
            }
            setInputValue('');
        } else if (e.key === 'Backspace' && !inputValue && value.length > 0) {
            onChange(value.slice(0, -1));
        }
    };
    const removeTag = (tagToRemove: string) => {
        onChange(value.filter(tag => tag !== tagToRemove));
    };
    return (
        <div className="flex flex-wrap items-center gap-2 border rounded-md p-2 bg-background min-h-[40px]">
            {value.map((tag) => (
                <Badge key={tag} variant="secondary" className="font-inter">
                    {tag}
                    <button type="button" onClick={() => removeTag(tag)} className="ml-1.5 hover:text-red-600 focus:outline-none"><X className="w-3 h-3" /></button>
                </Badge>
            ))}
            <input
                type="text"
                value={inputValue}
                onChange={(e) => setInputValue(e.target.value)}
                onKeyDown={handleKeyDown}
                placeholder={placeholder}
                className="flex-grow bg-transparent outline-none text-sm"
            />
        </div>
    );
};

// --- NEW: Dedicated Image Uploader Component ---
interface ImageUploaderProps {
    existingPhotos: string[];
    onRemoveExisting: (url: string) => void;
    newPhotos: File[];
    onRemoveNew: (index: number) => void;
    onAddPhotos: (files: File[]) => void;
}
const ImageUploader: React.FC<ImageUploaderProps> = ({ existingPhotos, onRemoveExisting, newPhotos, onRemoveNew, onAddPhotos }) => {
    const totalPhotos = existingPhotos.length + newPhotos.length;
    const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {
        if (e.target.files) {
            const files = Array.from(e.target.files);
            if (totalPhotos + files.length > MAX_PHOTOS) {
                alert(`You can only upload a maximum of ${MAX_PHOTOS} photos.`);
                return;
            }
            onAddPhotos(files);
        }
    };
    return (
        <FormItem>
            <FormLabel>Your Photos ({totalPhotos}/{MAX_PHOTOS})</FormLabel>
            <FormDescription>Showcase your personality or work with a few photos.</FormDescription>
            <div className="flex flex-wrap gap-4 pt-2">
                {existingPhotos.map(url => (
                    <div key={url} className="relative w-28 h-28 group">
                        <img src={url} className="w-full h-full object-cover rounded-lg border" alt="Existing"/>
                        <Button type="button" variant="destructive" size="icon" className="absolute -top-2 -right-2 w-6 h-6 rounded-full opacity-0 group-hover:opacity-100 transition-opacity" onClick={() => onRemoveExisting(url)}><X className="w-4 h-4"/></Button>
                    </div>
                ))}
                {newPhotos.map((file, i) => (
                    <div key={i} className="relative w-28 h-28 group">
                        <img src={URL.createObjectURL(file)} className="w-full h-full object-cover rounded-lg border" alt="New"/>
                        <Button type="button" variant="destructive" size="icon" className="absolute -top-2 -right-2 w-6 h-6 rounded-full opacity-0 group-hover:opacity-100 transition-opacity" onClick={() => onRemoveNew(i)}><X className="w-4 h-4"/></Button>
                    </div>
                ))}
                {totalPhotos < MAX_PHOTOS && (
                    <Label htmlFor="photo-upload" className="w-28 h-28 border-2 border-dashed rounded-lg flex flex-col items-center justify-center cursor-pointer hover:bg-gray-100 transition-colors text-gray-500 hover:text-gray-700">
                        <UploadCloud className="w-8 h-8"/>
                        <span className="text-xs mt-1">Add Photo</span>
                    </Label>
                )}
            </div>
            <FormControl><Input id="photo-upload" type="file" accept="image/*" multiple onChange={handleFileChange} className="hidden"/></FormControl>
        </FormItem>
    );
};

// Zod schema for validation
const profileFormSchema = z.object({
  name: z.string().min(2, "Name must be at least 2 characters."),
  bio: z.string().max(500, "Bio cannot exceed 500 characters.").optional(),
  location: z.string().optional(),
  timezone: z.string().optional(),
  themeColor: z.string(),
  musicLinks: z.array(z.object({ value: z.string().url("Must be a valid URL.").or(z.literal("")) })).optional(),
  journey: z.array(z.object({
    date: z.string().min(1, "Date is required."),
    title: z.string().min(1, "Title is required."),
    description: z.string().min(1, "Description is required."),
  })).optional(),
  skills: z.array(z.string()).optional(),
  interests: z.array(z.string()).optional(),
  social_links: z.object({
    github: z.string().url().or(z.literal("")).optional(),
    linkedin: z.string().url().or(z.literal("")).optional(),
    twitter: z.string().url().or(z.literal("")).optional(),
    instagram: z.string().url().or(z.literal("")).optional(),
    youtube: z.string().url().or(z.literal("")).optional(),
    calendly: z.string().url("Must be a valid URL.").or(z.literal("")).optional(),
  }).optional(),
  story: z.object({
    type: z.string(),
    text: z.string().optional(),
  }).optional(),
});

type ProfileFormValues = z.infer<typeof profileFormSchema>;

const colorOptions = [
  { value: 'default', label: 'Default', color: 'bg-amber-400' },
  { value: 'white', label: 'Light', color: 'bg-white border' },
  { value: 'black', label: 'Dark', color: 'bg-black' },
  { value: 'purple', label: 'Purple', color: 'bg-purple-500' },
  { value: 'blue', label: 'Blue', color: 'bg-blue-500' },
  { value: 'pink', label: 'Pink', color: 'bg-pink-500' },
];

const ProfileSetup: React.FC = () => {
  const navigate = useNavigate();
  const { toast } = useToast();
  const queryClient = useQueryClient();

  const [existingPhotos, setExistingPhotos] = useState<string[]>([]);
  const [newPhotos, setNewPhotos] = useState<File[]>([]);

  // Fetch the user profile (raw response)
  const { data: profileResponse, isLoading } = useQuery({
    queryKey: ['userProfile'],
    queryFn: () => getUserProfile(),
  });
  // Extract the actual profile data
  const profile = profileResponse?.data;

  // Set default values to prevent uncontrolled component warnings
  const form = useForm<ProfileFormValues>({
    resolver: zodResolver(profileFormSchema),
    defaultValues: {
      name: '',
      bio: '',
      location: '',
      timezone: '',
      themeColor: 'default',
      musicLinks: [{ value: '' }],
      journey: [{ date: '', title: '', description: '' }],
      skills: [],
      interests: [],
      social_links: { github: '', linkedin: '', twitter: '', instagram: '', youtube: '', calendly: '' },
      story: { type: 'text', text: '' },
    },
  });

  const { fields: musicFields, append: appendMusic, remove: removeMusic } = useFieldArray({
    control: form.control,
    name: "musicLinks",
  });
  const { fields: journeyFields, append: appendJourney, remove: removeJourney } = useFieldArray({
    control: form.control,
    name: "journey",
  });

  // Reset form when profile data is fetched
  useEffect(() => {
    if (profile) {
      form.reset({
        name: profile.name || '',
        bio: profile.bio || '',
        location: profile.location || '',
        timezone: profile.timezone || '',
        themeColor: profile.themeColor || 'default',
        musicLinks: profile.musicLinks?.map((l: string) => ({ value: l })) || [{ value: '' }],
        journey: profile.journey?.length > 0 ? profile.journey : [{ date: '', title: '', description: '' }],
        skills: profile.skills || [],
        interests: profile.interests || [],
        social_links: profile.social_links || { github: '', linkedin: '', twitter: '', instagram: '', youtube: '', calendly: '' },
        story: profile.story || { type: 'text', text: '' },
      });
      setExistingPhotos(profile.photos || []);
    }
  }, [profile, form]);
  
  // Photo upload and removal handlers
  const handlePhotoChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    if (e.target.files) {
        const files = Array.from(e.target.files);
        const totalPhotos = existingPhotos.length + newPhotos.length + files.length;
        if (totalPhotos > MAX_PHOTOS) {
            toast({ title: 'Photo limit reached', description: `You can upload a maximum of ${MAX_PHOTOS} photos.`, variant: 'destructive' });
            return;
        }
        setNewPhotos(prev => [...prev, ...files]);
    }
  };

  const handleRemoveExistingPhoto = (url: string) => setExistingPhotos(prev => prev.filter(p => p !== url));
  const handleRemoveNewPhoto = (index: number) => setNewPhotos(prev => prev.filter((_, i) => i !== index));

  const onSubmit = async (data: ProfileFormValues) => {
    try {
      let uploadedPhotoUrls: string[] = [];
      if (newPhotos.length > 0) {
        const uploadPromises = newPhotos.map(file => uploadFile(file, 'profile-picture'));
        const results = await Promise.all(uploadPromises);
        uploadedPhotoUrls = results.map(res => res.data.image.url);
      }

      const finalPayload = {
        ...data,
        musicLinks: data.musicLinks?.map(link => link.value).filter(Boolean),
        photos: [...existingPhotos, ...uploadedPhotoUrls],
      };
      
      const response = await updateUserProfile(finalPayload);
      
      // Invalidate queries to refetch fresh data elsewhere
      queryClient.invalidateQueries({ queryKey: ['userProfile'] });
      queryClient.invalidateQueries({ queryKey: ['publicProfile', response.data.user.username] });

      toast({ title: 'Success', description: 'Your profile has been updated!' });
      navigate(`/${response.data.user.username}`);

    } catch (err: any) {
      toast({ title: 'Error', description: err?.response?.data?.message || 'Failed to update profile', variant: 'destructive' });
    }
  };

  if (isLoading) {
    return <div className="max-w-3xl mx-auto p-8"><Skeleton className="h-96 w-full" /></div>;
  }
  
  return (
    <div className="min-h-screen bg-gray-50 pb-20">
      <Navbar />
      <div className="max-w-3xl mx-auto p-4 md:p-8">
        <div className="flex flex-col sm:flex-row justify-between sm:items-center gap-4 mb-8">
            <div>
                <h1 className="text-3xl font-bold font-sans text-gray-800">Edit Your Profile</h1>
                <p className="text-gray-500 mt-1">This information will be displayed on your public profile.</p>
            </div>
            <Button variant="outline" onClick={() => navigate(`/${profile?.username}`)}>
                <Eye className="w-4 h-4 mr-2"/>
                View Public Profile
            </Button>
        </div>
        <Form {...form}>
          <form onSubmit={form.handleSubmit(onSubmit)} className="space-y-8">
            {/* Core Info Card */}
            <Card>
              <CardHeader><CardTitle>Core Info</CardTitle></CardHeader>
              <CardContent className="space-y-4">
                <FormField control={form.control} name="name" render={({ field }) => (
                  <FormItem><FormLabel>Name</FormLabel><FormControl><Input {...field} /></FormControl><FormMessage /></FormItem>
                )}/>
                <FormField control={form.control} name="bio" render={({ field }) => (
                  <FormItem><FormLabel>Bio</FormLabel><FormControl><Textarea {...field} rows={4} /></FormControl><FormMessage /></FormItem>
                )}/>
                
                {/* THE FIX: Add Location and Timezone fields */}
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <FormField control={form.control} name="location" render={({ field }) => (
                    <FormItem>
                      <FormLabel>Location</FormLabel>
                      <FormControl><Input placeholder="e.g., Delhi, India" {...field} /></FormControl>
                      <FormMessage />
                    </FormItem>
                  )}/>
                  <FormField control={form.control} name="timezone" render={({ field }) => (
                    <FormItem>
                      <FormLabel>Timezone</FormLabel>
                      <FormControl><Input placeholder="e.g., Asia/Kolkata" {...field} /></FormControl>
                      <FormMessage />
                    </FormItem>
                  )}/>
                </div>
              </CardContent>
            </Card>

            {/* Appearance & Photos Card */}
            <Card>
                <CardHeader>
                    <CardTitle>Appearance & Photos</CardTitle>
                    <CardDescription>Customize your profile's look and feel.</CardDescription>
                </CardHeader>
                <CardContent className="space-y-6">
                    <Controller control={form.control} name="themeColor" render={({ field }) => (
                        <FormItem>
                            <FormLabel>Profile Theme</FormLabel>
                            <div className="flex flex-wrap gap-4 pt-2">
                                {colorOptions.map(opt => (
                                    <label key={opt.value} className="flex flex-col items-center cursor-pointer gap-2" onClick={() => field.onChange(opt.value)}>
                                        <input type="radio" {...field} value={opt.value} checked={field.value === opt.value} className="hidden" />
                                        <span className={`w-10 h-10 rounded-full border-2 ${opt.color} ${field.value === opt.value ? 'ring-2 ring-offset-2 ring-blue-500' : ''}`}></span>
                                        <span className="text-xs">{opt.label}</span>
                                    </label>
                                ))}
                            </div>
                        </FormItem>
                    )}/>
                    <ImageUploader 
                        existingPhotos={existingPhotos} 
                        newPhotos={newPhotos}
                        onAddPhotos={(files) => setNewPhotos(prev => [...prev, ...files])}
                        onRemoveExisting={handleRemoveExistingPhoto}
                        onRemoveNew={handleRemoveNewPhoto}
                    />
                </CardContent>
            </Card>
            
            {/* Journey & Skills Card */}
            <Card>
                <CardHeader>
                    <CardTitle>Builder Journey & Skills</CardTitle>
                    <CardDescription>Showcase your experience and expertise.</CardDescription>
                </CardHeader>
                <CardContent className="space-y-6">
                    <div>
                        <Label>Journey</Label>
                        <FormDescription className="mb-2">Chronicle your most important milestones.</FormDescription>
                        {journeyFields.map((field, index) => (
                            <div key={field.id} className="grid grid-cols-[auto_1fr_2fr_auto] gap-2 mb-2 items-start">
                                <Controller control={form.control} name={`journey.${index}.date`} render={({ field }) => <FormItem><FormControl><Input type="date" {...field} /></FormControl><FormMessage /></FormItem>}/>
                                <Controller control={form.control} name={`journey.${index}.title`} render={({ field }) => <FormItem><FormControl><Input placeholder="Title" {...field} /></FormControl><FormMessage /></FormItem>}/>
                                <Controller control={form.control} name={`journey.${index}.description`} render={({ field }) => <FormItem><FormControl><Input placeholder="Description" {...field} /></FormControl><FormMessage /></FormItem>}/>
                                <Button type="button" variant="ghost" size="icon" onClick={() => removeJourney(index)}><Trash2 className="w-4 h-4 text-red-500"/></Button>
                            </div>
                        ))}
                        <Button type="button" variant="outline" size="sm" onClick={() => appendJourney({ date: '', title: '', description: '' })}><Plus className="w-4 h-4 mr-2"/>Add Journey Step</Button>
                    </div>
                    <Controller control={form.control} name="skills" render={({ field }) => (
                        <FormItem>
                            <FormLabel>Technical Skills</FormLabel>
                            <FormControl><TagInput {...field} placeholder="Type a skill and press Enter..."/></FormControl>
                            <FormMessage />
                        </FormItem>
                    )}/>
                    <Controller control={form.control} name="interests" render={({ field }) => (
                        <FormItem>
                            <FormLabel>Soft Skills & Interests</FormLabel>
                            <FormControl><TagInput {...field} placeholder="Type an interest and press Enter..."/></FormControl>
                            <FormMessage />
                        </FormItem>
                    )}/>
                </CardContent>
            </Card>
            
            {/* Links Card */}
            <Card>
              <CardHeader><CardTitle>Social & Music Links</CardTitle></CardHeader>
              <CardContent className="space-y-4">
                <FormField control={form.control} name="social_links.github" render={({ field }) => ( <FormItem><FormLabel>GitHub</FormLabel><FormControl><Input {...field} /></FormControl><FormMessage /></FormItem>)}/>
                <FormField control={form.control} name="social_links.linkedin" render={({ field }) => ( <FormItem><FormLabel>LinkedIn</FormLabel><FormControl><Input {...field} /></FormControl><FormMessage /></FormItem>)}/>
                <FormField control={form.control} name="social_links.twitter" render={({ field }) => ( <FormItem><FormLabel>Twitter</FormLabel><FormControl><Input {...field} /></FormControl><FormMessage /></FormItem>)}/>
                <FormField control={form.control} name="social_links.instagram" render={({ field }) => ( <FormItem><FormLabel>Instagram</FormLabel><FormControl><Input {...field} /></FormControl><FormMessage /></FormItem>)}/>
                <FormField control={form.control} name="social_links.youtube" render={({ field }) => ( <FormItem><FormLabel>YouTube</FormLabel><FormControl><Input {...field} /></FormControl><FormMessage /></FormItem>)}/>
                <FormField control={form.control} name="social_links.calendly" render={({ field }) => (
                  <FormItem><FormLabel>Cal.com/Calendly Link</FormLabel><FormControl><Input placeholder="https://cal.com/your-link or https://calendly.com/your-link" {...field} /></FormControl><FormMessage /></FormItem>)}/>
                <div>
                  <Label className="mb-2 block">Music Links (Spotify Track URLs)</Label>
                  <p className="text-xs text-gray-500 mb-2">
                      Add up to 3 public Spotify track links. Find a song, click "Share", then "Copy Song Link".
                  </p>
                  {musicFields.map((field, index) => (
                    <div key={field.id} className="flex gap-2 mb-2 items-center">
                      <Controller control={form.control} name={`musicLinks.${index}.value`} render={({ field }) => (
                        <FormItem className="flex-grow">
                            <FormControl><Input placeholder="https://open.spotify.com/track/..." {...field} /></FormControl>
                            <FormMessage />
                        </FormItem>
                      )}/>
                      <Button type="button" variant="ghost" size="icon" onClick={() => removeMusic(index)}><Trash2 className="w-4 h-4 text-red-500"/></Button>
                    </div>
                  ))}
                  {musicFields.length < 3 && (
                     <Button type="button" variant="outline" size="sm" onClick={() => appendMusic({ value: '' })}><Plus className="w-4 h-4 mr-2"/>Add Music Link</Button>
                  )}
                </div>
              </CardContent>
            </Card>
            
            <div className="flex justify-end">
              <Button type="submit" className="bg-blue-600 hover:bg-blue-700 min-w-[120px]" disabled={form.formState.isSubmitting}>
                {form.formState.isSubmitting ? <Loader2 className="w-4 h-4 animate-spin"/> : 'Save Changes'}
              </Button>
            </div>
          </form>
        </Form>
      </div>
    </div>
  );
};

export default ProfileSetup;
</file>

<file path="server/src/models/User.ts">
import mongoose, { Document, Schema } from 'mongoose';
import bcrypt from 'bcryptjs';

export interface IUser extends Document {
  user_id: string;
  name: string;
  username: string;
  email: string;
  bio?: string;
  profile_picture?: string;
  cover_image?: string;
  location?: string;
  timezone?: string;
  skills: string[];
  interests: string[];
  social_links: {
    github?: string;
    linkedin?: string;
    twitter?: string;
    personal_site?: string;
    calendly?: string;
  };
  portfolio_slug: string;
  joined_date: Date;
  is_verified: boolean;
  is_admin: boolean;
  password: string;
  resetToken?: string;
  resetTokenExpiry?: Date;
  comparePassword(candidatePassword: string): Promise<boolean>;
  photos: string[]; // up to 5 images
  story?: {
    type: string; // 'image', 'video', 'text'
    url: string;
    text: string;
    created_at: Date;
    expires_at: Date;
  } | null;
  themeColor: string;
  journey: { date: string; title: string; description: string }[];
  musicLinks: string[];
}

const userSchema = new Schema<IUser>({
  user_id: {
    type: String,
    required: true,
    unique: true,
    default: () => `user_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`
  },
  name: {
    type: String,
    required: true,
    trim: true
  },
  username: {
    type: String,
    required: true,
    unique: true,
    trim: true,
    lowercase: true
  },
  email: {
    type: String,
    required: true,
    unique: true,
    lowercase: true,
    trim: true
  },
  bio: {
    type: String,
    maxlength: 500
  },
  profile_picture: {
    type: String,
    default: null
  },
  cover_image: {
    type: String,
    default: null
  },
  location: {
    type: String,
    trim: true
  },
  timezone: {
    type: String,
    trim: true
  },
  skills: [{
    type: String,
    trim: true
  }],
  interests: [{
    type: String,
    trim: true
  }],
  social_links: {
    github: {
      type: String,
      trim: true
    },
    linkedin: {
      type: String,
      trim: true
    },
    twitter: {
      type: String,
      trim: true
    },
    personal_site: {
      type: String,
      trim: true
    },
    calendly: {
      type: String,
      trim: true
    }
  },
  portfolio_slug: {
    type: String,
    required: true,
    unique: true,
    lowercase: true,
    trim: true
  },
  joined_date: {
    type: Date,
    default: Date.now
  },
  is_verified: {
    type: Boolean,
    default: false
  },
  is_admin: {
    type: Boolean,
    default: false
  },
  password: {
    type: String,
    required: true,
    minlength: 6
  },
  resetToken: {
    type: String
  },
  resetTokenExpiry: {
    type: Date
  },
  photos: [{
    type: String,
    trim: true
  }], // up to 5 images
  story: {
    type: Object,
    default: null
  },
  themeColor: {
    type: String,
    default: 'default',
    enum: ['default', 'white', 'black', 'purple', 'blue', 'pink']
  },
  journey: [
    {
      date: { type: String },
      title: { type: String },
      description: { type: String }
    }
  ],
  musicLinks: [{
    type: String,
    trim: true
  }]
}, {
  timestamps: true
});

// Hash password before saving
userSchema.pre('save', async function(next) {
  if (!this.isModified('password')) return next();
  
  try {
    const salt = await bcrypt.genSalt(12);
    this.password = await bcrypt.hash(this.password, salt);
    next();
  } catch (error) {
    next(error as Error);
  }
});

// Compare password method
userSchema.methods.comparePassword = async function(candidatePassword: string): Promise<boolean> {
  return bcrypt.compare(candidatePassword, this.password);
};

export const User = mongoose.model<IUser>('User', userSchema);
</file>

<file path="src/lib/api.ts">
// src/lib/api.ts
import axios from 'axios';

const BASE_URL = 'http://localhost:5000/api';

// Initialize jwtToken from localStorage if present
let jwtToken: string | null = localStorage.getItem('token');

export function setToken(token: string | null) {
  jwtToken = token;
  if (token) {
    localStorage.setItem('token', token);
  } else {
    localStorage.removeItem('token');
  }
}

function getAuthHeaders() {
  return jwtToken ? { Authorization: `Bearer ${jwtToken}` } : {};
}

export const api = axios.create({
  baseURL: BASE_URL,
  headers: {
    'Content-Type': 'application/json',
  },
});

// Attach token to every request if present
api.interceptors.request.use((config) => {
  if (jwtToken) {
    Object.assign(config.headers ?? {}, getAuthHeaders());
  }
  return config;
});

// --- AUTH ---
export async function registerUser(data: any) {
  return api.post('/auth/register', data);
}

export async function loginUser(data: any) {
  return api.post('/auth/login', data);
}

export async function logoutUser() {
  return api.post('/auth/logout');
}

export async function forgotPassword(email: string) {
  return api.post('/auth/forgot-password', { email });
}

export async function resetPassword(token: string, newPassword: string) {
  return api.post('/auth/reset-password', { token, newPassword });
}

// --- USER ---
export async function getUserProfile() {
  return api.get('/auth/me');
}

export async function updateUserProfile(data: any) {
  return api.put('/auth/profile', data);
}

export async function getPublicUserProfile(username: string) {
  return api.get(`/profile/${username}`);
}

// --- USER DELETE ---
export async function deleteUserProfile() {
  return api.delete('/auth/profile');
}

// --- PROJECTS ---
export async function getProjects(params?: any) {
  return api.get('/projects', { params });
}

export async function createProject(data: any) {
  return api.post('/projects', data);
}

export async function getProjectDetails(projectId: string) {
  return api.get(`/projects/${projectId}`);
}

export async function updateProject(projectId: string, data: any) {
  return api.put(`/projects/${projectId}`, data);
}

export async function deleteProject(projectId: string) {
  return api.delete(`/projects/${projectId}`);
}

// --- GRANTS ---
export async function getGrants(params?: any) {
  return api.get('/grants', { params });
}

export async function applyForGrant(data: any) {
  return api.post('/grants', data);
}

export async function getGrantDetails(grantId: string) {
  return api.get(`/grants/${grantId}`);
}

// Admin: Update grant status
export async function updateGrantStatus(grantId: string, data: any) {
  return api.put(`/grants/${grantId}/status`, data);
}

// --- CHALLENGES ---
export async function getChallenges(params?: any) {
  return api.get('/challenges', { params });
}

export async function createChallenge(data: any) {
  return api.post('/challenges', data);
}

export async function getChallengeDetails(challengeId: string) {
  return api.get(`/challenges/${challengeId}`);
}

// Admin: Update challenge
export async function updateChallenge(challengeId: string, data: any) {
  return api.put(`/challenges/${challengeId}`, data);
}

export async function registerForChallenge(challengeId: string) {
  return api.post(`/challenges/${challengeId}/register`);
}

export async function submitChallengeEntry(challengeId: string, data: any) {
  return api.post(`/challenges/${challengeId}/submit`, data);
}

// --- PROGRESS LOGS ---
export async function getProgressLogs(params?: any) {
  return api.get('/progress-logs', { params });
}

export async function createProgressLog(data: any) {
  return api.post('/progress-logs', data);
}

// --- FILE UPLOAD ---
/**
 * Upload a file. For profile pictures, set type = 'profile-picture'.
 * @param file File to upload
 * @param type 'profile-picture' | undefined
 */
export async function uploadFile(file: File, type?: 'profile-picture' | 'cover-image' | 'story') {
  const formData = new FormData();
  if (type === 'profile-picture') {
    formData.append('profile_picture', file);
    return api.post('/upload/profile-picture', formData, {
      headers: {
        'Content-Type': 'multipart/form-data',
        ...getAuthHeaders(),
      },
    });
  } else if (type === 'cover-image') {
    formData.append('cover_image', file);
    return api.post('/upload/cover-image', formData, {
      headers: {
        'Content-Type': 'multipart/form-data',
        ...getAuthHeaders(),
      },
    });
  } else if (type === 'story') {
    formData.append('story', file);
    return api.post('/upload/story', formData, {
      headers: {
        'Content-Type': 'multipart/form-data',
        ...getAuthHeaders(),
      },
    });
  } else {
    formData.append('file', file);
    return api.post('/upload', formData, {
      headers: {
        'Content-Type': 'multipart/form-data',
        ...getAuthHeaders(),
      },
    });
  }
}

// --- SEARCH ---
export async function searchUsers(params: any) {
  return api.get('/search/users', { params });
}

export async function searchProjects(params: any) {
  return api.get('/search/projects', { params });
}

// --- ANALYTICS ---
export async function getPopularSkills() {
  return api.get('/analytics/popular-skills');
}

export async function getPlatformStats() {
  return api.get('/analytics/platform-stats');
}

export async function getAdminAnalytics() {
  return api.get('/search/analytics');
}

// --- ADMIN USER MANAGEMENT ---
export async function getAllUsers(params?: any) {
  return api.get('/auth/admin/users', { params });
}

export async function updateUserRole(userId: string, data: { is_admin?: boolean; is_verified?: boolean }) {
  return api.put(`/auth/admin/users/${userId}`, data);
}

export async function deleteUser(userId: string) {
  return api.delete(`/auth/admin/users/${userId}`);
}

// --- ERROR HANDLING ---
// You can add global error handling here if needed 

export async function adminDeleteGrant(grantId: string) {
  return api.delete(`/grants/${grantId}`);
}

export async function adminDeleteChallenge(challengeId: string) {
  return api.delete(`/challenges/${challengeId}`);
} 

export async function getAnnouncements() {
  return api.get('/announcements');
}

export async function createAnnouncement(data: { title: string; message: string }) {
  return api.post('/announcements', data);
}

export async function deleteAnnouncement(id: string) {
  return api.delete(`/announcements/${id}`);
}
</file>

<file path="src/pages/Index.tsx">
import Hero from "@/components/Hero";
import About from "@/components/About";
import Impact from "@/components/Impact";
import Values from "@/components/Values";
import Events from "@/components/Events";
import Sponsors from "@/components/Sponsors";
import CallToAction from "@/components/CallToAction";
import Footer from "@/components/Footer";
import Partners from "@/components/Partners";
import Ecosystem from "@/components/Ecosystem";

const Index = () => {
  return (
    <main>
      <Hero />
     
      <Values />
      <Events />
      {/* <About /> */}
      <Ecosystem />
      <Impact />
      <Partners />
      {/* <Sponsors />
      <CallToAction /> */}
      <Footer />
    </main>
  );
};

export default Index;
</file>

<file path="src/App.tsx">
import { Toaster } from "@/components/ui/toaster";
import { Toaster as Sonner } from "@/components/ui/sonner";
import { TooltipProvider } from "@/components/ui/tooltip";
import { QueryClient, QueryClientProvider } from "@tanstack/react-query";
import { BrowserRouter, Routes, Route } from "react-router-dom";
import Index from "./pages/Index";
import NotFound from "./pages/NotFound";
import Contact from "./pages/Contact";
import PrivacyPolicy from "./pages/Privacy";
import TermsOfService from "./pages/Terms";
import Login from "./pages/Login";
import Register from "./pages/Register";
import ForgotPassword from "./pages/ForgotPassword";
import ResetPassword from "./pages/ResetPassword";
import Profile from "./pages/Profile";
import Admin from './pages/Admin';
import Projects from './pages/Projects';
import CreateProject from './pages/CreateProject';
import ProjectDetail from './pages/ProjectDetail';
import Grants from './pages/Grants';
import GrantDetailPage from './pages/GrantDetail';
import GrantApply from './pages/GrantApply';
import Challenges from './pages/Challenges';
import ChallengeDetailPage from './pages/ChallengeDetail';
import ProgressLogCreate from './pages/ProgressLogCreate';
import ProgressLogs from './pages/ProgressLogs';
import SearchPage from './pages/Search';
import Dashboard from './pages/Dashboard';
import PublicProfile from './pages/PublicProfile';
import ProfileSetup from './pages/ProfileSetup';
import EditProject from './pages/EditProject';

const queryClient = new QueryClient();

const App = () => (
  <QueryClientProvider client={queryClient}>
    <TooltipProvider>
      <Toaster />
      <Sonner />
      <BrowserRouter>
        <Routes>
          <Route path="/" element={<Index />} />
          <Route path="/contact" element={<Contact />} />
          <Route path="/privacy" element={<PrivacyPolicy />} />
          <Route path="/terms" element={<TermsOfService />} />
          <Route path="/login" element={<Login />} />
          <Route path="/register" element={<Register />} />
          <Route path="/forgot-password" element={<ForgotPassword />} />
          <Route path="/reset-password" element={<ResetPassword />} />
          <Route path="/profile" element={<Profile />} />
         <Route path="/profile-setup" element={<ProfileSetup />} />
          <Route path="/admin" element={<Admin />} />
          <Route path="/projects" element={<Projects />} />
          <Route path="/projects/create" element={<CreateProject />} />
          <Route path="/projects/:projectId" element={<ProjectDetail />} />
          <Route path="/projects/:projectId/edit" element={<EditProject />} />
          <Route path="/grants" element={<Grants />} />
          <Route path="/grants/:grantId" element={<GrantDetailPage />} />
          <Route path="/grants/:grantId/apply" element={<GrantApply />} />
          <Route path="/challenges" element={<Challenges />} />
          <Route path="/challenges/:challengeId" element={<ChallengeDetailPage />} />
          <Route path="/progress-logs/create" element={<ProgressLogCreate />} />
          <Route path="/progress-logs" element={<ProgressLogs />} />
          <Route path="/search" element={<SearchPage />} />
          <Route path="/dashboard" element={<Dashboard />} />
          {/* ADD ALL CUSTOM ROUTES ABOVE THE CATCH-ALL "*" ROUTE */}
        
          <Route path=":username" element={<PublicProfile />} />
          <Route path="*" element={<NotFound />} />
        </Routes>
      </BrowserRouter>
    </TooltipProvider>
  </QueryClientProvider>
);

export default App;
</file>

<file path="src/components/Hero.tsx">
import React from 'react';
import { Button } from '@/components/ui/button';
import { useNavigate } from 'react-router-dom';
import Navbar from './Navbar';

const Hero = () => {
  const navigate = useNavigate();
  const isLoggedIn = Boolean(localStorage.getItem('token'));
  const isAdmin = localStorage.getItem('is_admin') === 'true';
  const events = [
    { eventTitle: "SheBuilds Annual Conference 2023", image: "/1.png" },
    { eventTitle: "Founder's Fireside Chat", image: "/2.png" },
    { eventTitle: "UX/UI Design Sprint Week", image: "/3.png" },
    { eventTitle: "Web3 & Blockchain Workshop", image: "/4.png" },
    { eventTitle: "Data Science for Startups", image: "/5.png" },
    { eventTitle: "Digital Marketing Masterclass", image: "/6.png" },
    { eventTitle: "Leadership in Tech Summit", image: "/7.png" },
    { eventTitle: "Angel Investing & VCs Panel", image: "/8.png" },
    { eventTitle: "SheBuilds Annual Conference 2023", image: "/9.png" },
    { eventTitle: "Founder's Fireside Chat", image: "/10.png" },
    { eventTitle: "UX/UI Design Sprint Week", image: "/11.png" },
    { eventTitle: "Web3 & Blockchain Workshop", image: "/12.png" },
    { eventTitle: "Data Science for Startups", image: "/13.png" },
    { eventTitle: "Digital Marketing Masterclass", image: "/14.png" },
    { eventTitle: "Leadership in Tech Summit", image: "/15.png" },
    { eventTitle: "Angel Investing & VCs Panel", image: "/16.png" },
    { eventTitle: "SheBuilds Annual Conference 2023", image: "/17.png" },
    { eventTitle: "Founder's Fireside Chat", image: "/18.png" },
    { eventTitle: "UX/UI Design Sprint Week", image: "/19.png" },
    { eventTitle: "Web3 & Blockchain Workshop", image: "/20.png" },
    { eventTitle: "Data Science for Startups", image: "/21.png" },
    { eventTitle: "Digital Marketing Masterclass", image: "/22.png" },
    { eventTitle: "Leadership in Tech Summit", image: "/23.png" },
    { eventTitle: "Angel Investing & VCs Panel", image: "/24.png" },
    { eventTitle: "SheBuilds Annual Conference 2023", image: "/25.png" },
    { eventTitle: "Founder's Fireside Chat", image: "/26.png" },
    { eventTitle: "UX/UI Design Sprint Week", image: "/27.png" },
    { eventTitle: "Web3 & Blockchain Workshop", image: "/28.png" },
    { eventTitle: "Data Science for Startups", image: "/29.png" },
  ];

  // Create duplicated arrays for seamless scrolling
  const topRowEvents = [...events, ...events];
  const bottomRowEvents = [...events.slice().reverse(), ...events.slice().reverse()];

  return (
    <div className="min-h-screen bg-white">
      <Navbar />

      {/* Announcement Banner */}
      <div className="bg-gray-50 text-center py-3">
        <p className="text-sm text-gray-600 font-inter">
          Join a community of over <span className="text-orange-500 font-semibold">10,000+</span> builders and leaders
          <span className="ml-2">→</span>
        </p>
      </div>

      {/* Hero Content */}
      <section className="relative px-6 py-16 text-center">
        {/* Animated Butterfly */}
        <img
          src="/butterfly.png"
          alt="Animated Butterfly"
          className="butterfly"
        />

        <div className="max-w-4xl mx-auto">
          <h1 className="text-6xl md:text-7xl font-light mb-8 text-gray-900 leading-tight font-martian">
            Bridging <span id="gaps-target" className="relative">Gaps</span>,
            <br />
            Building Futures.
          </h1>
          
          {/* <p className="text-xl md:text-2xl text-gray-600 mb-12 max-w-3xl mx-auto font-inter font-light">
            SheBuilds is an inclusive community and fellowship program dedicated to empowering women in technology and entrepreneurship. At its core, SheBuilds is more than just a network — it's a movement.
          </p> */}
          
          <div className="flex flex-col sm:flex-row gap-4 justify-center items-center mb-16">
            <Button className="bg-amber-800 hover:bg-amber-900 text-white px-8 py-3 text-base font-medium rounded-full font-inter" onClick={() => navigate('/projects')}>
              Explore Projects
            </Button>
            <Button variant="ghost" className="text-gray-700 hover:text-gray-900 px-8 py-3 text-base font-medium font-inter" onClick={() => navigate('/community')}>
              Explore Community
            </Button>
            {!isLoggedIn && (
              <Button className="bg-amber-800 hover:bg-amber-900 text-white px-8 py-3 text-base font-medium rounded-full font-inter" onClick={() => navigate('/register')}>
                Join SheBuilds
              </Button>
            )}
          </div>
        </div>

        {/* Auto-Scrolling Event Cards */}
        <div className="max-w-full mx-auto overflow-hidden scrolling-rows">
          {/* Top Row - Right to Left */}
          <div className="flex animate-scroll-right mb-8">
            {topRowEvents.map((event, index) => (
              <div key={`top-${index}`} className="flex-shrink-0 w-96 mx-4">
                <div className="relative h-56 rounded-2xl overflow-hidden shadow-lg group cursor-pointer">
                  <img
                    src={event.image}
                    alt={event.eventTitle}
                    className="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                  />
                </div>
              </div>
            ))}
          </div>

          {/* Bottom Row - Left to Right */}
          <div className="flex animate-scroll-left">
            {bottomRowEvents.map((event, index) => (
              <div key={`bottom-${index}`} className="flex-shrink-0 w-96 mx-4">
                <div className="relative h-56 rounded-2xl overflow-hidden shadow-lg group cursor-pointer">
                  <img
                    src={event.image}
                    alt={event.eventTitle}
                    className="w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                  />
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Animation styles */}
      <style dangerouslySetInnerHTML={{
        __html: `
        @keyframes scroll-left {
          from { transform: translateX(0); }
          to { transform: translateX(-50%); }
        }

        @keyframes scroll-right {
          from { transform: translateX(-50%); }
          to { transform: translateX(0); }
        }
        
        .animate-scroll-left {
          animation: scroll-left 20s linear infinite;
        }
        
        .animate-scroll-right {
          animation: scroll-right 20s linear infinite;
        }
        
        .scrolling-rows:hover .animate-scroll-left,
        .scrolling-rows:hover .animate-scroll-right {
          animation-play-state: paused;
        }

        .butterfly {
          position: absolute;
          width: 70px;
          height: 70px;
          transform: scale(0.8);
          animation: fly-and-sit 15s ease-in-out infinite;
          z-index: 10;
          pointer-events: auto;
          transition: transform 0.3s, filter 0.3s;
          filter: brightness(0.6);
        }

        .butterfly:hover {
          animation-play-state: paused;
          transform: scale(1.1);
          filter: drop-shadow(0 0 10px rgba(255, 165, 0, 0.7));
        }

        @keyframes fly-and-sit {
          0%, 100% {
            top: 10%;
            left: -10%;
            transform: scale(0.8) rotate(20deg);
          }
          15% {
            top: 60%;
            left: 30%;
            transform: scale(1) rotate(-10deg);
          }
          30% {
            top: 30%;
            left: 70%;
            transform: scale(0.9) rotate(30deg);
          }
          45% {
            top: 50%;
            left: 95%;
            transform: scale(1) rotate(0deg);
          }
          
          /* Land on "Gaps" */
          60% {
            /* These values are fine-tuned for a typical 1080p screen. */
            /* The butterfly will land relative to the heading. */
            top: calc(50% - 220px);
            left: calc(50% - 40px);
            transform: scale(0.5) rotate(0deg) translateY(-50%);
          }

          /* Sit on "Gaps" for a few seconds */
          75% {
            top: calc(50% - 220px);
            left: calc(50% - 40px);
            transform: scale(0.5) rotate(0deg) translateY(-50%);
          }

          90% {
            top: 20%;
            left: 110%;
            transform: scale(0.9) rotate(10deg);
          }
        }

        @keyframes fade-in-up {
          from { opacity: 0; transform: translateY(30px); }
          to { opacity: 1; transform: translateY(0); }
        }

        .animate-fade-in-up { animation: fade-in-up 0.8s ease-out forwards; }
        .animation-delay-200 { animation-delay: 0.2s; opacity: 0; }
        .animation-delay-400 { animation-delay: 0.4s; opacity: 0; }
        .animation-delay-600 { animation-delay: 0.6s; opacity: 0; }
      `}} />
    </div>
  );
};

export default Hero;
</file>

<file path="src/pages/PublicProfile.tsx">
import React, { useMemo, useState } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import { useParams, useNavigate } from 'react-router-dom';
import { useQuery } from '@tanstack/react-query';

import { getPublicUserProfile, getUserProfile } from '../lib/api';
import { Button } from '@/components/ui/button';
import { Skeleton } from '@/components/ui/skeleton';
import { cn } from '@/lib/utils';
import { Github, Linkedin, Twitter, Eye, BookOpen, Rocket, Computer, Sparkles, Music, Pencil, X, ArrowUpRight } from 'lucide-react';
import { Badge } from '@/components/ui/badge';

// --- Type Definitions for API Data ---

/** Defines the structure for social media links. */
interface SocialLinks {
  github?: string;
  linkedin?: string;
  twitter?: string;
  calendly?: string;
}

/** A structured journey log entry. */
interface JourneyLog {
  _id: string;
  date: string;
  title: string;
  description: string;
  tags?: string[];
}

/** The legacy progress log format. */
interface ProgressLog {
  _id:string;
  createdAt: string;
  content: string;
}

/** A combined type to gracefully handle both new and legacy log formats. */
type CombinedLog = Partial<JourneyLog> & Partial<ProgressLog>;

/** A user's project. */
interface Project {
  _id: string;
  title: string;
  description: string;
  cover_image?: string;
  project_url?: string;
  tags?: string[];
}

/** The main user profile structure. */
interface User {
  _id: string;
  name: string;
  username: string;
  email: string;
  bio?: string;
  profile_picture?: string;
  cover_image?: string;
  skills?: string[];
  social_links?: SocialLinks;
  portfolio_slug?: string;
  themeColor?: keyof typeof THEMES;
  photos?: string[];
  musicLinks?: string[];
  journey?: JourneyLog[];
}

/** The complete data structure returned by the public profile API endpoint. */
interface ProfileData {
  user: User;
  projects: Project[];
  progress_logs: ProgressLog[];
}


// --- Reusable Icon Components ---
const icons = {
  github: <Github className="w-5 h-5" />,
  linkedin: <Linkedin className="w-5 h-5" />,
  twitter: <Twitter className="w-5 h-5" />,
};

// --- THEME DEFINITIONS ---
const THEMES = {
  default: { // Amber/Orange Theme
    bg: "from-orange-50 via-amber-50 to-white",
    card: "bg-white/80 border-amber-100 backdrop-blur-sm",
    textHeader: "text-gray-800",
    textBody: "text-gray-600",
    textAccent: "text-amber-700",
    button: "bg-amber-200 hover:bg-amber-300 text-amber-900 border border-amber-300",
    socialBg: "bg-amber-100",
    badge: "bg-amber-100 text-amber-800 border-amber-200",
    timelineDot: "bg-amber-400",
  },
  purple: { // Purple Theme
    bg: "from-purple-50 via-fuchsia-50 to-white",
    card: "bg-white/80 border-purple-100 backdrop-blur-sm",
    textHeader: "text-indigo-900",
    textBody: "text-gray-600",
    textAccent: "text-purple-600",
    button: "bg-purple-200 hover:bg-purple-300 text-purple-900 border border-purple-300",
    socialBg: "bg-purple-100",
    badge: "bg-purple-100 text-purple-800 border-purple-200",
    timelineDot: "bg-purple-400",
  },
  pink: {
    bg: "from-pink-50 via-fuchsia-50 to-white",
    card: "bg-white/80 border-pink-100 backdrop-blur-sm",
    textHeader: "text-pink-900",
    textBody: "text-gray-600",
    textAccent: "text-pink-600",
    button: "bg-pink-200 hover:bg-pink-300 text-pink-900 border border-pink-300",
    socialBg: "bg-pink-100",
    badge: "bg-pink-100 text-pink-800 border-pink-200",
    timelineDot: "bg-pink-400",
  },
  blue: { bg: "from-blue-50 via-cyan-50 to-white", card: "bg-white/80 border-blue-100", textHeader: "text-blue-900", textBody: "text-gray-600", textAccent: "text-blue-600", button: "bg-blue-200 hover:bg-blue-300 text-blue-900 border border-blue-300", socialBg: "bg-blue-100", badge: "bg-blue-100 text-blue-800 border-blue-200", timelineDot: "bg-blue-400" },
  black: {
    bg: "from-gray-900 via-black to-gray-800",
    card: "bg-gray-800/80 border-gray-700 backdrop-blur-sm",
    textHeader: "text-gray-100",
    textBody: "text-gray-400",
    textAccent: "text-amber-400",
    button: "bg-gray-700 hover:bg-gray-600 text-amber-400 border border-gray-600",
    socialBg: "bg-gray-700",
    badge: "bg-gray-700 text-gray-200 border-gray-600",
    timelineDot: "bg-amber-500",
  },
  white: { bg: "from-gray-100 via-white to-gray-50", card: "bg-white/90 border-gray-200", textHeader: "text-gray-800", textBody: "text-gray-600", textAccent: "text-gray-900", button: "bg-gray-200 hover:bg-gray-300 text-gray-900 border border-gray-300", socialBg: "bg-gray-100", badge: "bg-gray-200 text-gray-800 border-gray-300", timelineDot: "bg-gray-400" },
};

type Theme = typeof THEMES.default;

// --- Reusable Helper Components ---
const StatCard = ({ icon: Icon, label, value, theme }: { icon: React.ElementType, label:string, value: string | number, theme: Theme }) => (
  <div className={cn('rounded-2xl', theme.card, 'p-6 flex flex-col items-center justify-center transition-all duration-200 hover:-translate-y-1 border')}>
    <div className={cn("mb-3 flex items-center justify-center w-12 h-12 rounded-full border", theme.socialBg, theme.textAccent)}>
      <Icon className={cn("w-7 h-7", theme.textAccent)} />
    </div>
    <div className={cn("text-3xl font-bold mb-1", theme.textHeader)}>
      {value}
    </div>
    <div className={cn("text-xs font-bold tracking-widest uppercase mt-1", theme.textBody)}>
      {label}
    </div>
  </div>
);

const EmptyState = ({ icon: Icon, message }: { icon: React.ElementType, message: string }) => (
  <div className="flex flex-grow flex-col items-center justify-center text-center py-8">
    <Icon className="w-10 h-10 mb-3 text-gray-400" />
    <p className="text-sm text-gray-500">{message}</p>
  </div>
);

const MusicPlayer = ({ url, themeKey }: { url: string, themeKey: keyof typeof THEMES }) => {
  const getEmbedUrl = (spotifyUrl: string, theme: keyof typeof THEMES): string | null => {
    try {
      const urlObj = new URL(spotifyUrl);
      if (urlObj.hostname !== 'open.spotify.com') return null;
      const pathParts = urlObj.pathname.split('/');
      if (pathParts[1] === 'track' && pathParts[2]) {
        const isDark = theme === 'black';
        return `https://open.spotify.com/embed/track/${pathParts[2]}?theme=${isDark ? '1' : '0'}`;
      }
      return null;
    } catch (error) {
      return null;
    }
  };

  const embedUrl = getEmbedUrl(url, themeKey);

  if (!embedUrl) {
    return (
      <div className={cn("rounded-xl p-3 text-xs text-center opacity-70", THEMES[themeKey].socialBg, THEMES[themeKey].textBody)}>
        Invalid Spotify Link
      </div>
    );
  }

  return (
    <iframe
      style={{ borderRadius: '12px' }}
      src={embedUrl}
      width="100%"
      height="80"
      frameBorder="0"
      allowFullScreen={false}
      allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
      loading="lazy"
      title={`Spotify Player for ${url}`}
    ></iframe>
  );
};

// --- Skeleton Component ---
const PublicProfileSkeleton = () => (
    <main className="min-h-screen bg-gray-50 font-inter px-4 md:px-12 lg:px-24 pt-12 pb-8">
        <div className="max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-[380px_1fr] gap-10">
            <aside className="h-fit lg:sticky lg:top-8">
                <Skeleton className="w-full h-40 rounded-t-3xl"/>
                <div className="bg-white/90 rounded-b-3xl p-8 pt-20 flex flex-col items-center gap-6 -mt-16 relative">
                    <Skeleton className="w-32 h-32 rounded-2xl absolute -top-16 border-4 border-white"/>
                    <div className="flex flex-col items-center w-full pt-16">
                        <Skeleton className="h-7 w-48 mt-2" />
                        <Skeleton className="h-5 w-32 mt-2" />
                        <Skeleton className="h-4 w-40 mt-1" />
                        <Skeleton className="h-10 w-32 mt-4 rounded-full" />
                        <Skeleton className="h-12 w-full mt-4" />
                    </div>
                    <div className="flex gap-4 justify-center mt-2">
                      <Skeleton className="w-10 h-10 rounded-lg" />
                      <Skeleton className="w-10 h-10 rounded-lg" />
                      <Skeleton className="w-10 h-10 rounded-lg" />
                    </div>
                </div>
            </aside>
            <section className="flex flex-col gap-8">
                <Skeleton className="h-64 w-full rounded-2xl" />
                <Skeleton className="h-48 w-full rounded-2xl" />
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <Skeleton className="h-40 w-full rounded-2xl" />
                    <Skeleton className="h-40 w-full rounded-2xl" />
                </div>
            </section>
        </div>
    </main>
);

// --- Main Profile Component ---
const PublicProfile: React.FC = () => {
    const [showPhotoModal, setShowPhotoModal] = useState(false);
    const [showWorksModal, setShowWorksModal] = useState(false);
    const { username } = useParams<{ username: string }>();
    const navigate = useNavigate();
    const isLoggedIn = !!localStorage.getItem('token');

    const { data: profileData, isLoading, isError, error } = useQuery<ProfileData, Error>({
      queryKey: ['publicProfile', username],
      queryFn: () => getPublicUserProfile(username!).then(res => res.data),
      enabled: !!username,
    });
    const { data: currentUserData } = useQuery<{username: string}, Error>({
      queryKey: ['currentUser'],
      queryFn: () => getUserProfile().then(res => res.data),
      enabled: isLoggedIn,
    });

    const isOwner = useMemo(() => currentUserData?.username === profileData?.user?.username, [currentUserData, profileData]);

    if (isLoading) return <PublicProfileSkeleton />;
    if (isError || !profileData) {
      return (
        <div className="flex flex-col justify-center items-center min-h-screen text-red-500 bg-gray-50">
          <h2 className="text-2xl font-bold mb-2">Profile Not Found</h2>
          <p>{error?.message || 'This user does not exist or has not set up their profile.'}</p>
          <Button onClick={() => navigate('/')} className="mt-4">Go Home</Button>
        </div>
      );
    }

    const { user, projects, progress_logs } = profileData;
    const themeKey = user.themeColor && THEMES[user.themeColor] ? user.themeColor : 'default';
    const theme = THEMES[themeKey];
    const allPhotos = user.photos || [];

    const journeyLogs: CombinedLog[] = user.journey && user.journey.length > 0 ? user.journey : progress_logs;

    return (
      <>
        <main className={cn("min-h-screen bg-gradient-to-br font-inter relative overflow-x-hidden px-2 sm:px-4 md:px-8 pt-8 pb-8 transition-colors duration-500", theme.bg)}>
          <div
            className="max-w-7xl mx-auto grid grid-cols-1 sm:grid-cols-4 lg:grid-cols-6 auto-rows-[minmax(120px,auto)] gap-6"
            style={{ gridAutoFlow: 'dense' }}
          >
            {/* Profile Card */}
            <div className={cn('rounded-2xl', theme.card, 'p-6 flex flex-col items-center col-span-full sm:col-span-2 row-span-2 transition-all duration-200 hover:-translate-y-1 border')}>
              <div className="w-full h-28 sm:h-32 rounded-t-2xl overflow-hidden -mx-6 -mt-6">
                {user?.cover_image && <img src={user.cover_image} alt="Cover" className="w-full h-full object-cover" /> }
              </div>
              <div className="relative w-full flex flex-col items-center mt-[-64px] z-10">
                <div className={cn("w-28 h-28 rounded-2xl border-4 overflow-hidden shadow-lg flex items-center justify-center", theme.card, "border-white")}>
                   <img src={user?.profile_picture || "/placeholder.svg"} alt={user?.name} className="w-full h-full object-cover"/>
                </div>
                 {isOwner && (
                  <button onClick={() => navigate('/profile-setup')} className={cn("absolute bottom-0 right-[calc(50%-60px)] w-8 h-8 flex items-center justify-center rounded-full shadow-md border-2 z-20 transition-all", themeKey === 'black' ? 'bg-amber-400 border-gray-800 hover:bg-amber-300' : 'bg-white border-white hover:bg-gray-100')} title="Edit Profile">
                    <Pencil className={cn("w-4 h-4", themeKey === 'black' ? 'text-gray-900' : 'text-gray-700')} />
                  </button>
                )}
              </div>
              <div className="pt-4 pb-2 px-2 w-full flex flex-col items-center text-center">
                <div className="flex items-center gap-2 mb-2">
                    <span className="w-2 h-2 rounded-full bg-green-400 animate-pulse" />
                    <span className="text-xs text-green-500 font-medium">Available for work</span>
                </div>
                <h1 className={cn("text-3xl font-extrabold mb-1", theme.textHeader)}>{user?.name || 'No Name'}</h1>
                <p className={cn("text-lg font-mono", theme.textAccent)}>@{user?.username}</p>
                {user?.portfolio_slug && <p className={cn("text-xs mt-1", theme.textBody)}>shebuilds.tech/{user.portfolio_slug}</p>}
                <p className={cn("text-base mt-3 mb-4", theme.textBody)}>{user?.bio}</p>
                <div className="flex gap-3 justify-center mt-auto">
                    {user?.social_links?.github && <a href={user.social_links.github} className={cn("rounded-lg p-2 transition-colors", theme.socialBg, theme.textAccent)} title="GitHub" target="_blank" rel="noopener noreferrer">{icons.github}</a>}
                    {user?.social_links?.linkedin && <a href={user.social_links.linkedin} className={cn("rounded-lg p-2 transition-colors", theme.socialBg, theme.textAccent)} title="LinkedIn" target="_blank" rel="noopener noreferrer">{icons.linkedin}</a>}
                    {user?.social_links?.twitter && <a href={user.social_links.twitter} className={cn("rounded-lg p-2 transition-colors", theme.socialBg, theme.textAccent)} title="Twitter" target="_blank" rel="noopener noreferrer">{icons.twitter}</a>}
                </div>
              </div>
            </div>

            <div className="col-span-1 row-span-1"><StatCard icon={Rocket} label="Projects" value={projects?.length || 0} theme={theme} /></div>
            <div className="col-span-1 row-span-1"><StatCard icon={BookOpen} label="Progress" value={journeyLogs?.length || 0} theme={theme} /></div>

            <div className={cn('rounded-2xl', theme.card, 'p-6 flex flex-col col-span-full sm:col-span-2 transition-all duration-200 hover:-translate-y-1 border')}>
              <h3 className={cn("text-base font-semibold mb-3 flex items-center gap-2", theme.textHeader)}><Computer className="w-5 h-5 opacity-80" /> Tech Stack</h3>
              {user?.skills?.length > 0 ? (
                <div className="flex flex-wrap gap-2">{user.skills.map((skill) => <Badge key={skill} variant="secondary" className={cn("font-medium", theme.badge)}>{skill}</Badge>)}</div>
              ) : <EmptyState icon={Computer} message="No skills listed." />}
            </div>
            
            <div className={cn('rounded-2xl', theme.card, 'p-6 flex flex-col col-span-full sm:col-span-2 transition-all duration-200 hover:-translate-y-1 border')}>
                <h3 className={cn("text-base font-semibold mb-3 flex items-center gap-2", theme.textHeader)}><Rocket className="w-5 h-5 opacity-80" /> Works Gallery</h3>
                {projects?.length > 0 ? (
                    <div className="flex-grow grid grid-cols-3 gap-3 mb-4">
                        {projects.slice(0, 3).map((project) => (
                           <button
                             key={project._id}
                             onClick={() => setShowWorksModal(true)}
                             className="relative aspect-square rounded-lg overflow-hidden group border-2 border-transparent hover:border-current transition-all duration-300 focus:border-current focus:outline-none"
                           >
                            {project.cover_image ? (
                              <>
                                <img src={project.cover_image} alt={project.title} className="object-cover w-full h-full transition-transform duration-300 group-hover:scale-110" />
                                <div className="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-2">
                                    <span className="text-white text-xs font-bold text-center w-full truncate">{project.title}</span>
                                </div>
                              </>
                            ) : (
                              <div className={cn("flex items-center justify-center w-full h-full p-2 text-center transition-colors", theme.socialBg, "group-hover:opacity-80")}>
                                <span className={cn("text-xs font-semibold", theme.textHeader)}>{project.title}</span>
                              </div>
                            )}
                          </button>
                        ))}
                    </div>
                ) : <EmptyState icon={Rocket} message="No works to show yet." />}
                <Button onClick={() => setShowWorksModal(true)} className={cn("mt-auto w-full", theme.button)}>View All Works</Button>
            </div>
            
            <div className={cn('rounded-2xl', theme.card, 'p-6 flex flex-col col-span-full sm:col-span-2 justify-between transition-all duration-200 hover:-translate-y-1 border')}>
                <h3 className={cn("text-base font-semibold flex items-center gap-2 mb-4", theme.textHeader)}><Sparkles className={cn("w-5 h-5", theme.textAccent)} /> Contact & Online Presence</h3>
                <div className={cn("rounded-2xl p-4 flex flex-col items-center text-center shadow-inner", theme.card, "border")}>
                    <p className={cn("text-lg font-bold mb-1", theme.textHeader)}>Let's Work Together</p>
                    <p className={cn("text-xs mb-4", theme.textBody)}>Interested in collaborating? Reach out!</p>
                    <div className="flex flex-col sm:flex-row gap-3 w-full justify-center">
                        <a href={`mailto:${user?.email || ''}`} className={cn("flex-1 rounded-lg px-4 py-2 text-sm font-semibold flex items-center justify-center gap-2", theme.button)}>Email Me</a>
                        <Button asChild className={cn("flex-1", theme.button)} disabled={!user?.social_links?.calendly}>
                          <a href={user?.social_links?.calendly} target="_blank" rel="noopener noreferrer">Schedule a Call</a>
                        </Button>
                    </div>
                </div>
            </div>

            <div className={cn('rounded-2xl', theme.card, 'p-6 flex flex-col col-span-full sm:col-span-2 transition-all duration-200 hover:-translate-y-1 border')}>
              <h3 className={cn("text-lg font-bold flex items-center gap-3 mb-6", theme.textHeader)}><BookOpen className="w-5 h-5 opacity-80" /> Builder Journey</h3>
              {journeyLogs?.length > 0 ? (
                <div className="relative space-y-4 max-h-[350px] overflow-y-auto pr-3 -mr-3 scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent">
                  {journeyLogs.map((log, idx) => (
                    <div key={log._id} className="relative flex items-start group pl-6">
                      <div className={cn("absolute left-0 top-1 w-4 h-4 rounded-full border-2 z-10 transition-all", theme.timelineDot, themeKey === 'black' ? 'border-amber-400 bg-amber-400' : 'border-white shadow-sm', "group-hover:scale-110")} />
                      {idx < journeyLogs.length - 1 && <div className={cn("absolute left-[7px] top-4 w-0.5 h-full", themeKey === 'black' ? 'bg-gray-700' : 'bg-gray-200')} />}
                      <div className="flex-1">
                        <p className={cn("text-xs mb-1", theme.textBody)}>
                          {new Date(log.date || log.createdAt!).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}
                        </p>
                        <h4 className={cn("font-semibold text-sm leading-tight mb-2", theme.textHeader)}>{log.title || 'Progress Update'}</h4>
                        <p className={cn("text-sm leading-relaxed", theme.textBody)}>{log.description || log.content}</p>
                      </div>
                    </div>
                  ))}
                </div>
              ) : <EmptyState icon={BookOpen} message="No journey documented yet." />}
            </div>

            <div className={cn('rounded-2xl', theme.card, 'p-6 flex flex-col col-span-full sm:col-span-2 transition-all duration-200 hover:-translate-y-1 border')}>
              <h3 className={cn("text-base font-semibold flex items-center gap-2 mb-4", theme.textHeader)}><Eye className="w-5 h-5 opacity-80" /> Photo Gallery <Badge variant="secondary" className={cn(theme.badge, "ml-2")}>{allPhotos.length}</Badge></h3>
              {allPhotos.length > 0 ? (
                <>
                  <div className="grid grid-cols-2 gap-4 mb-4">
                    {allPhotos.slice(0, 4).map((photo, idx) => (
                      <button key={idx} onClick={() => setShowPhotoModal(true)} className="relative aspect-square rounded-lg overflow-hidden group">
                        <img src={photo} alt={`Gallery photo ${idx + 1}`} className="object-cover w-full h-full transition-transform duration-300 group-hover:scale-105" />
                        <div className="absolute inset-0 bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity" />
                      </button>
                    ))}
                  </div>
                  {allPhotos.length > 4 && <Button onClick={() => setShowPhotoModal(true)} className={cn("mt-auto w-full", theme.button)}>View All Photos</Button>}
                </>
              ) : <EmptyState icon={Eye} message="No photos uploaded yet." />}
            </div>

            {/* --- MODIFIED: Professional Current Vibes Section --- */}
            {user.musicLinks && user.musicLinks.length > 0 && (
              <div className={cn('rounded-2xl', theme.card, 'p-6 flex flex-col col-span-full sm:col-span-2 transition-all duration-200 hover:-translate-y-1 border')}>
                <h3 className={cn("text-base font-semibold flex items-center gap-2 mb-4", theme.textHeader)}><Music className="w-5 h-5 opacity-80" /> Current Vibes</h3>
                <div className="flex flex-col space-y-4 flex-grow justify-around">
                    {user.musicLinks.slice(0, 3).map((link, idx) => (
                        <MusicPlayer key={idx} url={link} themeKey={themeKey} />
                    ))}
                </div>
              </div>
            )}
          </div>
        </main>

        <AnimatePresence>
          {showPhotoModal && (
            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4" onClick={() => setShowPhotoModal(false)}>
              <motion.div 
                initial={{ opacity: 0, scale: 0.9, y: 20 }}
                animate={{ opacity: 1, scale: 1, y: 0 }}
                exit={{ opacity: 0, scale: 0.9, y: 20 }}
                transition={{ duration: 0.3, ease: [0.19, 1.0, 0.22, 1.0] }}
                className={cn("relative rounded-2xl p-4 md:p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto", theme.card, themeKey === 'black' ? 'bg-gray-900' : 'bg-white')} 
                onClick={e => e.stopPropagation()}
              >
                <Button onClick={() => setShowPhotoModal(false)} variant="ghost" size="icon" className="absolute top-2 right-2 rounded-full z-10"><X className="w-5 h-5" /></Button>
                <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
                  {allPhotos.map((photo, idx) => <motion.img key={idx} src={photo} alt={`Photo ${idx + 1}`} className="rounded-lg object-cover w-full h-48 shadow-md" initial={{ opacity: 0, scale: 0.9 }} animate={{ opacity: 1, scale: 1 }} transition={{ delay: idx * 0.05 }} />)}
                </div>
              </motion.div>
            </motion.div>
          )}

          {showWorksModal && (
            <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} exit={{ opacity: 0 }} className="fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4" onClick={() => setShowWorksModal(false)}>
              <motion.div 
                initial={{ opacity: 0, scale: 0.9, y: 20 }}
                animate={{ opacity: 1, scale: 1, y: 0 }}
                exit={{ opacity: 0, scale: 0.9, y: 20 }}
                transition={{ duration: 0.3, ease: [0.19, 1.0, 0.22, 1.0] }}
                className={cn("relative rounded-2xl p-4 md:p-6 max-w-4xl w-full max-h-[90vh] overflow-y-auto", theme.card, themeKey === 'black' ? 'bg-gray-900' : 'bg-white')} 
                onClick={e => e.stopPropagation()}
              >
                <Button onClick={() => setShowWorksModal(false)} variant="ghost" size="icon" className="absolute top-2 right-2 rounded-full z-10"><X className="w-5 h-5" /></Button>
                <h3 className={cn("text-2xl font-bold mb-6", theme.textHeader)}>All Works</h3>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                  {projects.map(project => (
                    <motion.div key={project._id} className={cn("rounded-xl p-4 border flex flex-col group", theme.card)} initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.5 }}>
                      {project.cover_image && <div className="aspect-video rounded-md overflow-hidden mb-4"><img src={project.cover_image} alt={project.title} className="w-full h-full object-cover"/></div>}
                      <h4 className={cn("font-bold text-lg", theme.textHeader)}>{project.title}</h4>
                      <p className={cn("text-sm mt-1 mb-3 flex-grow", theme.textBody)}>{project.description}</p>
                      <div className="flex flex-wrap gap-2 mt-2">
                        {project.tags?.map(tag => <Badge key={tag} variant="secondary" className={cn(theme.badge, "font-normal")}>{tag}</Badge>)}
                      </div>
                      {project.project_url && (
                        <a href={project.project_url} target="_blank" rel="noopener noreferrer" className={cn("mt-4 text-sm font-semibold flex items-center gap-1 transition-colors", theme.textAccent, "hover:underline")}>
                          View Project <ArrowUpRight className="w-4 h-4" />
                        </a>
                      )}
                    </motion.div>
                  ))}
                </div>
              </motion.div>
            </motion.div>
          )}
        </AnimatePresence>
      </>
    );
};

export default PublicProfile;
</file>

</files>
